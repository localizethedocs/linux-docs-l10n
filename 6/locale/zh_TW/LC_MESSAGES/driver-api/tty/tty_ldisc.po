# SOME DESCRIPTIVE TITLE.
# Copyright (C) The kernel development community
# This file is distributed under the same license as the The Linux Kernel package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: The Linux Kernel 6\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2025-11-11 08:52+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: zh_TW\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../../driver-api/tty/tty_ldisc.rst:5
msgid "TTY Line Discipline"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc.rst:9
msgid ""
"TTY line discipline process all incoming and outgoing character from/to a "
"tty device. The default line discipline is :doc:`N_TTY <n_tty>`. It is also "
"a fallback if establishing any other discipline for a tty fails. If even "
"N_TTY fails, N_NULL takes over. That never fails, but also does not process "
"any characters -- it throws them away."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc.rst:16
msgid "Registration"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc.rst:18
msgid ""
"Line disciplines are registered with tty_register_ldisc() passing the ldisc "
"structure. At the point of registration the discipline must be ready to use "
"and it is possible it will get used before the call returns success. If the "
"call returns an error then it wonâ€™t get called. Do not re-use ldisc numbers "
"as they are part of the userspace ABI and writing over an existing ldisc "
"will cause demons to eat your computer. You must not re-register over the "
"top of the line discipline even with the same data or your computer again "
"will be eaten by demons. In order to remove a line discipline call "
"tty_unregister_ldisc()."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc.rst:27
msgid ""
"Heed this warning: the reference count field of the registered copies of the "
"tty_ldisc structure in the ldisc table counts the number of lines using this "
"discipline. The reference count of the tty_ldisc structure within a tty "
"counts the number of active users of the ldisc at this instant. In effect it "
"counts the number of threads of execution within an ldisc method (plus those "
"about to enter and exit although this detail matters not)."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:34: drivers/tty/tty_ldisc.c:50
msgid "install a line discipline"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:34: drivers/tty/tty_ldisc.c:54
#: drivers/tty/tty_ldisc.c:78 ../../../driver-api/tty/tty_ldisc:40:
#: drivers/tty/tty_ldisc.c:382 drivers/tty/tty_ldisc.c:514
#: ../../../driver-api/tty/tty_ldisc:68: drivers/tty/tty_ldisc.c:227
#: drivers/tty/tty_ldisc.c:256 drivers/tty/tty_ldisc.c:277
#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:126
#: drivers/tty/tty_ldisc.c:177 drivers/tty/tty_ldisc.c:399
#: drivers/tty/tty_ldisc.c:422 drivers/tty/tty_ldisc.c:447
#: drivers/tty/tty_ldisc.c:464 drivers/tty/tty_ldisc.c:488
#: drivers/tty/tty_ldisc.c:604 drivers/tty/tty_ldisc.c:624
#: drivers/tty/tty_ldisc.c:640 drivers/tty/tty_ldisc.c:680
#: drivers/tty/tty_ldisc.c:739 drivers/tty/tty_ldisc.c:769
#: drivers/tty/tty_ldisc.c:799 drivers/tty/tty_ldisc.c:816
msgid "**Parameters**"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:34: drivers/tty/tty_ldisc.c:56
msgid "``struct tty_ldisc_ops *new_ldisc``"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:34: drivers/tty/tty_ldisc.c:51
msgid "pointer to the ldisc object"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:34: drivers/tty/tty_ldisc.c:53
#: drivers/tty/tty_ldisc.c:77 ../../../driver-api/tty/tty_ldisc:40:
#: drivers/tty/tty_ldisc.c:381 drivers/tty/tty_ldisc.c:514
#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:224
#: ../../../driver-api/tty/tty_ldisc:68: drivers/tty/tty_ldisc.c:226
#: drivers/tty/tty_ldisc.c:255 drivers/tty/tty_ldisc.c:276
#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:126
#: drivers/tty/tty_ldisc.c:176 drivers/tty/tty_ldisc.c:399
#: drivers/tty/tty_ldisc.c:422 drivers/tty/tty_ldisc.c:447
#: drivers/tty/tty_ldisc.c:464 drivers/tty/tty_ldisc.c:488
#: drivers/tty/tty_ldisc.c:603 drivers/tty/tty_ldisc.c:623
#: drivers/tty/tty_ldisc.c:640 drivers/tty/tty_ldisc.c:680
#: drivers/tty/tty_ldisc.c:739 drivers/tty/tty_ldisc.c:768
#: drivers/tty/tty_ldisc.c:798 drivers/tty/tty_ldisc.c:815
msgid "**Description**"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:34: drivers/tty/tty_ldisc.c:52
msgid ""
"Installs a new line discipline into the kernel. The discipline is set up as "
"unreferenced and then made available to the kernel from this point onwards."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:34: drivers/tty/tty_ldisc.c:55
#: drivers/tty/tty_ldisc.c:79 ../../../driver-api/tty/tty_ldisc:84:
#: drivers/tty/tty_ldisc.c:130
msgid "Locking: takes ``tty_ldiscs_lock`` to guard against ldisc races"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:34: drivers/tty/tty_ldisc.c:74
msgid "unload a line discipline"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:34: drivers/tty/tty_ldisc.c:80
msgid "``struct tty_ldisc_ops *ldisc``"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:34: drivers/tty/tty_ldisc.c:75
#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:124
msgid "ldisc number"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:34: drivers/tty/tty_ldisc.c:76
msgid ""
"Remove a line discipline from the kernel providing it is not currently in "
"use."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc.rst:38
msgid "Other Functions"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:40: drivers/tty/tty_ldisc.c:378
msgid "flush line discipline queue"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:40: drivers/tty/tty_ldisc.c:384
#: drivers/tty/tty_ldisc.c:516 ../../../driver-api/tty/tty_ldisc:68:
#: drivers/tty/tty_ldisc.c:229 drivers/tty/tty_ldisc.c:258
#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:128
#: drivers/tty/tty_ldisc.c:401 drivers/tty/tty_ldisc.c:424
#: drivers/tty/tty_ldisc.c:449 drivers/tty/tty_ldisc.c:466
#: drivers/tty/tty_ldisc.c:490 drivers/tty/tty_ldisc.c:606
#: drivers/tty/tty_ldisc.c:626 drivers/tty/tty_ldisc.c:642
#: drivers/tty/tty_ldisc.c:682 drivers/tty/tty_ldisc.c:741
#: drivers/tty/tty_ldisc.c:771 drivers/tty/tty_ldisc.c:801
#: drivers/tty/tty_ldisc.c:818
msgid "``struct tty_struct *tty``"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:40: drivers/tty/tty_ldisc.c:379
msgid "tty to flush ldisc for"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:40: drivers/tty/tty_ldisc.c:380
msgid ""
"Flush the line discipline queue (if any) and the tty flip buffers for this "
"**tty**."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:40: drivers/tty/tty_ldisc.c:510
msgid "set line discipline"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:40: drivers/tty/tty_ldisc.c:511
msgid "the terminal to set"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:40: drivers/tty/tty_ldisc.c:513
#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:125
#: drivers/tty/tty_ldisc.c:398 drivers/tty/tty_ldisc.c:639
msgid "``int disc``"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:40: drivers/tty/tty_ldisc.c:512
msgid "the line discipline number"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:40: drivers/tty/tty_ldisc.c:513
msgid ""
"Set the discipline of a tty line. Must be called from a process context. The "
"ldisc change logic has to protect itself against any overlapping ldisc "
"change (including on the other end of pty pairs), the close of one side of a "
"tty/pty pair, and eventually hangup."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc.rst:44
msgid "Line Discipline Operations Reference"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:58
msgid "ldisc operations"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:62
msgid "**Definition**::"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:85
msgid "**Members**"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:60
msgid "``name``"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:61
msgid "name of this ldisc rendered in /proc/tty/ldiscs"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:61
msgid "``num``"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:62
msgid "``N_*`` number (``N_TTY``, ``N_HDLC``, ...) reserved to this ldisc"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:63
msgid "``open``"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:64
msgid "[TTY] ``int ()(struct tty_struct *tty)``"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:75
msgid "``close``"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:76
#: include/linux/tty_ldisc.h:85 include/linux/tty_ldisc.h:155
msgid "[TTY] ``void ()(struct tty_struct *tty)``"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:84
msgid "``flush_buffer``"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:92
msgid "``read``"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:93
msgid ""
"[TTY] ``ssize_t ()(struct tty_struct *tty, struct file *file, u8 *buf, "
"size_t nr)``"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:103
msgid "``write``"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:104
msgid ""
"[TTY] ``ssize_t ()(struct tty_struct *tty, struct file *file, const u8 *buf, "
"size_t nr)``"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:114
msgid "``ioctl``"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:115
#: include/linux/tty_ldisc.h:127
msgid ""
"[TTY] ``int ()(struct tty_struct *tty, unsigned int cmd, unsigned long arg)``"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:126
msgid "``compat_ioctl``"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:138
msgid "``set_termios``"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:139
msgid "[TTY] ``void ()(struct tty_struct *tty, const struct ktermios *old)``"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:145
msgid "``poll``"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:146
msgid ""
"[TTY] ``int ()(struct tty_struct *tty, struct file *file, struct "
"poll_table_struct *wait)``"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:154
msgid "``hangup``"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:163
msgid "``receive_buf``"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:164
#: include/linux/tty_ldisc.h:207
msgid ""
"[DRV] ``void ()(struct tty_struct *tty, const u8 *cp, const u8 *fp, size_t "
"count)``"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:175
msgid "``write_wakeup``"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:176
msgid "[DRV] ``void ()(struct tty_struct *tty)``"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:186
msgid "``dcd_change``"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:187
msgid "[DRV] ``void ()(struct tty_struct *tty, bool active)``"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:193
msgid "``receive_buf2``"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:194
msgid ""
"[DRV] ``ssize_t ()(struct tty_struct *tty, const u8 *cp, const u8 *fp, "
"size_t count)``"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:206
msgid "``lookahead_buf``"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:220
msgid "``owner``"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:221
msgid "module containting this ldisc (for reference counting)"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:64
msgid ""
"This function is called when the line discipline is associated with the "
"**tty**. No other call into the line discipline for this tty will occur "
"until it completes successfully. It should initialize any state needed by "
"the ldisc, and set **tty->receive_room** to the maximum amount of data the "
"line discipline is willing to accept from the driver with a single call to "
"**receive_buf\\(\\)**. Returning an error will prevent the ldisc from being "
"attached."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:72
#: include/linux/tty_ldisc.h:80 include/linux/tty_ldisc.h:146
msgid "Optional. Can sleep."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:75
msgid ""
"This function is called when the line discipline is being shutdown, either "
"because the **tty** is being closed or because the **tty** is being changed "
"to use a new line discipline. At the point of execution no further users "
"will enter the ldisc code for this tty."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:83
msgid ""
"This function instructs the line discipline to clear its buffers of any "
"input characters it may have queued to be delivered to the user mode "
"process. It may be called at any point between open and close."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:87
#: include/linux/tty_ldisc.h:115 include/linux/tty_ldisc.h:125
#: include/linux/tty_ldisc.h:131 include/linux/tty_ldisc.h:138
#: include/linux/tty_ldisc.h:156 include/linux/tty_ldisc.h:166
#: include/linux/tty_ldisc.h:172 include/linux/tty_ldisc.h:183
#: include/linux/tty_ldisc.h:195
msgid "Optional."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:90
msgid ""
"This function is called when the user requests to read from the **tty**. The "
"line discipline will return whatever characters it has buffered up for the "
"user. If this function is not defined, the user will receive an ``EIO`` "
"error. Multiple read calls may occur in parallel and the ldisc must deal "
"with serialization issues."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:96
#: include/linux/tty_ldisc.h:105
msgid "Optional: ``EIO`` unless provided. Can sleep."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:99
msgid ""
"This function is called when the user requests to write to the **tty**. The "
"line discipline will deliver the characters to the low-level tty device for "
"transmission, optionally performing some processing on the characters first. "
"If this function is not defined, the user will receive an ``EIO`` error."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:108
msgid ""
"This function is called when the user requests an ioctl which is not handled "
"by the tty layer or the low-level tty driver. It is intended for ioctls "
"which affect line discpline operation.  Note that the search order for "
"ioctls is (1) tty layer, (2) tty low-level driver, (3) line discpline. So a "
"low-level driver can \"grab\" an ioctl request before the line discpline has "
"a chance to see it."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:118
msgid "Process ioctl calls from 32-bit process on 64-bit system."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:120
msgid ""
"Note that only ioctls that are neither \"pointer to compatible structure\" "
"nor tty-generic.  Something private that takes an integer or a pointer to "
"wordsize-sensitive structure belongs here, but most of ldiscs will happily "
"leave it ``NULL``."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:128
msgid ""
"This function notifies the line discpline that a change has been made to the "
"termios structure."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:134
msgid ""
"This function is called when a user attempts to select/poll on a **tty** "
"device. It is solely the responsibility of the line discipline to handle "
"poll requests."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:141
msgid ""
"Called on a hangup. Tells the discipline that it should cease I/O to the tty "
"driver. The driver should seek to perform this action quickly but should "
"wait until any pending driver I/O is completed. No further calls into the "
"ldisc code will occur."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:149
msgid ""
"This function is called by the low-level tty driver to send characters "
"received by the hardware to the line discpline for processing. **cp** is a "
"pointer to the buffer of input character received by the device. **fp** is a "
"pointer to an array of flag bytes which indicate whether a character was "
"received with a parity error, etc. **fp** may be ``NULL`` to indicate all "
"data received is ``TTY_NORMAL``."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:159
msgid ""
"This function is called by the low-level tty driver to signal that line "
"discpline should try to send more characters to the low-level driver for "
"transmission. If the line discpline does not have any more data to send, it "
"can just return. If the line discipline does have some data to send, please "
"arise a tasklet or workqueue to do the real data transfer. Do not send data "
"in this hook, it may lead to a deadlock."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:169
msgid ""
"Tells the discipline that the DCD pin has changed its status. Used "
"exclusively by the ``N_PPS`` (Pulse-Per-Second) line discipline."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:175
msgid ""
"This function is called by the low-level tty driver to send characters "
"received by the hardware to the line discpline for processing. **cp** is a "
"pointer to the buffer of input character received by the device.  **fp** is "
"a pointer to an array of flag bytes which indicate whether a character was "
"received with a parity error, etc. **fp** may be ``NULL`` to indicate all "
"data received is ``TTY_NORMAL``. If assigned, prefer this function for "
"automatic flow control."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:186
msgid ""
"This function is called by the low-level tty driver for characters not eaten "
"by ->receive_buf() or ->receive_buf2(). It is useful for processing high-"
"priority characters such as software flow-control characters that could "
"otherwise get stuck into the intermediate buffer until tty has room to "
"receive them. Ldisc must be able to handle later a ->receive_buf() or -"
">receive_buf2() call for the same characters (e.g. by skipping the actions "
"for high-priority characters already handled by ->lookahead_buf())."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:198
msgid ""
"This structure defines the interface between the tty line discipline "
"implementation and the tty routines. The above routines can be defined. "
"Unless noted otherwise, they are optional, and can be filled in with a "
"``NULL`` pointer."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:46: include/linux/tty_ldisc.h:203
msgid ""
"Hooks marked [TTY] are invoked from the TTY core, the [DRV] ones from the "
"tty_driver side."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc.rst:50
msgid "Driver Access"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc.rst:52
msgid ""
"Line discipline methods can call the methods of the underlying hardware "
"driver. These are documented as a part of struct tty_operations."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc.rst:56
msgid "TTY Flags"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc.rst:58
msgid ""
"Line discipline methods have access to :c:member:`tty_struct.flags` field. "
"See :doc:`tty_struct`."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc.rst:62
msgid "Locking"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc.rst:64
msgid ""
"Callers to the line discipline functions from the tty layer are required to "
"take line discipline locks. The same is true of calls from the driver side "
"but not yet enforced."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:68: drivers/tty/tty_ldisc.c:223
msgid "wait for the tty ldisc"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:68: drivers/tty/tty_ldisc.c:224
#: drivers/tty/tty_ldisc.c:253 ../../../driver-api/tty/tty_ldisc:84:
#: drivers/tty/tty_ldisc.c:123
msgid "tty device"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:68: drivers/tty/tty_ldisc.c:225
msgid ""
"Dereference the line discipline for the terminal and take a reference to it. "
"If the line discipline is in flux then wait patiently until it changes."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:68: drivers/tty/tty_ldisc.c:229
msgid ""
"Note 1: Must not be called from an IRQ/timer context. The caller must also "
"be careful not to hold other locks that will deadlock against a discipline "
"change, such as an existing ldisc reference (which we check for)."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:68: drivers/tty/tty_ldisc.c:233
msgid ""
"Note 2: a file_operations routine (read/poll/write) should use this function "
"to wait for any ldisc lifetime events to finish."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:68: drivers/tty/tty_ldisc.c:236
#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:132
#: drivers/tty/tty_ldisc.c:644
msgid "**Return**"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:68: drivers/tty/tty_ldisc.c:229
msgid ""
"``NULL`` if the tty has been hungup and not re-opened with a new file "
"descriptor, otherwise valid ldisc reference"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:68: drivers/tty/tty_ldisc.c:252
msgid "get the tty ldisc"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:68: drivers/tty/tty_ldisc.c:254
msgid ""
"Dereference the line discipline for the terminal and take a reference to it. "
"If the line discipline is in flux then return ``NULL``. Can be called from "
"IRQ and timer functions."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:68: drivers/tty/tty_ldisc.c:273
msgid "free a tty ldisc reference"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:68: drivers/tty/tty_ldisc.c:279
#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:179
#: drivers/tty/tty_ldisc.c:421 drivers/tty/tty_ldisc.c:446
msgid "``struct tty_ldisc *ld``"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:68: drivers/tty/tty_ldisc.c:274
msgid "reference to free up"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:68: drivers/tty/tty_ldisc.c:275
msgid ""
"Undoes the effect of tty_ldisc_ref() or tty_ldisc_ref_wait(). May be called "
"in IRQ context."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc.rst:71
msgid ""
"While these functions are slightly slower than the old code they should have "
"minimal impact as most receive logic uses the flip buffers and they only "
"need to take a reference when they push bits up through the driver."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc.rst:75
msgid ""
"A caution: The :c:member:`tty_ldisc_ops.open()`, :c:member:`tty_ldisc_ops."
"close()` and :c:member:`tty_driver.set_ldisc()` functions are called with "
"the ldisc unavailable. Thus tty_ldisc_ref() will fail in this situation if "
"used within these functions.  Ldisc and driver code calling its own "
"functions must be careful in this case."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc.rst:82
msgid "Internal Functions"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:122
msgid "take a reference to an ldisc"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:125
msgid ""
"Takes a reference to a line discipline. Deals with refcounts and module "
"locking counts. If the discipline is not available, its module loaded, if "
"possible."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:130
msgid ""
"-``EINVAL`` if the discipline index is not [``N_TTY`` .. ``NR_LDISCS``] or "
"if the discipline is not registered"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:132
msgid ""
"-``EAGAIN`` if request_module() failed to load or register the discipline"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:133
msgid "-``ENOMEM`` if allocation failure"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:134
msgid "Otherwise, returns a pointer to the discipline and bumps the ref count"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:173
msgid "release the ldisc"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:174
msgid "lisdsc to release"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:175
msgid "Complement of tty_ldisc_get()."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:395
msgid "set ldisc field"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:396
msgid "tty structure"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:397
msgid "line discipline number"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:398
msgid ""
"This is probably overkill for real world processors but they are not on hot "
"paths so a little discipline won't do any harm."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:401
msgid ""
"The line discipline-related tty_struct fields are reset to prevent the ldisc "
"driver from re-using stale information for the new ldisc instance."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:404
msgid "Locking: takes termios_rwsem"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:418
msgid "open a line discipline"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:419
#: drivers/tty/tty_ldisc.c:444
msgid "tty we are opening the ldisc on"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:420
msgid "discipline to open"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:421
msgid "A helper opening method. Also a convenient debugging and check point."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:423
msgid "Locking: always called with BTM already held."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:443
msgid "close a line discipline"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:445
msgid "discipline to close"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:446
msgid "A helper close method. Also a convenient debugging and check point."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:460
msgid "helper for ldisc failback"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:461
msgid "tty to open the ldisc on"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:463
msgid "``int ld``"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:462
msgid "ldisc we are trying to fail back to"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:463
msgid ""
"Helper to try and recover a tty when switching back to the old ldisc fails "
"and we need something attached."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:484
msgid "helper for tty ldisc change"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:485
msgid "tty to recover"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:487
msgid "``struct tty_ldisc *old``"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:486
msgid "previous ldisc"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:487
msgid ""
"Restore the previous line discipline or ``N_TTY`` when a line discipline "
"change fails due to an open error"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:600
msgid "teardown ldisc"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:601
msgid "tty being released"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:602
msgid "Perform final close of the ldisc and reset **tty->ldisc**"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:620
msgid "reset terminal state"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:621
msgid "tty to reset"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:622
msgid "Restore a terminal to the driver default state."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:636
msgid "reinitialise the tty ldisc"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:637
msgid "tty to reinit"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:638
msgid "line discipline to reinitialize"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:639
msgid ""
"Completely reinitialize the line discipline state, by closing the current "
"instance, if there is one, and opening a new instance. If an error occurs "
"opening the new non-``N_TTY`` instance, the instance is dropped and **tty-"
">ldisc** reset to ``NULL``. The caller can then retry with ``N_TTY`` instead."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:645
msgid "0 if successful, otherwise error code < 0"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:676
msgid "hangup ldisc reset"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:677
msgid "tty being hung up"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:679
msgid "``bool reinit``"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:678
msgid "whether to re-initialise the tty"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:679
msgid ""
"Some tty devices reset their termios when they receive a hangup event. In "
"that situation we must also switch back to ``N_TTY`` properly before we "
"reset the termios data."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:683
msgid ""
"Locking: We can take the ldisc mutex as the rest of the code is careful to "
"allow for this."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:686
msgid ""
"In the pty pair case this occurs in the close() path of the tty itself so we "
"must be careful about locking rules."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:735
msgid "open line discipline"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:736
msgid "tty being shut down"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:738
msgid "``struct tty_struct *o_tty``"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:737
msgid "pair tty for pty/tty pairs"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:738
msgid ""
"Called during the initial open of a tty/pty pair in order to set up the line "
"disciplines and bind them to the **tty**. This has no locking issues as the "
"device isn't yet active."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:765
msgid "release line discipline"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:766
msgid "tty being shut down (or one end of pty pair)"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:767
msgid ""
"Called during the final close of a tty or a pty pair in order to shut down "
"the line discpline layer. On exit, each tty's ldisc is ``NULL``."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:795
msgid "ldisc setup for new tty"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:796
msgid "tty being allocated"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:797
msgid ""
"Set up the line discipline objects for a newly allocated tty. Note that the "
"tty structure is not completely set up when this call is made."
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:812
msgid "ldisc cleanup for new tty"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:813
msgid "tty that was allocated recently"
msgstr ""

#: ../../../driver-api/tty/tty_ldisc:84: drivers/tty/tty_ldisc.c:814
msgid ""
"The tty structure must not be completely set up (tty_ldisc_setup()) when "
"this call is made."
msgstr ""
