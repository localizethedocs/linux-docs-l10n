# SOME DESCRIPTIVE TITLE.
# Copyright (C) The kernel development community
# This file is distributed under the same license as the The Linux Kernel package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: The Linux Kernel 6\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2025-09-27 13:54+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../../w1/w1-netlink.rst:3
msgid "Userspace communication protocol over connector"
msgstr ""

#: ../../../w1/w1-netlink.rst:6
msgid "Message types"
msgstr ""

#: ../../../w1/w1-netlink.rst:8
msgid "There are three types of messages between w1 core and userspace:"
msgstr ""

#: ../../../w1/w1-netlink.rst:10
msgid ""
"Events. They are generated each time a new master or slave device is found "
"either due to automatic or requested search."
msgstr ""

#: ../../../w1/w1-netlink.rst:12
msgid "Userspace commands."
msgstr ""

#: ../../../w1/w1-netlink.rst:13
msgid "Replies to userspace commands."
msgstr ""

#: ../../../w1/w1-netlink.rst:17
msgid "Protocol"
msgstr ""

#: ../../../w1/w1-netlink.rst:65
msgid ""
"Each connector message can include one or more w1_netlink_msg with zero or "
"more attached w1_netlink_cmd messages."
msgstr ""

#: ../../../w1/w1-netlink.rst:68
msgid ""
"For event messages there are no w1_netlink_cmd embedded structures, only "
"connector header and w1_netlink_msg structure with \"len\" field being zero "
"and filled type (one of event types) and id: either 8 bytes of slave unique "
"id in host order, or master's id, which is assigned to bus master device "
"when it is added to w1 core."
msgstr ""

#: ../../../w1/w1-netlink.rst:75
msgid ""
"Currently replies to userspace commands are only generated for read command "
"request. One reply is generated exactly for one w1_netlink_cmd read request. "
"Replies are not combined when sent - i.e. typical reply messages looks like "
"the following::"
msgstr ""

#: ../../../w1/w1-netlink.rst:87
msgid ""
"Replies to W1_LIST_MASTERS should send a message back to the userspace which "
"will contain list of all registered master ids in the following format::"
msgstr ""

#: ../../../w1/w1-netlink.rst:97
msgid ""
"Each message is at most 4k in size, so if number of master devices exceeds "
"this, it will be split into several messages."
msgstr ""

#: ../../../w1/w1-netlink.rst:100
msgid "W1 search and alarm search commands."
msgstr ""

#: ../../../w1/w1-netlink.rst:102
msgid "request::"
msgstr ""

#: ../../../w1/w1-netlink.rst:109
msgid "reply::"
msgstr ""

#: ../../../w1/w1-netlink.rst:118
msgid ""
"Length in each header corresponds to the size of the data behind it, so "
"w1_netlink_cmd->len = N * 8; where N is number of IDs in this message. Can "
"be zero."
msgstr ""

#: ../../../w1/w1-netlink.rst:129
msgid "W1 reset command::"
msgstr ""

#: ../../../w1/w1-netlink.rst:138
msgid "Command status replies"
msgstr ""

#: ../../../w1/w1-netlink.rst:140
msgid ""
"Each command (either root, master or slave with or without w1_netlink_cmd "
"structure) will be 'acked' by the w1 core. Format of the reply is the same "
"as request message except that length parameters do not account for data "
"requested by the user, i.e. read/write/touch IO requests will not contain "
"data, so w1_netlink_cmd.len will be 0, w1_netlink_msg.len will be size of "
"the w1_netlink_cmd structure and cn_msg.len will be equal to the sum of the "
"sizeof(struct w1_netlink_msg) and sizeof(struct w1_netlink_cmd). If reply is "
"generated for master or root command (which do not have w1_netlink_cmd "
"attached), reply will contain only cn_msg and w1_netlink_msg structures."
msgstr ""

#: ../../../w1/w1-netlink.rst:151
msgid ""
"w1_netlink_msg.status field will carry positive error value (EINVAL for "
"example) or zero in case of success."
msgstr ""

#: ../../../w1/w1-netlink.rst:154
msgid ""
"All other fields in every structure will mirror the same parameters in the "
"request message (except lengths as described above)."
msgstr ""

#: ../../../w1/w1-netlink.rst:157
msgid ""
"Status reply is generated for every w1_netlink_cmd embedded in the "
"w1_netlink_msg, if there are no w1_netlink_cmd structures, reply will be "
"generated for the w1_netlink_msg."
msgstr ""

#: ../../../w1/w1-netlink.rst:161
msgid ""
"All w1_netlink_cmd command structures are handled in every w1_netlink_msg, "
"even if there were errors, only length mismatch interrupts message "
"processing."
msgstr ""

#: ../../../w1/w1-netlink.rst:166
msgid "Operation steps in w1 core when new command is received"
msgstr ""

#: ../../../w1/w1-netlink.rst:168
msgid ""
"When new message (w1_netlink_msg) is received w1 core detects if it is "
"master or slave request, according to w1_netlink_msg.type field. Then master "
"or slave device is searched for. When found, master device (requested or "
"those one on where slave device is found) is locked. If slave command is "
"requested, then reset/select procedure is started to select given device."
msgstr ""

#: ../../../w1/w1-netlink.rst:175
msgid ""
"Then all requested in w1_netlink_msg operations are performed one by one. If "
"command requires reply (like read command) it is sent on command completion."
msgstr ""

#: ../../../w1/w1-netlink.rst:178
msgid ""
"When all commands (w1_netlink_cmd) are processed master device is unlocked "
"and next w1_netlink_msg header processing started."
msgstr ""

#: ../../../w1/w1-netlink.rst:183
msgid "Connector [1] specific documentation"
msgstr ""

#: ../../../w1/w1-netlink.rst:185
msgid ""
"Each connector message includes two u32 fields as \"address\". w1 uses "
"CN_W1_IDX and CN_W1_VAL defined in include/linux/connector.h header. Each "
"message also includes sequence and acknowledge numbers. Sequence number for "
"event messages is appropriate bus master sequence number increased with each "
"event message sent \"through\" this master. Sequence number for userspace "
"requests is set by userspace application. Sequence number for reply is the "
"same as was in request, and acknowledge number is set to seq+1."
msgstr ""

#: ../../../w1/w1-netlink.rst:196
msgid "Additional documentation, source code examples"
msgstr ""

#: ../../../w1/w1-netlink.rst:198
msgid "Documentation/driver-api/connector.rst"
msgstr ""

#: ../../../w1/w1-netlink.rst:199
msgid "http://www.ioremap.net/archive/w1"
msgstr ""

#: ../../../w1/w1-netlink.rst:201
msgid ""
"This archive includes userspace application w1d.c which uses read/write/"
"search commands for all master/slave devices found on the bus."
msgstr ""
