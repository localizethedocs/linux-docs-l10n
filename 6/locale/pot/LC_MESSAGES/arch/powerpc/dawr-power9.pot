# SOME DESCRIPTIVE TITLE.
# Copyright (C) The kernel development community
# This file is distributed under the same license as the The Linux Kernel package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: The Linux Kernel 6\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2025-09-30 08:40+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../../arch/powerpc/dawr-power9.rst:3
msgid "DAWR issues on POWER9"
msgstr ""

#: ../../../arch/powerpc/dawr-power9.rst:5
msgid ""
"On older POWER9 processors, the Data Address Watchpoint Register (DAWR) can "
"cause a checkstop if it points to cache inhibited (CI) memory. Currently "
"Linux has no way to distinguish CI memory when configuring the DAWR, so on "
"affected systems, the DAWR is disabled."
msgstr ""

#: ../../../arch/powerpc/dawr-power9.rst:11
msgid "Affected processor revisions"
msgstr ""

#: ../../../arch/powerpc/dawr-power9.rst:13
msgid ""
"This issue is only present on processors prior to v2.3. The revision can be "
"found in /proc/cpuinfo::"
msgstr ""

#: ../../../arch/powerpc/dawr-power9.rst:21
msgid "On a system with the issue, the DAWR is disabled as detailed below."
msgstr ""

#: ../../../arch/powerpc/dawr-power9.rst:24
msgid "Technical Details:"
msgstr ""

#: ../../../arch/powerpc/dawr-power9.rst:26
msgid ""
"DAWR has 6 different ways of being set. 1) ptrace 2) h_set_mode(DAWR) 3) "
"h_set_dabr() 4) kvmppc_set_one_reg() 5) xmon"
msgstr ""

#: ../../../arch/powerpc/dawr-power9.rst:33
msgid ""
"For ptrace, we now advertise zero breakpoints on POWER9 via the "
"PPC_PTRACE_GETHWDBGINFO call. This results in GDB falling back to software "
"emulation of the watchpoint (which is slow)."
msgstr ""

#: ../../../arch/powerpc/dawr-power9.rst:37
msgid ""
"h_set_mode(DAWR) and h_set_dabr() will now return an error to the guest on a "
"POWER9 host. Current Linux guests ignore this error, so they will silently "
"not get the DAWR."
msgstr ""

#: ../../../arch/powerpc/dawr-power9.rst:41
msgid ""
"kvmppc_set_one_reg() will store the value in the vcpu but won't actually set "
"it on POWER9 hardware. This is done so we don't break migration from POWER8 "
"to POWER9, at the cost of silently losing the DAWR on the migration."
msgstr ""

#: ../../../arch/powerpc/dawr-power9.rst:46
msgid "For xmon, the 'bd' command will return an error on P9."
msgstr ""

#: ../../../arch/powerpc/dawr-power9.rst:49
msgid "Consequences for users"
msgstr ""

#: ../../../arch/powerpc/dawr-power9.rst:51
msgid ""
"For GDB watchpoints (ie 'watch' command) on POWER9 bare metal , GDB will "
"accept the command. Unfortunately since there is no hardware support for the "
"watchpoint, GDB will software emulate the watchpoint making it run very "
"slowly."
msgstr ""

#: ../../../arch/powerpc/dawr-power9.rst:56
msgid ""
"The same will also be true for any guests started on a POWER9 host. The "
"watchpoint will fail and GDB will fall back to software emulation."
msgstr ""

#: ../../../arch/powerpc/dawr-power9.rst:60
msgid ""
"If a guest is started on a POWER8 host, GDB will accept the watchpoint and "
"configure the hardware to use the DAWR. This will run at full speed since it "
"can use the hardware emulation. Unfortunately if this guest is migrated to a "
"POWER9 host, the watchpoint will be lost on the POWER9. Loads and stores to "
"the watchpoint locations will not be trapped in GDB. The watchpoint is "
"remembered, so if the guest is migrated back to the POWER8 host, it will "
"start working again."
msgstr ""

#: ../../../arch/powerpc/dawr-power9.rst:69
msgid "Force enabling the DAWR"
msgstr ""

#: ../../../arch/powerpc/dawr-power9.rst:70
msgid "Kernels (since ~v5.2) have an option to force enable the DAWR via::"
msgstr ""

#: ../../../arch/powerpc/dawr-power9.rst:74
msgid "This enables the DAWR even on POWER9."
msgstr ""

#: ../../../arch/powerpc/dawr-power9.rst:76
msgid "This is a dangerous setting, USE AT YOUR OWN RISK."
msgstr ""

#: ../../../arch/powerpc/dawr-power9.rst:78
msgid ""
"Some users may not care about a bad user crashing their box (ie. single user/"
"desktop systems) and really want the DAWR.  This allows them to force enable "
"DAWR."
msgstr ""

#: ../../../arch/powerpc/dawr-power9.rst:82
msgid ""
"This flag can also be used to disable DAWR access. Once this is cleared, all "
"DAWR access should be cleared immediately and your machine once again safe "
"from crashing."
msgstr ""

#: ../../../arch/powerpc/dawr-power9.rst:86
msgid ""
"Userspace may get confused by toggling this. If DAWR is force enabled/"
"disabled between getting the number of breakpoints (via PTRACE_GETHWDBGINFO) "
"and setting the breakpoint, userspace will get an inconsistent view of "
"what's available. Similarly for guests."
msgstr ""

#: ../../../arch/powerpc/dawr-power9.rst:91
msgid ""
"For the DAWR to be enabled in a KVM guest, the DAWR needs to be force "
"enabled in the host AND the guest. For this reason, this won't work on "
"POWERVM as it doesn't allow the HCALL to work. Writes of 'Y' to the "
"dawr_enable_dangerous file will fail if the hypervisor doesn't support "
"writing the DAWR."
msgstr ""

#: ../../../arch/powerpc/dawr-power9.rst:97
msgid "To double check the DAWR is working, run this kernel selftest:"
msgstr ""

#: ../../../arch/powerpc/dawr-power9.rst:99
msgid "tools/testing/selftests/powerpc/ptrace/ptrace-hwbreak.c"
msgstr ""

#: ../../../arch/powerpc/dawr-power9.rst:101
msgid "Any errors/failures/skips mean something is wrong."
msgstr ""
