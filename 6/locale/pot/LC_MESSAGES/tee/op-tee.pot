# SOME DESCRIPTIVE TITLE.
# Copyright (C) The kernel development community
# This file is distributed under the same license as the The Linux Kernel package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: The Linux Kernel 6\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2025-09-27 13:54+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../../tee/op-tee.rst:5
msgid "OP-TEE (Open Portable Trusted Execution Environment)"
msgstr ""

#: ../../../tee/op-tee.rst:7
msgid ""
"The OP-TEE driver handles OP-TEE [1] based TEEs. Currently it is only the "
"ARM TrustZone based OP-TEE solution that is supported."
msgstr ""

#: ../../../tee/op-tee.rst:10
msgid ""
"Lowest level of communication with OP-TEE builds on ARM SMC Calling "
"Convention (SMCCC) [2], which is the foundation for OP-TEE's SMC interface "
"[3] used internally by the driver. Stacked on top of that is OP-TEE Message "
"Protocol [4]."
msgstr ""

#: ../../../tee/op-tee.rst:15
msgid ""
"OP-TEE SMC interface provides the basic functions required by SMCCC and some "
"additional functions specific for OP-TEE. The most interesting functions are:"
msgstr ""

#: ../../../tee/op-tee.rst:18
msgid ""
"OPTEE_SMC_FUNCID_CALLS_UID (part of SMCCC) returns the version information "
"which is then returned by TEE_IOC_VERSION"
msgstr ""

#: ../../../tee/op-tee.rst:21
msgid ""
"OPTEE_SMC_CALL_GET_OS_UUID returns the particular OP-TEE implementation, "
"used to tell, for instance, a TrustZone OP-TEE apart from an OP-TEE running "
"on a separate secure co-processor."
msgstr ""

#: ../../../tee/op-tee.rst:25
msgid "OPTEE_SMC_CALL_WITH_ARG drives the OP-TEE message protocol"
msgstr ""

#: ../../../tee/op-tee.rst:27
msgid ""
"OPTEE_SMC_GET_SHM_CONFIG lets the driver and OP-TEE agree on which memory "
"range to used for shared memory between Linux and OP-TEE."
msgstr ""

#: ../../../tee/op-tee.rst:30
msgid ""
"The GlobalPlatform TEE Client API [5] is implemented on top of the generic "
"TEE API."
msgstr ""

#: ../../../tee/op-tee.rst:33
msgid ""
"Picture of the relationship between the different components in the OP-TEE "
"architecture::"
msgstr ""

#: ../../../tee/op-tee.rst:56
msgid ""
"RPC (Remote Procedure Call) are requests from secure world to kernel driver "
"or tee-supplicant. An RPC is identified by a special range of SMCCC return "
"values from OPTEE_SMC_CALL_WITH_ARG. RPC messages which are intended for the "
"kernel are handled by the kernel driver. Other RPC messages will be "
"forwarded to tee-supplicant without further involvement of the driver, "
"except switching shared memory buffer representation."
msgstr ""

#: ../../../tee/op-tee.rst:64
msgid "OP-TEE device enumeration"
msgstr ""

#: ../../../tee/op-tee.rst:66
msgid ""
"OP-TEE provides a pseudo Trusted Application: drivers/tee/optee/device.c in "
"order to support device enumeration. In other words, OP-TEE driver invokes "
"this application to retrieve a list of Trusted Applications which can be "
"registered as devices on the TEE bus."
msgstr ""

#: ../../../tee/op-tee.rst:72
msgid "OP-TEE notifications"
msgstr ""

#: ../../../tee/op-tee.rst:74
msgid ""
"There are two kinds of notifications that secure world can use to make "
"normal world aware of some event."
msgstr ""

#: ../../../tee/op-tee.rst:77
msgid ""
"Synchronous notifications delivered with ``OPTEE_RPC_CMD_NOTIFICATION`` "
"using the ``OPTEE_RPC_NOTIFICATION_SEND`` parameter."
msgstr ""

#: ../../../tee/op-tee.rst:79
msgid ""
"Asynchronous notifications delivered with a combination of a non-secure edge-"
"triggered interrupt and a fast call from the non-secure interrupt handler."
msgstr ""

#: ../../../tee/op-tee.rst:83
msgid ""
"Synchronous notifications are limited by depending on RPC for delivery, this "
"is only usable when secure world is entered with a yielding call via "
"``OPTEE_SMC_CALL_WITH_ARG``. This excludes such notifications from secure "
"world interrupt handlers."
msgstr ""

#: ../../../tee/op-tee.rst:88
msgid ""
"An asynchronous notification is delivered via a non-secure edge-triggered "
"interrupt to an interrupt handler registered in the OP-TEE driver. The "
"actual notification value are retrieved with the fast call "
"``OPTEE_SMC_GET_ASYNC_NOTIF_VALUE``. Note that one interrupt can represent "
"multiple notifications."
msgstr ""

#: ../../../tee/op-tee.rst:94
msgid ""
"One notification value ``OPTEE_SMC_ASYNC_NOTIF_VALUE_DO_BOTTOM_HALF`` has a "
"special meaning. When this value is received it means that normal world is "
"supposed to make a yielding call ``OPTEE_MSG_CMD_DO_BOTTOM_HALF``. This call "
"is done from the thread assisting the interrupt handler. This is a building "
"block for OP-TEE OS in secure world to implement the top half and bottom "
"half style of device drivers."
msgstr ""

#: ../../../tee/op-tee.rst:102
msgid "OPTEE_INSECURE_LOAD_IMAGE Kconfig option"
msgstr ""

#: ../../../tee/op-tee.rst:104
msgid ""
"The OPTEE_INSECURE_LOAD_IMAGE Kconfig option enables the ability to load the "
"BL32 OP-TEE image from the kernel after the kernel boots, rather than "
"loading it from the firmware before the kernel boots. This also requires "
"enabling the corresponding option in Trusted Firmware for Arm. The Trusted "
"Firmware for Arm documentation [6] explains the security threat associated "
"with enabling this as well as mitigations at the firmware and platform level."
msgstr ""

#: ../../../tee/op-tee.rst:111
msgid ""
"There are additional attack vectors/mitigations for the kernel that should "
"be addressed when using this option."
msgstr ""

#: ../../../tee/op-tee.rst:114
msgid "Boot chain security."
msgstr ""

#: ../../../tee/op-tee.rst:116
msgid ""
"Attack vector: Replace the OP-TEE OS image in the rootfs to gain control of "
"the system."
msgstr ""

#: ../../../tee/op-tee.rst:119
msgid ""
"Mitigation: There must be boot chain security that verifies the kernel and "
"rootfs, otherwise an attacker can modify the loaded OP-TEE binary by "
"modifying it in the rootfs."
msgstr ""

#: ../../../tee/op-tee.rst:123
msgid "Alternate boot modes."
msgstr ""

#: ../../../tee/op-tee.rst:125
msgid ""
"Attack vector: Using an alternate boot mode (i.e. recovery mode), the OP-TEE "
"driver isn't loaded, leaving the SMC hole open."
msgstr ""

#: ../../../tee/op-tee.rst:128
msgid ""
"Mitigation: If there are alternate methods of booting the device, such as a "
"recovery mode, it should be ensured that the same mitigations are applied in "
"that mode."
msgstr ""

#: ../../../tee/op-tee.rst:132
msgid "Attacks prior to SMC invocation."
msgstr ""

#: ../../../tee/op-tee.rst:134
msgid ""
"Attack vector: Code that is executed prior to issuing the SMC call to load "
"OP-TEE can be exploited to then load an alternate OS image."
msgstr ""

#: ../../../tee/op-tee.rst:137
msgid ""
"Mitigation: The OP-TEE driver must be loaded before any potential attack "
"vectors are opened up. This should include mounting of any modifiable "
"filesystems, opening of network ports or communicating with external devices "
"(e.g. USB)."
msgstr ""

#: ../../../tee/op-tee.rst:142
msgid "Blocking SMC call to load OP-TEE."
msgstr ""

#: ../../../tee/op-tee.rst:144
msgid ""
"Attack vector: Prevent the driver from being probed, so the SMC call to load "
"OP-TEE isn't executed when desired, leaving it open to being executed later "
"and loading a modified OS."
msgstr ""

#: ../../../tee/op-tee.rst:148
msgid ""
"Mitigation: It is recommended to build the OP-TEE driver as builtin driver "
"rather than as a module to prevent exploits that may cause the module to not "
"be loaded."
msgstr ""

#: ../../../tee/op-tee.rst:153
msgid "References"
msgstr ""

#: ../../../tee/op-tee.rst:155
msgid "[1] https://github.com/OP-TEE/optee_os"
msgstr ""

#: ../../../tee/op-tee.rst:157
msgid ""
"[2] http://infocenter.arm.com/help/topic/com.arm.doc.den0028a/index.html"
msgstr ""

#: ../../../tee/op-tee.rst:159
msgid "[3] drivers/tee/optee/optee_smc.h"
msgstr ""

#: ../../../tee/op-tee.rst:161
msgid "[4] drivers/tee/optee/optee_msg.h"
msgstr ""

#: ../../../tee/op-tee.rst:163
msgid "[5] http://www.globalplatform.org/specificationsdevice.asp look for"
msgstr ""

#: ../../../tee/op-tee.rst:164
msgid "\"TEE Client API Specification v1.0\" and click download."
msgstr ""

#: ../../../tee/op-tee.rst:166
msgid ""
"[6] https://trustedfirmware-a.readthedocs.io/en/latest/threat_model/"
"threat_model.html"
msgstr ""
