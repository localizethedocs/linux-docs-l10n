# SOME DESCRIPTIVE TITLE.
# Copyright (C) The kernel development community
# This file is distributed under the same license as the The Linux Kernel package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: The Linux Kernel 6\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2026-01-06 07:31+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: zh_CN\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../../driver-api/iio/buffers.rst:3
msgid "Buffers"
msgstr ""

#: ../../../driver-api/iio/buffers.rst:5
msgid "struct iio_buffer — general buffer structure"
msgstr ""

#: ../../../driver-api/iio/buffers.rst:6
msgid ""
":c:func:`iio_validate_scan_mask_onehot` — Validates that exactly one channel "
"is selected"
msgstr ""

#: ../../../driver-api/iio/buffers.rst:8
msgid ":c:func:`iio_buffer_get` — Grab a reference to the buffer"
msgstr ""

#: ../../../driver-api/iio/buffers.rst:9
msgid ":c:func:`iio_buffer_put` — Release the reference to the buffer"
msgstr ""

#: ../../../driver-api/iio/buffers.rst:11
msgid ""
"The Industrial I/O core offers a way for continuous data capture based on a "
"trigger source. Multiple data channels can be read at once from :file:`/dev/"
"iio:device{X}` character device node, thus reducing the CPU load."
msgstr ""

#: ../../../driver-api/iio/buffers.rst:16
msgid "IIO buffer sysfs interface"
msgstr ""

#: ../../../driver-api/iio/buffers.rst:17
msgid ""
"An IIO buffer has an associated attributes directory under :file:`/sys/bus/"
"iio/devices/iio:device{X}/buffer/*`. Here are some of the existing "
"attributes:"
msgstr ""

#: ../../../driver-api/iio/buffers.rst:21
msgid ""
":file:`length`, the total number of data samples (capacity) that can be "
"stored by the buffer."
msgstr ""

#: ../../../driver-api/iio/buffers.rst:23
msgid ":file:`enable`, activate buffer capture."
msgstr ""

#: ../../../driver-api/iio/buffers.rst:26
msgid "IIO buffer setup"
msgstr ""

#: ../../../driver-api/iio/buffers.rst:28
msgid ""
"The meta information associated with a channel reading placed in a buffer is "
"called a scan element. The important bits configuring scan elements are "
"exposed to userspace applications via the :file:`/sys/bus/iio/devices/iio:"
"device{X}/scan_elements/` directory. This directory contains attributes of "
"the following form:"
msgstr ""

#: ../../../driver-api/iio/buffers.rst:34
msgid ""
":file:`enable`, used for enabling a channel. If and only if its attribute is "
"non *zero*, then a triggered capture will contain data samples for this "
"channel."
msgstr ""

#: ../../../driver-api/iio/buffers.rst:37
msgid ":file:`index`, the scan_index of the channel."
msgstr ""

#: ../../../driver-api/iio/buffers.rst:38
msgid ""
":file:`type`, description of the scan element data storage within the buffer "
"and hence the form in which it is read from user space. Format is [be|le]:[s|"
"u]bits/storagebits[Xrepeat][>>shift] ."
msgstr ""

#: ../../../driver-api/iio/buffers.rst:42
msgid "*be* or *le*, specifies big or little endian."
msgstr ""

#: ../../../driver-api/iio/buffers.rst:43
msgid "*s* or *u*, specifies if signed (2's complement) or unsigned."
msgstr ""

#: ../../../driver-api/iio/buffers.rst:44
msgid "*bits*, is the number of valid data bits."
msgstr ""

#: ../../../driver-api/iio/buffers.rst:45
msgid ""
"*storagebits*, is the number of bits (after padding) that it occupies in the "
"buffer."
msgstr ""

#: ../../../driver-api/iio/buffers.rst:47
msgid ""
"*repeat*, specifies the number of bits/storagebits repetitions. When the "
"repeat element is 0 or 1, then the repeat value is omitted."
msgstr ""

#: ../../../driver-api/iio/buffers.rst:49
msgid ""
"*shift*, if specified, is the shift that needs to be applied prior to "
"masking out unused bits."
msgstr ""

#: ../../../driver-api/iio/buffers.rst:52
msgid ""
"For example, a driver for a 3-axis accelerometer with 12 bit resolution "
"where data is stored in two 8-bits registers as follows::"
msgstr ""

#: ../../../driver-api/iio/buffers.rst:65
msgid "will have the following scan element type for each axis::"
msgstr ""

#: ../../../driver-api/iio/buffers.rst:70
msgid ""
"A user space application will interpret data samples read from the buffer as "
"two byte little endian signed data, that needs a 4 bits right shift before "
"masking out the 12 valid bits of data."
msgstr ""

#: ../../../driver-api/iio/buffers.rst:74
msgid ""
"For implementing buffer support a driver should initialize the following "
"fields in iio_chan_spec definition::"
msgstr ""

#: ../../../driver-api/iio/buffers.rst:90
msgid ""
"The driver implementing the accelerometer described above will have the "
"following channel definition::"
msgstr ""

#: ../../../driver-api/iio/buffers.rst:113
msgid ""
"Here **scan_index** defines the order in which the enabled channels are "
"placed inside the buffer. Channels with a lower **scan_index** will be "
"placed before channels with a higher index. Each channel needs to have a "
"unique **scan_index**."
msgstr ""

#: ../../../driver-api/iio/buffers.rst:118
msgid ""
"Setting **scan_index** to -1 can be used to indicate that the specific "
"channel does not support buffered capture. In this case no entries will be "
"created for the channel in the scan_elements directory."
msgstr ""

#: ../../../driver-api/iio/buffers.rst:123
msgid "More details"
msgstr ""

#: ../../../driver-api/iio/buffers:124: ../include/linux/iio/buffer.h:24
#: ../include/linux/iio/buffer.h:45
msgid "push data and timestamp to buffers"
msgstr ""

#: ../../../driver-api/iio/buffers:124: ../include/linux/iio/buffer.h:28
#: ../include/linux/iio/buffer.h:49 ../../../driver-api/iio/buffers:125:
#: ../drivers/iio/industrialio-buffer.c:2338
#: ../drivers/iio/industrialio-buffer.c:2385
#: ../drivers/iio/industrialio-buffer.c:2409
#: ../drivers/iio/industrialio-buffer.c:2477
#: ../drivers/iio/industrialio-buffer.c:2492
#: ../drivers/iio/industrialio-buffer.c:2503
msgid "**Parameters**"
msgstr ""

#: ../../../driver-api/iio/buffers:124: ../include/linux/iio/buffer.h:30
#: ../include/linux/iio/buffer.h:51 ../../../driver-api/iio/buffers:125:
#: ../drivers/iio/industrialio-buffer.c:2340
#: ../drivers/iio/industrialio-buffer.c:2387
#: ../drivers/iio/industrialio-buffer.c:2411
#: ../drivers/iio/industrialio-buffer.c:2505
msgid "``struct iio_dev *indio_dev``"
msgstr ""

#: ../../../driver-api/iio/buffers:124: ../include/linux/iio/buffer.h:25
#: ../include/linux/iio/buffer.h:46 ../../../driver-api/iio/buffers:125:
#: ../drivers/iio/industrialio-buffer.c:2382
#: ../drivers/iio/industrialio-buffer.c:2407
msgid "iio_dev structure for device."
msgstr ""

#: ../../../driver-api/iio/buffers:124: ../include/linux/iio/buffer.h:27
#: ../include/linux/iio/buffer.h:48
msgid "``void *data``"
msgstr ""

#: ../../../driver-api/iio/buffers:124: ../include/linux/iio/buffer.h:26
msgid "sample data"
msgstr ""

#: ../../../driver-api/iio/buffers:124: ../include/linux/iio/buffer.h:28
#: ../../../driver-api/iio/buffers:125:
#: ../drivers/iio/industrialio-buffer.c:2411
msgid "``int64_t timestamp``"
msgstr ""

#: ../../../driver-api/iio/buffers:124: ../include/linux/iio/buffer.h:27
msgid "timestamp for the sample data"
msgstr ""

#: ../../../driver-api/iio/buffers:124: ../include/linux/iio/buffer.h:29
#: ../include/linux/iio/buffer.h:51 ../../../driver-api/iio/buffers:125:
#: ../drivers/iio/industrialio-buffer.c:2338
#: ../drivers/iio/industrialio-buffer.c:2412
#: ../drivers/iio/industrialio-buffer.c:2476
#: ../drivers/iio/industrialio-buffer.c:2503
msgid "**Description**"
msgstr ""

#: ../../../driver-api/iio/buffers:124: ../include/linux/iio/buffer.h:28
msgid "DEPRECATED: Use iio_push_to_buffers_with_ts() instead."
msgstr ""

#: ../../../driver-api/iio/buffers:124: ../include/linux/iio/buffer.h:30
msgid "Returns 0 on success, a negative error code otherwise."
msgstr ""

#: ../../../driver-api/iio/buffers:124: ../include/linux/iio/buffer.h:47
msgid "Pointer to sample data buffer."
msgstr ""

#: ../../../driver-api/iio/buffers:124: ../include/linux/iio/buffer.h:49
msgid "``size_t data_total_len``"
msgstr ""

#: ../../../driver-api/iio/buffers:124: ../include/linux/iio/buffer.h:48
msgid "The size of **data** in bytes."
msgstr ""

#: ../../../driver-api/iio/buffers:124: ../include/linux/iio/buffer.h:50
msgid "``s64 timestamp``"
msgstr ""

#: ../../../driver-api/iio/buffers:124: ../include/linux/iio/buffer.h:49
msgid "Timestamp for the sample data."
msgstr ""

#: ../../../driver-api/iio/buffers:124: ../include/linux/iio/buffer.h:50
msgid ""
"Pushes data to the IIO device's buffers. If timestamps are enabled for the "
"device the function will store the supplied timestamp as the last element in "
"the sample data buffer before pushing it to the device buffers. The sample "
"data buffer needs to be large enough to hold the additional timestamp "
"(usually the buffer should be at least indio->scan_bytes bytes large)."
msgstr ""

#: ../../../driver-api/iio/buffers:124: ../include/linux/iio/buffer.h:56
#: ../../../driver-api/iio/buffers:125:
#: ../drivers/iio/industrialio-buffer.c:2385
#: ../drivers/iio/industrialio-buffer.c:2416
msgid "**Context**"
msgstr ""

#: ../../../driver-api/iio/buffers:124: ../include/linux/iio/buffer.h:57
#: ../../../driver-api/iio/buffers:125:
#: ../drivers/iio/industrialio-buffer.c:2385
msgid "Any context."
msgstr ""

#: ../../../driver-api/iio/buffers:124: ../include/linux/iio/buffer.h:59
#: ../../../driver-api/iio/buffers:125:
#: ../drivers/iio/industrialio-buffer.c:2387
#: ../drivers/iio/industrialio-buffer.c:2419
msgid "**Return**"
msgstr ""

#: ../../../driver-api/iio/buffers:124: ../include/linux/iio/buffer.h:58
msgid "0 on success, a negative error code otherwise."
msgstr ""

#: ../../../driver-api/iio/buffers:125:
#: ../drivers/iio/industrialio-buffer.c:2334
msgid "Validates that exactly one channel is selected"
msgstr ""

#: ../../../driver-api/iio/buffers:125:
#: ../drivers/iio/industrialio-buffer.c:2335
msgid "the iio device"
msgstr ""

#: ../../../driver-api/iio/buffers:125:
#: ../drivers/iio/industrialio-buffer.c:2337
msgid "``const unsigned long *mask``"
msgstr ""

#: ../../../driver-api/iio/buffers:125:
#: ../drivers/iio/industrialio-buffer.c:2336
msgid "scan mask to be checked"
msgstr ""

#: ../../../driver-api/iio/buffers:125:
#: ../drivers/iio/industrialio-buffer.c:2337
msgid ""
"Return true if exactly one bit is set in the scan mask, false otherwise. It "
"can be used for devices where only one channel can be active for sampling at "
"a time."
msgstr ""

#: ../../../driver-api/iio/buffers:125:
#: ../drivers/iio/industrialio-buffer.c:2381
msgid "push to a registered buffer."
msgstr ""

#: ../../../driver-api/iio/buffers:125:
#: ../drivers/iio/industrialio-buffer.c:2384
#: ../drivers/iio/industrialio-buffer.c:2409
msgid "``const void *data``"
msgstr ""

#: ../../../driver-api/iio/buffers:125:
#: ../drivers/iio/industrialio-buffer.c:2383
msgid "Full scan."
msgstr ""

#: ../../../driver-api/iio/buffers:125:
#: ../drivers/iio/industrialio-buffer.c:2386
#: ../drivers/iio/industrialio-buffer.c:2418
msgid "0 on success, negative error code on failure."
msgstr ""

#: ../../../driver-api/iio/buffers:125:
#: ../drivers/iio/industrialio-buffer.c:2405
msgid "push to registered buffer, no alignment or space requirements."
msgstr ""

#: ../../../driver-api/iio/buffers:125:
#: ../drivers/iio/industrialio-buffer.c:2408
msgid "channel data excluding the timestamp."
msgstr ""

#: ../../../driver-api/iio/buffers:125:
#: ../drivers/iio/industrialio-buffer.c:2410
msgid "``size_t data_sz``"
msgstr ""

#: ../../../driver-api/iio/buffers:125:
#: ../drivers/iio/industrialio-buffer.c:2409
msgid "size of data."
msgstr ""

#: ../../../driver-api/iio/buffers:125:
#: ../drivers/iio/industrialio-buffer.c:2410
msgid "timestamp for the sample data."
msgstr ""

#: ../../../driver-api/iio/buffers:125:
#: ../drivers/iio/industrialio-buffer.c:2411
msgid ""
"This special variant of iio_push_to_buffers_with_timestamp() does not "
"require space for the timestamp, or 8 byte alignment of data. It does "
"however require an allocation on first call and additional copies on all "
"calls, so should be avoided if possible."
msgstr ""

#: ../../../driver-api/iio/buffers:125:
#: ../drivers/iio/industrialio-buffer.c:2417
msgid "May sleep."
msgstr ""

#: ../../../driver-api/iio/buffers:125:
#: ../drivers/iio/industrialio-buffer.c:2473
msgid "Grab a reference to the buffer"
msgstr ""

#: ../../../driver-api/iio/buffers:125:
#: ../drivers/iio/industrialio-buffer.c:2479
#: ../drivers/iio/industrialio-buffer.c:2494
#: ../drivers/iio/industrialio-buffer.c:2502
msgid "``struct iio_buffer *buffer``"
msgstr ""

#: ../../../driver-api/iio/buffers:125:
#: ../drivers/iio/industrialio-buffer.c:2474
msgid "The buffer to grab a reference for, may be NULL"
msgstr ""

#: ../../../driver-api/iio/buffers:125:
#: ../drivers/iio/industrialio-buffer.c:2475
msgid "Returns the pointer to the buffer that was passed into the function."
msgstr ""

#: ../../../driver-api/iio/buffers:125:
#: ../drivers/iio/industrialio-buffer.c:2488
msgid "Release the reference to the buffer"
msgstr ""

#: ../../../driver-api/iio/buffers:125:
#: ../drivers/iio/industrialio-buffer.c:2489
msgid "The buffer to release the reference for, may be NULL"
msgstr ""

#: ../../../driver-api/iio/buffers:125:
#: ../drivers/iio/industrialio-buffer.c:2499
msgid "Attach a buffer to a IIO device"
msgstr ""

#: ../../../driver-api/iio/buffers:125:
#: ../drivers/iio/industrialio-buffer.c:2500
msgid "The device the buffer should be attached to"
msgstr ""

#: ../../../driver-api/iio/buffers:125:
#: ../drivers/iio/industrialio-buffer.c:2501
msgid "The buffer to attach to the device"
msgstr ""

#: ../../../driver-api/iio/buffers:125:
#: ../drivers/iio/industrialio-buffer.c:2502
msgid "Return 0 if successful, negative if error."
msgstr ""

#: ../../../driver-api/iio/buffers:125:
#: ../drivers/iio/industrialio-buffer.c:2504
msgid ""
"This function attaches a buffer to a IIO device. The buffer stays attached "
"to the device until the device is freed. For legacy reasons, the first "
"attached buffer will also be assigned to 'indio_dev->buffer'. The array "
"allocated here, will be free'd via the iio_device_detach_buffers() call "
"which is handled by the iio_device_free()."
msgstr ""
