# SOME DESCRIPTIVE TITLE.
# Copyright (C) The kernel development community
# This file is distributed under the same license as the The Linux Kernel package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: The Linux Kernel 6\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2025-09-27 13:54+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: zh_CN\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../../userspace-api/fwctl/fwctl-cxl.rst:5
msgid "fwctl cxl driver"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl.rst:0
msgid "Author"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl.rst:7
msgid "Dave Jiang"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl.rst:10
msgid "Overview"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl.rst:12
msgid ""
"The CXL spec defines a set of commands that can be issued to the mailbox of "
"a CXL device or switch. It also left room for vendor specific commands to be "
"issued to the mailbox as well. fwctl provides a path to issue a set of "
"allowed mailbox commands from user space to the device moderated by the "
"kernel driver."
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl.rst:17
msgid ""
"The following 3 commands will be used to support CXL Features: CXL spec r3.1 "
"8.2.9.6.1 Get Supported Features (Opcode 0500h) CXL spec r3.1 8.2.9.6.2 Get "
"Feature (Opcode 0501h) CXL spec r3.1 8.2.9.6.3 Set Feature (Opcode 0502h)"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl.rst:22
msgid ""
"The \"Get Supported Features\" return data may be filtered by the kernel "
"driver to drop any features that are forbidden by the kernel or being "
"exclusively used by the kernel. The driver will set the \"Set Feature Size\" "
"of the \"Get Supported Features Supported Feature Entry\" to 0 to indicate "
"that the Feature cannot be modified. The \"Get Supported Features\" command "
"and the \"Get Features\" falls under the fwctl policy of "
"FWCTL_RPC_CONFIGURATION."
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl.rst:29
msgid ""
"For \"Set Feature\" command, the access policy currently is broken down into "
"two categories depending on the Set Feature effects reported by the device. "
"If the Set Feature will cause immediate change to the device, the fwctl "
"access policy must be FWCTL_RPC_DEBUG_WRITE_FULL. The effects for this level "
"are \"immediate config change\", \"immediate data change\", \"immediate "
"policy change\", or \"immediate log change\" for the set effects mask. If "
"the effects are \"config change with cold reset\" or \"config change with "
"conventional reset\", then the fwctl access policy must be "
"FWCTL_RPC_DEBUG_WRITE or higher."
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl.rst:39
msgid "fwctl cxl User API"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:41: include/uapi/fwctl/cxl.h:15
msgid "ioctl(FWCTL_RPC) input for CXL"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:142: include/cxl/features.h:55
#: ../../../userspace-api/fwctl/fwctl-cxl:41: include/uapi/fwctl/cxl.h:19
#: include/uapi/fwctl/cxl.h:43
msgid "**Definition**::"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:142: include/cxl/features.h:66
#: ../../../userspace-api/fwctl/fwctl-cxl:41: include/uapi/fwctl/cxl.h:33
#: include/uapi/fwctl/cxl.h:54
msgid "**Members**"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:41: include/uapi/fwctl/cxl.h:16
msgid "``opcode``"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:41: include/uapi/fwctl/cxl.h:17
msgid "CXL mailbox command opcode"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:41: include/uapi/fwctl/cxl.h:17
msgid "``flags``"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:41: include/uapi/fwctl/cxl.h:18
msgid "Flags for the command (input)."
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:41: include/uapi/fwctl/cxl.h:18
msgid "``op_size``"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:41: include/uapi/fwctl/cxl.h:19
msgid "Size of input payload."
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:41: include/uapi/fwctl/cxl.h:19
msgid "``reserved1``"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:41: include/uapi/fwctl/cxl.h:20
msgid "Reserved. Must be 0s."
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:41: include/uapi/fwctl/cxl.h:1
msgid "``{unnamed_union}``"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:41: include/uapi/fwctl/cxl.h:2
msgid "anonymous"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:41: include/uapi/fwctl/cxl.h:20
msgid "``get_sup_feats_in``"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:41: include/uapi/fwctl/cxl.h:21
msgid "Get Supported Features input"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:41: include/uapi/fwctl/cxl.h:21
msgid "``get_feat_in``"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:41: include/uapi/fwctl/cxl.h:22
msgid "Get Feature input"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:41: include/uapi/fwctl/cxl.h:22
msgid "``set_feat_in``"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:41: include/uapi/fwctl/cxl.h:23
msgid "Set Feature input"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:41: include/uapi/fwctl/cxl.h:39
msgid "ioctl(FWCTL_RPC) output for CXL"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:41: include/uapi/fwctl/cxl.h:40
msgid "``size``"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:41: include/uapi/fwctl/cxl.h:41
msgid "Size of the output payload"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:41: include/uapi/fwctl/cxl.h:41
msgid "``retval``"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:41: include/uapi/fwctl/cxl.h:42
msgid "Return value from device"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:41: include/uapi/fwctl/cxl.h:42
msgid "``get_sup_feats_out``"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:41: include/uapi/fwctl/cxl.h:43
msgid "Get Supported Features output"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:41: include/uapi/fwctl/cxl.h:43
msgid "``payload``"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:41: include/uapi/fwctl/cxl.h:44
msgid "raw byte stream of payload"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl.rst:44
msgid "1. Driver info query"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl.rst:46
msgid ""
"First step for the app is to issue the ioctl(FWCTL_CMD_INFO). Successful "
"invocation of the ioctl implies the Features capability is operational and "
"returns an all zeros 32bit payload. A ``struct fwctl_info`` needs to be "
"filled out with the ``fwctl_info.out_device_type`` set to "
"``FWCTL_DEVICE_TYPE_CXL``. The return data should be ``struct "
"fwctl_info_cxl`` that contains a reserved 32bit field that should be all "
"zeros."
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl.rst:54
msgid "2. Send hardware commands"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl.rst:56
msgid ""
"Next step is to send the 'Get Supported Features' command to the driver from "
"user space via ioctl(FWCTL_RPC). A ``struct fwctl_rpc_cxl`` is pointed to by "
"``fwctl_rpc.in``. ``struct fwctl_rpc_cxl.in_payload`` points to the hardware "
"input structure that is defined by the CXL spec. ``fwctl_rpc.out`` points to "
"the buffer that contains a ``struct fwctl_rpc_cxl_out`` that includes the "
"hardware output data inlined as ``fwctl_rpc_cxl_out.payload``. This command "
"is called twice. First time to retrieve the number of features supported. A "
"second time to retrieve the specific feature details as the output data."
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl.rst:65
msgid ""
"After getting the specific feature details, a Get/Set Feature command can be "
"appropriately programmed and sent. For a \"Set Feature\" command, the "
"retrieved feature info contains an effects field that details the resulting "
"\"Set Feature\" command will trigger. That will inform the user whether the "
"system is configured to allowed the \"Set Feature\" command or not."
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl.rst:72
msgid "Code example of a Get Feature"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl.rst:132
msgid ""
"Take a look at CXL CLI test directory <https://github.com/pmem/ndctl/tree/"
"main/test/fwctl.c> for a detailed user code for examples on how to exercise "
"this path."
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl.rst:138
msgid "fwctl cxl Kernel API"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:140: drivers/cxl/core/features.c:194
msgid "Allocate and initialize features context"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:140: drivers/cxl/core/features.c:198
msgid "**Parameters**"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:140: drivers/cxl/core/features.c:200
msgid "``struct cxl_dev_state *cxlds``"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:140: drivers/cxl/core/features.c:195
msgid "CXL device context"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:140: drivers/cxl/core/features.c:197
msgid "**Description**"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:140: drivers/cxl/core/features.c:196
msgid "Return 0 on success or -errno on failure."
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:142: include/cxl/features.h:51
msgid "The Features state for the device"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:142: include/cxl/features.h:52
msgid "``cxlds``"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:142: include/cxl/features.h:53
msgid "Pointer to CXL device state"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:142: include/cxl/features.h:53
msgid "``entries``"
msgstr ""

#: ../../../userspace-api/fwctl/fwctl-cxl:142: include/cxl/features.h:54
msgid "CXl feature entry context"
msgstr ""
