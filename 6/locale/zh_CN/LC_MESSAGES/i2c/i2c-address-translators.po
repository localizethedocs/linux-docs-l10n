# SOME DESCRIPTIVE TITLE.
# Copyright (C) The kernel development community
# This file is distributed under the same license as the The Linux Kernel package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: The Linux Kernel 6\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2025-09-30 08:40+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: zh_CN\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../../i2c/i2c-address-translators.rst:5
msgid "I2C Address Translators"
msgstr ""

#: ../../../i2c/i2c-address-translators.rst:7
msgid ""
"Author: Luca Ceresoli <luca@lucaceresoli.net> Author: Tomi Valkeinen <tomi."
"valkeinen@ideasonboard.com>"
msgstr ""

#: ../../../i2c/i2c-address-translators.rst:11
msgid "Description"
msgstr ""

#: ../../../i2c/i2c-address-translators.rst:13
msgid ""
"An I2C Address Translator (ATR) is a device with an I2C slave parent "
"(\"upstream\") port and N I2C master child (\"downstream\") ports, and "
"forwards transactions from upstream to the appropriate downstream port with "
"a modified slave address. The address used on the parent bus is called the "
"\"alias\" and is (potentially) different from the physical slave address of "
"the child bus. Address translation is done by the hardware."
msgstr ""

#: ../../../i2c/i2c-address-translators.rst:21
msgid "An ATR looks similar to an i2c-mux except:"
msgstr ""

#: ../../../i2c/i2c-address-translators.rst:22
msgid "the address on the parent and child busses can be different"
msgstr ""

#: ../../../i2c/i2c-address-translators.rst:23
msgid ""
"there is normally no need to select the child port; the alias used on the "
"parent bus implies it"
msgstr ""

#: ../../../i2c/i2c-address-translators.rst:26
msgid ""
"The ATR functionality can be provided by a chip with many other features. "
"The kernel i2c-atr provides a helper to implement an ATR within a driver."
msgstr ""

#: ../../../i2c/i2c-address-translators.rst:29
msgid ""
"The ATR creates a new I2C \"child\" adapter on each child bus. Adding "
"devices on the child bus ends up in invoking the driver code to select an "
"available alias. Maintaining an appropriate pool of available aliases and "
"picking one for each new device is up to the driver implementer. The ATR "
"maintains a table of currently assigned alias and uses it to modify all I2C "
"transactions directed to devices on the child buses."
msgstr ""

#: ../../../i2c/i2c-address-translators.rst:36
msgid "A typical example follows."
msgstr ""

#: ../../../i2c/i2c-address-translators.rst:38
msgid "Topology::"
msgstr ""

#: ../../../i2c/i2c-address-translators.rst:48
#: ../../../i2c/i2c-address-translators.rst:55
msgid "Alias table:"
msgstr ""

#: ../../../i2c/i2c-address-translators.rst:50
msgid ""
"A, B and C are three physical I2C busses, electrically independent from each "
"other. The ATR receives the transactions initiated on bus A and propagates "
"them on bus B or bus C or none depending on the device address in the "
"transaction and based on the alias table."
msgstr ""

#: ../../../i2c/i2c-address-translators.rst:60
msgid "Client"
msgstr ""

#: ../../../i2c/i2c-address-translators.rst:60
msgid "Alias"
msgstr ""

#: ../../../i2c/i2c-address-translators.rst:62
msgid "X (bus B, 0x10)"
msgstr ""

#: ../../../i2c/i2c-address-translators.rst:62
msgid "0x20"
msgstr ""

#: ../../../i2c/i2c-address-translators.rst:63
msgid "Y (bus C, 0x10)"
msgstr ""

#: ../../../i2c/i2c-address-translators.rst:63
msgid "0x30"
msgstr ""

#: ../../../i2c/i2c-address-translators.rst:66
msgid "Transaction:"
msgstr ""

#: ../../../i2c/i2c-address-translators.rst:68
msgid ""
"Slave X driver requests a transaction (on adapter B), slave address 0x10"
msgstr ""

#: ../../../i2c/i2c-address-translators.rst:69
msgid ""
"ATR driver finds slave X is on bus B and has alias 0x20, rewrites messages "
"with address 0x20, forwards to adapter A"
msgstr ""

#: ../../../i2c/i2c-address-translators.rst:71
msgid "Physical I2C transaction on bus A, slave address 0x20"
msgstr ""

#: ../../../i2c/i2c-address-translators.rst:72
msgid ""
"ATR chip detects transaction on address 0x20, finds it in table, propagates "
"transaction on bus B with address translated to 0x10, keeps clock stretched "
"on bus A waiting for reply"
msgstr ""

#: ../../../i2c/i2c-address-translators.rst:75
msgid ""
"Slave X chip (on bus B) detects transaction at its own physical address 0x10 "
"and replies normally"
msgstr ""

#: ../../../i2c/i2c-address-translators.rst:77
msgid ""
"ATR chip stops clock stretching and forwards reply on bus A, with address "
"translated back to 0x20"
msgstr ""

#: ../../../i2c/i2c-address-translators.rst:79
msgid ""
"ATR driver receives the reply, rewrites messages with address 0x10 as they "
"were initially"
msgstr ""

#: ../../../i2c/i2c-address-translators.rst:81
msgid "Slave X driver gets back the msgs[], with reply and address 0x10"
msgstr ""

#: ../../../i2c/i2c-address-translators.rst:83
msgid "Usage:"
msgstr ""

#: ../../../i2c/i2c-address-translators.rst:85
msgid ""
"In the driver (typically in the probe function) add an ATR by calling "
"i2c_atr_new() passing attach/detach callbacks"
msgstr ""

#: ../../../i2c/i2c-address-translators.rst:87
msgid ""
"When the attach callback is called pick an appropriate alias, configure it "
"in the chip and return the chosen alias in the alias_id parameter"
msgstr ""

#: ../../../i2c/i2c-address-translators.rst:90
msgid ""
"When the detach callback is called, deconfigure the alias from the chip and "
"put the alias back in the pool for later usage"
msgstr ""

#: ../../../i2c/i2c-address-translators.rst:94
msgid "I2C ATR functions and data structures"
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:22
msgid "Flags for an I2C ATR driver"
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:26
msgid "**Constants**"
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:28
msgid "``I2C_ATR_F_STATIC``"
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:29
msgid ""
"ATR does not support dynamic mapping, use static mapping. Mappings will only "
"be added or removed as a result of devices being added or removed from a "
"child bus. The ATR pool will have to be big enough to accomodate all devices "
"expected to be added to the child buses."
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:35
msgid "``I2C_ATR_F_PASSTHROUGH``"
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:36
msgid "Allow unmapped incoming addresses to pass through"
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:37
msgid "Callbacks from ATR to the device driver."
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:41
#: include/linux/i2c-atr.h:59
msgid "**Definition**::"
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:48
#: include/linux/i2c-atr.h:69
msgid "**Members**"
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:38
msgid "``attach_addr``"
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:39
msgid ""
"Notify the driver of a new device connected on a child bus, with the alias "
"assigned to it. The driver must configure the hardware to use the alias."
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:41
msgid "``detach_addr``"
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:42
msgid ""
"Notify the driver of a device getting disconnected. The driver must "
"configure the hardware to stop using the alias."
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:47
#: include/linux/i2c-atr.h:85 include/linux/i2c-atr.h:100
#: include/linux/i2c-atr.h:110
msgid "**Description**"
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:44
msgid ""
"All these functions return 0 on success, a negative error code otherwise."
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:55
msgid "An ATR downstream bus descriptor"
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:56
msgid "``chan_id``"
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:57
msgid ""
"Index of the new adapter (0 .. max_adapters-1).  This value is passed to the "
"callbacks in `struct i2c_atr_ops`."
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:58
msgid "``parent``"
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:59
msgid ""
"The device used as the parent of the new i2c adapter, or NULL to use the i2c-"
"atr device as the parent."
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:60
msgid "``bus_handle``"
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:61
msgid ""
"The fwnode handle that points to the adapter's i2c peripherals, or NULL."
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:62
msgid "``num_aliases``"
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:63
msgid ""
"The number of aliases in this adapter's private alias pool. Set to zero if "
"this adapter uses the ATR's global alias pool."
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:64
msgid "``aliases``"
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:65
msgid ""
"An optional array of private aliases used by the adapter instead of the "
"ATR's global pool of aliases. Must contain exactly num_aliases entries if "
"num_aliases > 0, is ignored otherwise."
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:78
msgid "Allocate and initialize an I2C ATR helper."
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:82
#: include/linux/i2c-atr.h:101 include/linux/i2c-atr.h:110
#: include/linux/i2c-atr.h:130 include/linux/i2c-atr.h:139
#: include/linux/i2c-atr.h:146
msgid "**Parameters**"
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:84
msgid "``struct i2c_adapter *parent``"
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:79
msgid "The parent (upstream) adapter"
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:81
msgid "``struct device *dev``"
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:80
msgid "The device acting as an ATR"
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:82
msgid "``const struct i2c_atr_ops *ops``"
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:81
msgid "Driver-specific callbacks"
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:83
msgid "``int max_adapters``"
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:82
msgid "Maximum number of child adapters"
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:84
msgid "``u32 flags``"
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:83
msgid "Flags for ATR"
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:84
msgid ""
"The new ATR helper is connected to the parent adapter but has no child "
"adapters. Call i2c_atr_add_adapter() to add some."
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:87
msgid "Call i2c_atr_delete() to remove."
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:89
#: include/linux/i2c-atr.h:120 include/linux/i2c-atr.h:145
msgid "**Return**"
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:90
msgid "pointer to the new ATR helper object, or ERR_PTR"
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:97
msgid "Delete an I2C ATR helper."
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:103
#: include/linux/i2c-atr.h:112 include/linux/i2c-atr.h:132
#: include/linux/i2c-atr.h:141 include/linux/i2c-atr.h:148
msgid "``struct i2c_atr *atr``"
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:98
msgid "I2C ATR helper to be deleted."
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:99
msgid ""
"Precondition: all the adapters added with i2c_atr_add_adapter() must be "
"removed by calling i2c_atr_del_adapter()."
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:106
msgid "Create a child (\"downstream\") I2C bus."
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:107
#: include/linux/i2c-atr.h:129 include/linux/i2c-atr.h:136
#: include/linux/i2c-atr.h:143
msgid "The I2C ATR"
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:109
msgid "``struct i2c_atr_adap_desc *desc``"
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:108
msgid "An ATR adapter descriptor"
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:109
msgid ""
"After calling this function a new i2c bus will appear. Adding and removing "
"devices on the downstream bus will result in calls to the :c:type:"
"`i2c_atr_ops->attach_client <i2c_atr_ops>` and :c:type:`i2c_atr_ops-"
">detach_client <i2c_atr_ops>` callbacks for the driver to assign an alias to "
"the device."
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:114
msgid ""
"The adapter's fwnode is set to **bus_handle**, or if **bus_handle** is NULL "
"the function looks for a child node whose 'reg' property matches the chan_id "
"under the i2c-atr device's 'i2c-atr' node."
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:118
msgid "Call i2c_atr_del_adapter() to remove the adapter."
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:121
msgid "0 on success, a negative error code otherwise."
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:126
msgid ""
"Remove a child (\"downstream\") I2C bus added by i2c_atr_add_adapter(). If "
"no I2C bus has been added this function is a no-op."
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:131
msgid "``u32 chan_id``"
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:130
msgid "Index of the adapter to be removed (0 .. max_adapters-1)"
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:135
msgid "Set private driver data to the i2c-atr instance."
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:138
msgid "``void *data``"
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:137
msgid "Pointer to the data to store"
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:142
msgid "Get the stored drive data."
msgstr ""

#: ../../../i2c/i2c-address-translators:96: include/linux/i2c-atr.h:145
msgid "Pointer to the stored data"
msgstr ""
