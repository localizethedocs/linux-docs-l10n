# SOME DESCRIPTIVE TITLE.
# Copyright (C) The kernel development community
# This file is distributed under the same license as the The Linux Kernel package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: The Linux Kernel 6\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2025-09-30 08:40+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: zh_CN\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../../admin-guide/parport.rst:2
msgid "Parport"
msgstr ""

#: ../../../admin-guide/parport.rst:4
msgid ""
"The ``parport`` code provides parallel-port support under Linux.  This "
"includes the ability to share one port between multiple device drivers."
msgstr ""

#: ../../../admin-guide/parport.rst:8
msgid ""
"You can pass parameters to the ``parport`` code to override its automatic "
"detection of your hardware.  This is particularly useful if you want to use "
"IRQs, since in general these can't be autoprobed successfully. By default "
"IRQs are not used even if they **can** be probed.  This is because there are "
"a lot of people using the same IRQ for their parallel port and a sound card "
"or network card."
msgstr ""

#: ../../../admin-guide/parport.rst:15
msgid ""
"The ``parport`` code is split into two parts: generic (which deals with port-"
"sharing) and architecture-dependent (which deals with actually using the "
"port)."
msgstr ""

#: ../../../admin-guide/parport.rst:21
msgid "Parport as modules"
msgstr ""

#: ../../../admin-guide/parport.rst:23
msgid "If you load the `parport`` code as a module, say::"
msgstr ""

#: ../../../admin-guide/parport.rst:27
msgid ""
"to load the generic ``parport`` code.  You then must load the architecture-"
"dependent code with (for example)::"
msgstr ""

#: ../../../admin-guide/parport.rst:32
msgid ""
"to tell the ``parport`` code that you want three PC-style ports, one at "
"0x3bc with no IRQ, one at 0x378 using IRQ 7, and one at 0x278 with an auto-"
"detected IRQ.  Currently, PC-style (``parport_pc``), Sun ``bpp``, Amiga, "
"Atari, and MFC3 hardware is supported."
msgstr ""

#: ../../../admin-guide/parport.rst:37
msgid ""
"PCI parallel I/O card support comes from ``parport_pc``.  Base I/O addresses "
"should not be specified for supported PCI cards since they are automatically "
"detected."
msgstr ""

#: ../../../admin-guide/parport.rst:43
msgid "modprobe"
msgstr ""

#: ../../../admin-guide/parport.rst:45
msgid ""
"If you use modprobe , you will find it useful to add lines as below to a "
"configuration file in /etc/modprobe.d/ directory::"
msgstr ""

#: ../../../admin-guide/parport.rst:51
msgid ""
"modprobe will load ``parport_pc`` (with the options ``io=0x378,0x278 irq=7,"
"auto``) whenever a parallel port device driver (such as ``lp``) is loaded."
msgstr ""

#: ../../../admin-guide/parport.rst:54
msgid ""
"Note that these are example lines only!  You shouldn't in general need to "
"specify any options to ``parport_pc`` in order to be able to use a parallel "
"port."
msgstr ""

#: ../../../admin-guide/parport.rst:60
msgid "Parport probe [optional]"
msgstr ""

#: ../../../admin-guide/parport.rst:62
msgid ""
"In 2.2 kernels there was a module called ``parport_probe``, which was used "
"for collecting IEEE 1284 device ID information.  This has now been enhanced "
"and now lives with the IEEE 1284 support.  When a parallel port is detected, "
"the devices that are connected to it are analysed, and information is logged "
"like this::"
msgstr ""

#: ../../../admin-guide/parport.rst:70
msgid ""
"The probe information is available from files in ``/proc/sys/dev/parport/``."
msgstr ""

#: ../../../admin-guide/parport.rst:74
msgid "Parport linked into the kernel statically"
msgstr ""

#: ../../../admin-guide/parport.rst:76
msgid ""
"If you compile the ``parport`` code into the kernel, then you can use kernel "
"boot parameters to get the same effect.  Add something like the following to "
"your LILO command line::"
msgstr ""

#: ../../../admin-guide/parport.rst:82
msgid ""
"You can have many ``parport=...`` statements, one for each port you want to "
"add.  Adding ``parport=0`` to the kernel command-line will disable parport "
"support entirely.  Adding ``parport=auto`` to the kernel command-line will "
"make ``parport`` use any IRQ lines or DMA channels that it auto-detects."
msgstr ""

#: ../../../admin-guide/parport.rst:90
msgid "Files in /proc"
msgstr ""

#: ../../../admin-guide/parport.rst:92
msgid ""
"If you have configured the ``/proc`` filesystem into your kernel, you will "
"see a new directory entry: ``/proc/sys/dev/parport``.  In there will be a "
"directory entry for each parallel port for which parport is configured.  In "
"each of those directories are a collection of files describing that parallel "
"port."
msgstr ""

#: ../../../admin-guide/parport.rst:98
msgid "The ``/proc/sys/dev/parport`` directory tree looks like::"
msgstr ""

#: ../../../admin-guide/parport.rst:138
msgid "File"
msgstr ""

#: ../../../admin-guide/parport.rst:138
msgid "Contents"
msgstr ""

#: ../../../admin-guide/parport.rst:140
msgid "``devices/active``"
msgstr ""

#: ../../../admin-guide/parport.rst:140
msgid ""
"A list of the device drivers using that port.  A \"+\" will appear by the "
"name of the device currently using the port (it might not appear against "
"any).  The string \"none\" means that there are no device drivers using that "
"port."
msgstr ""

#: ../../../admin-guide/parport.rst:146
msgid "``base-addr``"
msgstr ""

#: ../../../admin-guide/parport.rst:146
msgid ""
"Parallel port's base address, or addresses if the port has more than one in "
"which case they are separated with tabs.  These values might not have any "
"sensible meaning for some ports."
msgstr ""

#: ../../../admin-guide/parport.rst:151
msgid "``irq``"
msgstr ""

#: ../../../admin-guide/parport.rst:151
msgid "Parallel port's IRQ, or -1 if none is being used."
msgstr ""

#: ../../../admin-guide/parport.rst:153
msgid "``dma``"
msgstr ""

#: ../../../admin-guide/parport.rst:153
msgid "Parallel port's DMA channel, or -1 if none is being used."
msgstr ""

#: ../../../admin-guide/parport.rst:156
msgid "``modes``"
msgstr ""

#: ../../../admin-guide/parport.rst:156
msgid "Parallel port's hardware modes, comma-separated, meaning:"
msgstr ""

#: ../../../admin-guide/parport.rst:159
msgid "PCSPP"
msgstr ""

#: ../../../admin-guide/parport.rst:160
msgid "PC-style SPP registers are available."
msgstr ""

#: ../../../admin-guide/parport.rst:162
msgid "TRISTATE"
msgstr ""

#: ../../../admin-guide/parport.rst:163
msgid "Port is bidirectional."
msgstr ""

#: ../../../admin-guide/parport.rst:165
msgid "COMPAT"
msgstr ""

#: ../../../admin-guide/parport.rst:166
msgid "Hardware acceleration for printers is available and will be used."
msgstr ""

#: ../../../admin-guide/parport.rst:169
msgid "EPP"
msgstr ""

#: ../../../admin-guide/parport.rst:170
msgid "Hardware acceleration for EPP protocol is available and will be used."
msgstr ""

#: ../../../admin-guide/parport.rst:173
msgid "ECP"
msgstr ""

#: ../../../admin-guide/parport.rst:174
msgid "Hardware acceleration for ECP protocol is available and will be used."
msgstr ""

#: ../../../admin-guide/parport.rst:177
msgid "DMA"
msgstr ""

#: ../../../admin-guide/parport.rst:178
msgid "DMA is available and will be used."
msgstr ""

#: ../../../admin-guide/parport.rst:180
msgid ""
"Note that the current implementation will only take advantage of COMPAT and "
"ECP modes if it has an IRQ line to use."
msgstr ""

#: ../../../admin-guide/parport.rst:184
msgid "``autoprobe``"
msgstr ""

#: ../../../admin-guide/parport.rst:184
msgid ""
"Any IEEE-1284 device ID information that has been acquired from the (non-"
"IEEE 1284.3) device."
msgstr ""

#: ../../../admin-guide/parport.rst:187
msgid "``autoprobe[0-3]``"
msgstr ""

#: ../../../admin-guide/parport.rst:187
msgid ""
"IEEE 1284 device ID information retrieved from daisy-chain devices that "
"conform to IEEE 1284.3."
msgstr ""

#: ../../../admin-guide/parport.rst:190
msgid "``spintime``"
msgstr ""

#: ../../../admin-guide/parport.rst:190
msgid ""
"The number of microseconds to busy-loop while waiting for the peripheral to "
"respond.  You might find that adjusting this improves performance, depending "
"on your peripherals.  This is a port-wide setting, i.e. it applies to all "
"devices on a particular port."
msgstr ""

#: ../../../admin-guide/parport.rst:196
msgid "``timeslice``"
msgstr ""

#: ../../../admin-guide/parport.rst:196
msgid ""
"The number of milliseconds that a device driver is allowed to keep a port "
"claimed for.  This is advisory, and driver can ignore it if it must."
msgstr ""

#: ../../../admin-guide/parport.rst:200
msgid "``default/*``"
msgstr ""

#: ../../../admin-guide/parport.rst:200
msgid ""
"The defaults for spintime and timeslice. When a new port is registered, it "
"picks up the default spintime. When a new device is registered, it picks up "
"the default timeslice."
msgstr ""

#: ../../../admin-guide/parport.rst:207
msgid "Device drivers"
msgstr ""

#: ../../../admin-guide/parport.rst:209
msgid ""
"Once the parport code is initialised, you can attach device drivers to "
"specific ports.  Normally this happens automatically; if the lp driver is "
"loaded it will create one lp device for each port found.  You can override "
"this, though, by using parameters either when you load the lp driver::"
msgstr ""

#: ../../../admin-guide/parport.rst:217
msgid "or on the LILO command line::"
msgstr ""

#: ../../../admin-guide/parport.rst:221
msgid ""
"Both the above examples would inform lp that you want ``/dev/lp0`` to be the "
"first parallel port, and /dev/lp1 to be the **third** parallel port, with no "
"lp device associated with the second port (parport1).  Note that this is "
"different to the way older kernels worked; there used to be a static "
"association between the I/O port address and the device name, so ``/dev/"
"lp0`` was always the port at 0x3bc.  This is no longer the case - if you "
"only have one port, it will default to being ``/dev/lp0``, regardless of "
"base address."
msgstr ""

#: ../../../admin-guide/parport.rst:230
msgid "Also:"
msgstr ""

#: ../../../admin-guide/parport.rst:232
msgid ""
"If you selected the IEEE 1284 support at compile time, you can say "
"``lp=auto`` on the kernel command line, and lp will create devices only for "
"those ports that seem to have printers attached."
msgstr ""

#: ../../../admin-guide/parport.rst:236
msgid ""
"If you give PLIP the ``timid`` parameter, either with ``plip=timid`` on the "
"command line, or with ``insmod plip timid=1`` when using modules, it will "
"avoid any ports that seem to be in use by other devices."
msgstr ""

#: ../../../admin-guide/parport.rst:240
msgid "IRQ autoprobing works only for a few port types at the moment."
msgstr ""

#: ../../../admin-guide/parport.rst:243
msgid "Reporting printer problems with parport"
msgstr ""

#: ../../../admin-guide/parport.rst:245
msgid ""
"If you are having problems printing, please go through these steps to try to "
"narrow down where the problem area is."
msgstr ""

#: ../../../admin-guide/parport.rst:248
msgid ""
"When reporting problems with parport, really you need to give all of the "
"messages that ``parport_pc`` spits out when it initialises.  There are "
"several code paths:"
msgstr ""

#: ../../../admin-guide/parport.rst:252
msgid "polling"
msgstr ""

#: ../../../admin-guide/parport.rst:253
msgid "interrupt-driven, protocol in software"
msgstr ""

#: ../../../admin-guide/parport.rst:254
msgid "interrupt-driven, protocol in hardware using PIO"
msgstr ""

#: ../../../admin-guide/parport.rst:255
msgid "interrupt-driven, protocol in hardware using DMA"
msgstr ""

#: ../../../admin-guide/parport.rst:257
msgid ""
"The kernel messages that ``parport_pc`` logs give an indication of which "
"code path is being used. (They could be a lot better actually..)"
msgstr ""

#: ../../../admin-guide/parport.rst:260
msgid ""
"For normal printer protocol, having IEEE 1284 modes enabled or not should "
"not make a difference."
msgstr ""

#: ../../../admin-guide/parport.rst:263
msgid ""
"To turn off the 'protocol in hardware' code paths, disable "
"``CONFIG_PARPORT_PC_FIFO``.  Note that when they are enabled they are not "
"necessarily **used**; it depends on whether the hardware is available, "
"enabled by the BIOS, and detected by the driver."
msgstr ""

#: ../../../admin-guide/parport.rst:268
msgid ""
"So, to start with, disable ``CONFIG_PARPORT_PC_FIFO``, and load "
"``parport_pc`` with ``irq=none``. See if printing works then.  It really "
"should, because this is the simplest code path."
msgstr ""

#: ../../../admin-guide/parport.rst:272
msgid ""
"If that works fine, try with ``io=0x378 irq=7`` (adjust for your hardware), "
"to make it use interrupt-driven in-software protocol."
msgstr ""

#: ../../../admin-guide/parport.rst:275
msgid ""
"If **that** works fine, then one of the hardware modes isn't working right.  "
"Enable ``CONFIG_FIFO`` (no, it isn't a module option, and yes, it should "
"be), set the port to ECP mode in the BIOS and note the DMA channel, and try "
"with::"
msgstr ""

#: ../../../admin-guide/parport.rst:285
msgid "philb@gnu.org tim@cyberelk.net"
msgstr ""
