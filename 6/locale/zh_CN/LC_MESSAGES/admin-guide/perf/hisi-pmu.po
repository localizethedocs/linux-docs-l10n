# SOME DESCRIPTIVE TITLE.
# Copyright (C) The kernel development community
# This file is distributed under the same license as the The Linux Kernel package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: The Linux Kernel 6\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2025-09-30 08:40+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: zh_CN\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../../admin-guide/perf/hisi-pmu.rst:3
msgid "HiSilicon SoC uncore Performance Monitoring Unit (PMU)"
msgstr ""

#: ../../../admin-guide/perf/hisi-pmu.rst:5
msgid ""
"The HiSilicon SoC chip includes various independent system device PMUs such "
"as L3 cache (L3C), Hydra Home Agent (HHA) and DDRC. These PMUs are "
"independent and have hardware logic to gather statistics and performance "
"information."
msgstr ""

#: ../../../admin-guide/perf/hisi-pmu.rst:10
msgid ""
"The HiSilicon SoC encapsulates multiple CPU and IO dies. Each CPU cluster "
"(CCL) is made up of 4 cpu cores sharing one L3 cache; each CPU die is called "
"Super CPU cluster (SCCL) and is made up of 6 CCLs. Each SCCL has two HHAs (0 "
"- 1) and four DDRCs (0 - 3), respectively."
msgstr ""

#: ../../../admin-guide/perf/hisi-pmu.rst:16
msgid "HiSilicon SoC uncore PMU driver"
msgstr ""

#: ../../../admin-guide/perf/hisi-pmu.rst:18
msgid ""
"Each device PMU has separate registers for event counting, control and "
"interrupt, and the PMU driver shall register perf PMU drivers like L3C, HHA "
"and DDRC etc. The available events and configuration options shall be "
"described in the sysfs, see:"
msgstr ""

#: ../../../admin-guide/perf/hisi-pmu.rst:23
msgid ""
"/sys/bus/event_source/devices/hisi_sccl{X}_<l3c{Y}/hha{Y}/ddrc{Y}>. The "
"\"perf list\" command shall list the available events from sysfs."
msgstr ""

#: ../../../admin-guide/perf/hisi-pmu.rst:26
msgid ""
"Each L3C, HHA and DDRC is registered as a separate PMU with perf. The PMU "
"name will appear in event listing as hisi_sccl<sccl-id>_module<index-id>. "
"where \"sccl-id\" is the identifier of the SCCL and \"index-id\" is the "
"index of module."
msgstr ""

#: ../../../admin-guide/perf/hisi-pmu.rst:31
msgid ""
"e.g. hisi_sccl3_l3c0/rd_hit_cpipe is READ_HIT_CPIPE event of L3C index #0 in "
"SCCL ID #3."
msgstr ""

#: ../../../admin-guide/perf/hisi-pmu.rst:34
msgid ""
"e.g. hisi_sccl1_hha0/rx_operations is RX_OPERATIONS event of HHA index #0 in "
"SCCL ID #1."
msgstr ""

#: ../../../admin-guide/perf/hisi-pmu.rst:37
msgid ""
"The driver also provides a \"cpumask\" sysfs attribute, which shows the CPU "
"core ID used to count the uncore PMU event. An \"associated_cpus\" sysfs "
"attribute is also provided to show the CPUs associated with this PMU. The "
"\"cpumask\" indicates the CPUs to open the events, usually as a hint for "
"userspaces tools like perf. It only contains one associated CPU from the "
"\"associated_cpus\"."
msgstr ""

#: ../../../admin-guide/perf/hisi-pmu.rst:43
msgid "Example usage of perf::"
msgstr ""

#: ../../../admin-guide/perf/hisi-pmu.rst:58
msgid ""
"For HiSilicon uncore PMU v2 whose identifier is 0x30, the topology is the "
"same as PMU v1, but some new functions are added to the hardware."
msgstr ""

#: ../../../admin-guide/perf/hisi-pmu.rst:61
msgid ""
"1. L3C PMU supports filtering by core/thread within the cluster which can be "
"specified as a bitmap::"
msgstr ""

#: ../../../admin-guide/perf/hisi-pmu.rst:66
msgid ""
"This will only count the operations from core/thread 0 and 1 in this cluster."
msgstr ""

#: ../../../admin-guide/perf/hisi-pmu.rst:68
msgid ""
"2. Tracetag allow the user to chose to count only read, write or atomic "
"operations via the tt_req parameeter in perf. The default value counts all "
"operations. tt_req is 3bits, 3'b100 represents read operations, 3'b101 "
"represents write operations, 3'b110 represents atomic store operations and "
"3'b111 represents atomic non-store operations, other values are reserved::"
msgstr ""

#: ../../../admin-guide/perf/hisi-pmu.rst:76
msgid "This will only count the read operations in this cluster."
msgstr ""

#: ../../../admin-guide/perf/hisi-pmu.rst:78
msgid ""
"3. Datasrc allows the user to check where the data comes from. It is 5 bits. "
"Some important codes are as follows:"
msgstr ""

#: ../../../admin-guide/perf/hisi-pmu.rst:81
msgid "5'b00001: comes from L3C in this die;"
msgstr ""

#: ../../../admin-guide/perf/hisi-pmu.rst:82
msgid "5'b01000: comes from L3C in the cross-die;"
msgstr ""

#: ../../../admin-guide/perf/hisi-pmu.rst:83
msgid "5'b01001: comes from L3C which is in another socket;"
msgstr ""

#: ../../../admin-guide/perf/hisi-pmu.rst:84
msgid "5'b01110: comes from the local DDR;"
msgstr ""

#: ../../../admin-guide/perf/hisi-pmu.rst:85
msgid "5'b01111: comes from the cross-die DDR;"
msgstr ""

#: ../../../admin-guide/perf/hisi-pmu.rst:86
msgid "5'b10000: comes from cross-socket DDR;"
msgstr ""

#: ../../../admin-guide/perf/hisi-pmu.rst:88
msgid ""
"etc, it is mainly helpful to find that the data source is nearest from the "
"CPU cores. If datasrc_cfg is used in the multi-chips, the datasrc_skt shall "
"be configured in perf command::"
msgstr ""

#: ../../../admin-guide/perf/hisi-pmu.rst:95
msgid ""
"4. Some HiSilicon SoCs encapsulate multiple CPU and IO dies. Each CPU die "
"contains several Compute Clusters (CCLs). The I/O dies are called Super I/O "
"clusters (SICL) containing multiple I/O clusters (ICLs). Each CCL/ICL in the "
"SoC has a unique ID. Each ID is 11bits, include a 6-bit SCCL-ID and 5-bit "
"CCL/ICL-ID. For I/O die, the ICL-ID is followed by:"
msgstr ""

#: ../../../admin-guide/perf/hisi-pmu.rst:101
msgid "5'b00000: I/O_MGMT_ICL;"
msgstr ""

#: ../../../admin-guide/perf/hisi-pmu.rst:102
msgid "5'b00001: Network_ICL;"
msgstr ""

#: ../../../admin-guide/perf/hisi-pmu.rst:103
msgid "5'b00011: HAC_ICL;"
msgstr ""

#: ../../../admin-guide/perf/hisi-pmu.rst:104
msgid "5'b10000: PCIe_ICL;"
msgstr ""

#: ../../../admin-guide/perf/hisi-pmu.rst:106
msgid ""
"5. uring_channel: UC PMU events 0x47~0x59 supports filtering by tx request "
"uring channel. It is 2 bits. Some important codes are as follows:"
msgstr ""

#: ../../../admin-guide/perf/hisi-pmu.rst:109
msgid "2'b11: count the events which sent to the uring_ext (MATA) channel;"
msgstr ""

#: ../../../admin-guide/perf/hisi-pmu.rst:110
msgid "2'b01: is the same as 2'b11;"
msgstr ""

#: ../../../admin-guide/perf/hisi-pmu.rst:111
msgid "2'b10: count the events which sent to the uring (non-MATA) channel;"
msgstr ""

#: ../../../admin-guide/perf/hisi-pmu.rst:112
msgid ""
"2'b00: default value, count the events which sent to the both uring and "
"uring_ext channel;"
msgstr ""

#: ../../../admin-guide/perf/hisi-pmu.rst:115
msgid ""
"Users could configure IDs to count data come from specific CCL/ICL, by "
"setting srcid_cmd & srcid_msk, and data desitined for specific CCL/ICL by "
"setting tgtid_cmd & tgtid_msk. A set bit in srcid_msk/tgtid_msk means the "
"PMU will not check the bit when matching against the srcid_cmd/tgtid_cmd."
msgstr ""

#: ../../../admin-guide/perf/hisi-pmu.rst:120
msgid ""
"If all of these options are disabled, it can works by the default value that "
"doesn't distinguish the filter condition and ID information and will return "
"the total counter values in the PMU counters."
msgstr ""

#: ../../../admin-guide/perf/hisi-pmu.rst:124
msgid ""
"The current driver does not support sampling. So \"perf record\" is "
"unsupported. Also attach to a task is unsupported as the events are all "
"uncore."
msgstr ""

#: ../../../admin-guide/perf/hisi-pmu.rst:127
msgid ""
"Note: Please contact the maintainer for a complete list of events supported "
"for the PMU devices in the SoC and its information if needed."
msgstr ""
