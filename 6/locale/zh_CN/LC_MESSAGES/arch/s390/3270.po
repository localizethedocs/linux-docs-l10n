# SOME DESCRIPTIVE TITLE.
# Copyright (C) The kernel development community
# This file is distributed under the same license as the The Linux Kernel package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: The Linux Kernel 6\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2025-09-30 08:40+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: zh_CN\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../../arch/s390/3270.rst:3
msgid "IBM 3270 Display System support"
msgstr ""

#: ../../../arch/s390/3270.rst:5
msgid ""
"This file describes the driver that supports local channel attachment of IBM "
"3270 devices.  It consists of three sections:"
msgstr ""

#: ../../../arch/s390/3270.rst:8 ../../../arch/s390/3270.rst:14
msgid "Introduction"
msgstr ""

#: ../../../arch/s390/3270.rst:9 ../../../arch/s390/3270.rst:42
msgid "Installation"
msgstr ""

#: ../../../arch/s390/3270.rst:10
msgid "Operation"
msgstr ""

#: ../../../arch/s390/3270.rst:16
msgid ""
"This paper describes installing and operating 3270 devices under Linux/390.  "
"A 3270 device is a block-mode rows-and-columns terminal of which I'm sure "
"hundreds of millions were sold by IBM and clonemakers twenty and thirty "
"years ago."
msgstr ""

#: ../../../arch/s390/3270.rst:21
msgid ""
"You may have 3270s in-house and not know it.  If you're using the VM-ESA "
"operating system, define a 3270 to your virtual machine by using the command "
"\"DEF GRAF <hex-address>\"  This paper presumes you will be defining four "
"3270s with the CP/CMS commands:"
msgstr ""

#: ../../../arch/s390/3270.rst:26
msgid "DEF GRAF 620"
msgstr ""

#: ../../../arch/s390/3270.rst:27
msgid "DEF GRAF 621"
msgstr ""

#: ../../../arch/s390/3270.rst:28
msgid "DEF GRAF 622"
msgstr ""

#: ../../../arch/s390/3270.rst:29
msgid "DEF GRAF 623"
msgstr ""

#: ../../../arch/s390/3270.rst:31
msgid ""
"Your network connection from VM-ESA allows you to use x3270, tn3270, or "
"another 3270 emulator, started from an xterm window on your PC or "
"workstation.  With the DEF GRAF command, an application such as xterm, and "
"this Linux-390 3270 driver, you have another way of talking to your Linux "
"box."
msgstr ""

#: ../../../arch/s390/3270.rst:37
msgid ""
"This paper covers installation of the driver and operation of a dialed-in "
"x3270."
msgstr ""

#: ../../../arch/s390/3270.rst:44
msgid ""
"You install the driver by installing a patch, doing a kernel build, and "
"running the configuration script (config3270.sh, in this directory)."
msgstr ""

#: ../../../arch/s390/3270.rst:47
msgid ""
"WARNING:  If you are using 3270 console support, you must rerun the "
"configuration script every time you change the console's address (perhaps by "
"using the condev= parameter in silo's /boot/parmfile).  More precisely, you "
"should rerun the configuration script every time your set of 3270s, "
"including the console 3270, changes subchannel identifier relative to one "
"another.  ReIPL as soon as possible after running the configuration script "
"and the resulting /tmp/mkdev3270."
msgstr ""

#: ../../../arch/s390/3270.rst:55
msgid ""
"If you have chosen to make tub3270 a module, you add a line to a "
"configuration file under /etc/modprobe.d/.  If you are working on a VM "
"virtual machine, you can use DEF GRAF to define virtual 3270 devices."
msgstr ""

#: ../../../arch/s390/3270.rst:59
msgid ""
"You may generate both 3270 and 3215 console support, or one or the other, or "
"neither.  If you generate both, the console type under VM is not changed.  "
"Use #CP Q TERM to see what the current console type is. Use #CP TERM CONMODE "
"3270 to change it to 3270.  If you generate only 3270 console support, then "
"the driver automatically converts your console at boot time to a 3270 if it "
"is a 3215."
msgstr ""

#: ../../../arch/s390/3270.rst:66
msgid "In brief, these are the steps:"
msgstr ""

#: ../../../arch/s390/3270.rst:68
msgid "Install the tub3270 patch"
msgstr ""

#: ../../../arch/s390/3270.rst:69
msgid "(If a module) add a line to a file in `/etc/modprobe.d/*.conf`"
msgstr ""

#: ../../../arch/s390/3270.rst:70
msgid "(If VM) define devices with DEF GRAF"
msgstr ""

#: ../../../arch/s390/3270.rst:71
msgid "Reboot"
msgstr ""

#: ../../../arch/s390/3270.rst:72
msgid "Configure"
msgstr ""

#: ../../../arch/s390/3270.rst:74
msgid "To test that everything works, assuming VM and x3270,"
msgstr ""

#: ../../../arch/s390/3270.rst:76
msgid "Bring up an x3270 window."
msgstr ""

#: ../../../arch/s390/3270.rst:77
msgid "Use the DIAL command in that window."
msgstr ""

#: ../../../arch/s390/3270.rst:78
msgid "You should immediately see a Linux login screen."
msgstr ""

#: ../../../arch/s390/3270.rst:80
msgid "Here are the installation steps in detail:"
msgstr ""

#: ../../../arch/s390/3270.rst:82
msgid ""
"1.  The 3270 driver is a part of the official Linux kernel source.  Build a "
"tree with the kernel source and any necessary patches.  Then do::"
msgstr ""

#: ../../../arch/s390/3270.rst:94
msgid ""
"2. (Perform this step only if you have configured tub3270 as a module.)  Add "
"a line to a file `/etc/modprobe.d/*.conf` to automatically load the driver "
"when it's needed.  With this line added, you will see login prompts appear "
"on your 3270s as soon as boot is complete (or with emulated 3270s, as soon "
"as you dial into your vm guest using the command \"DIAL <vmguestname>\").  "
"Since the line-mode major number is 227, the line to add should be::"
msgstr ""

#: ../../../arch/s390/3270.rst:104
msgid ""
"3. Define graphic devices to your vm guest machine, if you haven't already.  "
"Define them before you reboot (reipl):"
msgstr ""

#: ../../../arch/s390/3270.rst:107
msgid "DEFINE GRAF 620"
msgstr ""

#: ../../../arch/s390/3270.rst:108
msgid "DEFINE GRAF 621"
msgstr ""

#: ../../../arch/s390/3270.rst:109
msgid "DEFINE GRAF 622"
msgstr ""

#: ../../../arch/s390/3270.rst:110
msgid "DEFINE GRAF 623"
msgstr ""

#: ../../../arch/s390/3270.rst:112
msgid ""
"4. Reboot.  The reboot process scans hardware devices, including 3270s, and "
"this enables the tub3270 driver once loaded to respond correctly to the "
"configuration requests of the next step.  If you have chosen 3270 console "
"support, your console now behaves as a 3270, not a 3215."
msgstr ""

#: ../../../arch/s390/3270.rst:118
msgid ""
"5. Run the 3270 configuration script config3270.  It is distributed in this "
"same directory, Documentation/arch/s390, as config3270.sh.  Inspect the "
"output script it produces, /tmp/mkdev3270, and then run that script.  This "
"will create the necessary character special device files and make the "
"necessary changes to /etc/inittab."
msgstr ""

#: ../../../arch/s390/3270.rst:125
msgid ""
"Then notify /sbin/init that /etc/inittab has changed, by issuing the telinit "
"command with the q operand::"
msgstr ""

#: ../../../arch/s390/3270.rst:133
msgid ""
"This should be sufficient for your first time.  If your 3270 configuration "
"has changed and you're reusing config3270, you should follow these steps::"
msgstr ""

#: ../../../arch/s390/3270.rst:142
msgid "Here are the testing steps in detail:"
msgstr ""

#: ../../../arch/s390/3270.rst:144
msgid ""
"1. Bring up an x3270 window, or use an actual hardware 3278 or 3279, or use "
"the 3270 emulator of your choice.  You would be running the emulator on your "
"PC or workstation.  You would use the command, for example::"
msgstr ""

#: ../../../arch/s390/3270.rst:151
msgid ""
"if you wanted a 3278 Model 4 with 43 rows of 80 columns, the default model "
"number.  The driver does not take advantage of extended attributes."
msgstr ""

#: ../../../arch/s390/3270.rst:155
msgid ""
"The screen you should now see contains a VM logo with input lines near the "
"bottom.  Use TAB to move to the bottom line, probably labeled \"COMMAND  "
"===>\"."
msgstr ""

#: ../../../arch/s390/3270.rst:159
msgid ""
"2. Use the DIAL command instead of the LOGIN command to connect to one of "
"the virtual 3270s you defined with the DEF GRAF commands::"
msgstr ""

#: ../../../arch/s390/3270.rst:165
msgid ""
"3. You should immediately see a login prompt from your Linux-390 operating "
"system.  If that does not happen, you would see instead the line \"DIALED TO "
"my-vm-guest-name   0620\"."
msgstr ""

#: ../../../arch/s390/3270.rst:169
msgid "To troubleshoot:  do these things."
msgstr ""

#: ../../../arch/s390/3270.rst:171
msgid ""
"A. Is the driver loaded?  Use the lsmod command (no operands) to find out.  "
"Probably it isn't.  Try loading it manually, with the command \"insmod "
"tub3270\".  Does that command give error messages?  Ha!  There's your "
"problem."
msgstr ""

#: ../../../arch/s390/3270.rst:176
msgid ""
"B. Is the /etc/inittab file modified as in installation step 3 above?  Use "
"the grep command to find out; for instance, issue \"grep 3270 /etc/"
"inittab\".  Nothing found?  There's your problem!"
msgstr ""

#: ../../../arch/s390/3270.rst:181
msgid ""
"C. Are the device special files created, as in installation step 2 above?  "
"Use the ls -l command to find out; for instance, issue \"ls -l /dev/3270/"
"tty620\".  The output should start with the letter \"c\" meaning character "
"device and should contain \"227, 1\" just to the left of the device name.  "
"No such file?  no \"c\"? Wrong major number?  Wrong minor number?  There's "
"your problem!"
msgstr ""

#: ../../../arch/s390/3270.rst:189
msgid "Do you get the message::"
msgstr ""

#: ../../../arch/s390/3270.rst:193
msgid ""
"If so, you must issue the command \"DEF GRAF 620\" from your VM 3215 console "
"and then reboot the system."
msgstr ""

#: ../../../arch/s390/3270.rst:199
msgid "OPERATION."
msgstr ""

#: ../../../arch/s390/3270.rst:201
msgid ""
"The driver defines three areas on the 3270 screen:  the log area, the input "
"area, and the status area."
msgstr ""

#: ../../../arch/s390/3270.rst:204
msgid ""
"The log area takes up all but the bottom two lines of the screen.  The "
"driver writes terminal output to it, starting at the top line and going "
"down.  When it fills, the status area changes from \"Linux Running\" to "
"\"Linux More...\".  After a scrolling timeout of (default) 5 sec, the screen "
"clears and more output is written, from the top down."
msgstr ""

#: ../../../arch/s390/3270.rst:210
msgid ""
"The input area extends from the beginning of the second-to-last screen line "
"to the start of the status area.  You type commands in this area and hit "
"ENTER to execute them."
msgstr ""

#: ../../../arch/s390/3270.rst:214
msgid ""
"The status area initializes to \"Linux Running\" to give you a warm fuzzy "
"feeling.  When the log area fills up and output awaits, it changes to "
"\"Linux More...\".  At this time you can do several things or nothing.  If "
"you do nothing, the screen will clear in (default) 5 sec and more output "
"will appear.  You may hit ENTER with nothing typed in the input area to "
"toggle between \"Linux More...\" and \"Linux Holding\", which indicates no "
"scrolling will occur.  (If you hit ENTER with \"Linux Running\" and nothing "
"typed, the application receives a newline.)"
msgstr ""

#: ../../../arch/s390/3270.rst:223
msgid ""
"You may change the scrolling timeout value.  For example, the following "
"command line::"
msgstr ""

#: ../../../arch/s390/3270.rst:228
msgid ""
"changes the scrolling timeout value to 60 sec.  Set scrolltime to 0 if you "
"wish to prevent scrolling entirely."
msgstr ""

#: ../../../arch/s390/3270.rst:231
msgid ""
"Other things you may do when the log area fills up are:  hit PA2 to clear "
"the log area and write more output to it, or hit CLEAR to clear the log area "
"and the input area and write more output to the log area."
msgstr ""

#: ../../../arch/s390/3270.rst:235
msgid ""
"Some of the Program Function (PF) and Program Attention (PA) keys are "
"preassigned special functions.  The ones that are not yield an alarm when "
"pressed."
msgstr ""

#: ../../../arch/s390/3270.rst:239
msgid ""
"PA1 causes a SIGINT to the currently running application.  You may do the "
"same thing from the input area, by typing \"^C\" and hitting ENTER."
msgstr ""

#: ../../../arch/s390/3270.rst:242
msgid ""
"PA2 causes the log area to be cleared.  If output awaits, it is then written "
"to the log area."
msgstr ""

#: ../../../arch/s390/3270.rst:245
msgid ""
"PF3 causes an EOF to be received as input by the application.  You may cause "
"an EOF also by typing \"^D\" and hitting ENTER."
msgstr ""

#: ../../../arch/s390/3270.rst:248
msgid ""
"No PF key is preassigned to cause a job suspension, but you may cause a job "
"suspension by typing \"^Z\" and hitting ENTER.  You may wish to assign this "
"function to a PF key.  To make PF7 cause job suspension, execute the "
"command::"
msgstr ""

#: ../../../arch/s390/3270.rst:255
msgid ""
"If the input you type does not end with the two characters \"^n\", the "
"driver appends a newline character and sends it to the tty driver; otherwise "
"the driver strips the \"^n\" and does not append a newline. The IBM 3215 "
"driver behaves similarly."
msgstr ""

#: ../../../arch/s390/3270.rst:260
msgid ""
"Pf10 causes the most recent command to be retrieved from the tube's command "
"stack (default depth 20) and displayed in the input area.  You may hit PF10 "
"again for the next-most-recent command, and so on.  A command is entered "
"into the stack only when the input area is not made invisible (such as for "
"password entry) and it is not identical to the current top entry.  PF10 "
"rotates backward through the command stack; PF11 rotates forward.  You may "
"assign the backward function to any PF key (or PA key, for that matter), "
"say, PA3, with the command::"
msgstr ""

#: ../../../arch/s390/3270.rst:271
msgid ""
"This assigns the string ESC-k to PA3.  Similarly, the string ESC-j performs "
"the forward function.  (Rationale:  In bash with vi-mode line editing, ESC-k "
"and ESC-j retrieve backward and forward history. Suggestions welcome.)"
msgstr ""

#: ../../../arch/s390/3270.rst:276
msgid ""
"Is a stack size of twenty commands not to your liking?  Change it on the "
"fly.  To change to saving the last 100 commands, execute the command::"
msgstr ""

#: ../../../arch/s390/3270.rst:282
msgid ""
"Have a command you issue frequently?  Assign it to a PF or PA key!  Use the "
"command::"
msgstr ""

#: ../../../arch/s390/3270.rst:287
msgid ""
"to execute the commands mkdir foobar and cd foobar immediately when you hit "
"PF24.  Want to see the command line first, before you execute it? Use the -n "
"option of the echo command::"
msgstr ""

#: ../../../arch/s390/3270.rst:295
msgid ""
"Happy testing!  I welcome any and all comments about this document, the "
"driver, etc etc."
msgstr ""

#: ../../../arch/s390/3270.rst:298
msgid "Dick Hitt <rbh00@utsglobal.com>"
msgstr ""
