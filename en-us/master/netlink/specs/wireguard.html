<!DOCTYPE html>

<html lang="en-US" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Family wireguard netlink specification &#8212; The Linux Kernel unknown version documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=adfc0c0d" />
    <script src="../../_static/documentation_options.js?v=750ed68d"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="canonical" href="https://projects.localizethedocs.org/linux-docs-l10n/netlink/specs/wireguard.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Generic networking statistics for netlink users" href="../../networking/gen_stats.html" />
    <link rel="prev" title="Family team netlink specification" href="team.html" />

   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  

  
  

<script type="text/javascript" src="../../ltd-provenance.js"></script>
<script type="text/javascript" src="../../ltd-current.js"></script>
<script type="text/javascript" src="../../../../ltd-config.js"></script>
<script type="text/javascript" src="../../../../ltd-flyout.js"></script>

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo.svg" alt="Logo of The Linux Kernel"/>
            </a></p>
<h1 class="logo"><a href="../../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.19.0</p>







<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>


<p>
<h3 class="kernel-toc-contents">Contents</h3>
<input type="checkbox" class="kernel-toc-toggle" id = "kernel-toc-toggle" checked>
<label class="kernel-toc-title" for="kernel-toc-toggle"></label>

<div class="kerneltoc" id="kerneltoc">
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../process/development-process.html">Development process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../process/submitting-patches.html">Submitting patches</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../process/code-of-conduct.html">Code of conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../maintainer/index.html">Maintainer handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../process/index.html">All development-process docs</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../core-api/index.html">Core API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../driver-api/index.html">Driver APIs</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../subsystem-apis.html">Subsystems</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../subsystem-apis.html#core-subsystems">Core subsystems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../subsystem-apis.html#human-interfaces">Human interfaces</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../subsystem-apis.html#networking-interfaces">Networking interfaces</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../../networking/index.html">Networking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../netlabel/index.html">NetLabel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../infiniband/index.html">InfiniBand</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../isdn/index.html">ISDN</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../mhi/index.html">MHI</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../subsystem-apis.html#storage-interfaces">Storage interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../subsystem-apis.html#other-subsystems">Other subsystems</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../locking/index.html">Locking</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../process/license-rules.html">Licensing rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../doc-guide/index.html">Writing documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev-tools/index.html">Development tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev-tools/testing-overview.html">Testing guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../kernel-hacking/index.html">Hacking guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../trace/index.html">Tracing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fault-injection/index.html">Fault injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../livepatch/index.html">Livepatching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rust/index.html">Rust</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../admin-guide/index.html">Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../kbuild/index.html">Build system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admin-guide/reporting-issues.html">Reporting issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/index.html">Userspace tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../userspace-api/index.html">Userspace API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../firmware-guide/index.html">Firmware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devicetree/index.html">Firmware and Devicetree</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../arch/index.html">CPU architectures</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../staging/index.html">Unsorted documentation</a></li>
</ul>

</div>

<script type="text/javascript"> <!--
  var sbar = document.getElementsByClassName("sphinxsidebar")[0];
  let currents = document.getElementsByClassName("current")
  if (currents.length) {
    sbar.scrollTop = currents[currents.length - 1].offsetTop;
  }
  --> </script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/netlink/specs/wireguard.yaml.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="family-wireguard-netlink-specification">
<span id="netlink-wireguard"></span><h1><a class="toc-backref" href="#id6" role="doc-backlink">Family <code class="docutils literal notranslate"><span class="pre">wireguard</span></code> netlink specification</a><a class="headerlink" href="#family-wireguard-netlink-specification" title="Link to this heading">¶</a></h1>
<nav class="contents" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#family-wireguard-netlink-specification" id="id6">Family <code class="docutils literal notranslate"><span class="pre">wireguard</span></code> netlink specification</a></p>
<ul>
<li><p><a class="reference internal" href="#summary" id="id7">Summary</a></p></li>
<li><p><a class="reference internal" href="#operations" id="id8">Operations</a></p>
<ul>
<li><p><a class="reference internal" href="#get-device" id="id9">get-device</a></p></li>
<li><p><a class="reference internal" href="#set-device" id="id10">set-device</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#definitions" id="id11">Definitions</a></p>
<ul>
<li><p><a class="reference internal" href="#key-len" id="id12">key-len</a></p></li>
<li><p><a class="reference internal" href="#kernel-timespec" id="id13">--kernel-timespec</a></p></li>
<li><p><a class="reference internal" href="#wgdevice-flags" id="id14">wgdevice-flags</a></p></li>
<li><p><a class="reference internal" href="#wgpeer-flags" id="id15">wgpeer-flags</a></p></li>
<li><p><a class="reference internal" href="#wgallowedip-flags" id="id16">wgallowedip-flags</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#attribute-sets" id="id17">Attribute sets</a></p>
<ul>
<li><p><a class="reference internal" href="#wgdevice" id="id18">wgdevice</a></p></li>
<li><p><a class="reference internal" href="#wgpeer" id="id19">wgpeer</a></p></li>
<li><p><a class="reference internal" href="#wgallowedip" id="id20">wgallowedip</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
<section id="summary">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Link to this heading">¶</a></h2>
<p><strong>Netlink protocol to control WireGuard network devices.</strong></p>
<p>The below enums and macros are for interfacing with WireGuard, using generic
netlink, with family <code class="docutils literal notranslate"><span class="pre">WG_GENL_NAME</span></code> and version <code class="docutils literal notranslate"><span class="pre">WG_GENL_VERSION</span></code>. It
defines two commands: get and set. Note that while they share many common
attributes, these two commands actually accept a slightly different set of
inputs and outputs. These differences are noted under the individual
attributes.</p>
</section>
<section id="operations">
<h2><a class="toc-backref" href="#id8" role="doc-backlink">Operations</a><a class="headerlink" href="#operations" title="Link to this heading">¶</a></h2>
<section id="get-device">
<span id="wireguard-operation-get-device"></span><h3><a class="toc-backref" href="#id9" role="doc-backlink">get-device</a><a class="headerlink" href="#get-device" title="Link to this heading">¶</a></h3>
<section id="retrieve-wireguard-device">
<h4>Retrieve WireGuard device<a class="headerlink" href="#retrieve-wireguard-device" title="Link to this heading">¶</a></h4>
<p>The command should be called with one but not both of:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">WGDEVICE_A_IFINDEX</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">WGDEVICE_A_IFNAME</span></code></p></li>
</ul>
<p>The kernel will then return several messages (<code class="docutils literal notranslate"><span class="pre">NLM_F_MULTI</span></code>). It is
possible that all of the allowed IPs of a single peer will not fit
within a single netlink message. In that case, the same peer will be
written in the following message, except it will only contain
<code class="docutils literal notranslate"><span class="pre">WGPEER_A_PUBLIC_KEY</span></code> and <code class="docutils literal notranslate"><span class="pre">WGPEER_A_ALLOWEDIPS</span></code>. This may occur
several times in a row for the same peer. It is then up to the receiver
to coalesce adjacent peers. Likewise, it is possible that all peers will
not fit within a single message. So, subsequent peers will be sent in
following messages, except those will only contain <code class="docutils literal notranslate"><span class="pre">WGDEVICE_A_IFNAME</span></code>
and <code class="docutils literal notranslate"><span class="pre">WGDEVICE_A_PEERS</span></code>. It is then up to the receiver to coalesce
these messages to form the complete list of peers.</p>
<p>Since this is an <code class="docutils literal notranslate"><span class="pre">NLA_F_DUMP</span></code> command, the final message will always
be <code class="docutils literal notranslate"><span class="pre">NLMSG_DONE</span></code>, even if an error occurs. However, this <code class="docutils literal notranslate"><span class="pre">NLMSG_DONE</span></code>
message contains an integer error code. It is either zero or a negative
error code corresponding to the errno.</p>
<dl class="field-list simple">
<dt class="field-odd">value<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
<dt class="field-even">attribute-set<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#wireguard-attribute-set-wgdevice"><span class="std std-ref">wgdevice</span></a></p>
</dd>
<dt class="field-odd">flags<span class="colon">:</span></dt>
<dd class="field-odd"><p>[<code class="docutils literal notranslate"><span class="pre">uns-admin-perm</span></code>]</p>
</dd>
<dt class="field-even">dump<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>pre</strong></dt><dd><p>wg-get-device-start</p>
</dd>
<dt><strong>post</strong></dt><dd><p>wg-get-device-done</p>
</dd>
<dt><strong>request</strong></dt><dd><dl class="field-list simple">
<dt class="field-odd">attributes<span class="colon">:</span></dt>
<dd class="field-odd"><p>[<code class="docutils literal notranslate"><span class="pre">ifindex</span></code>, <code class="docutils literal notranslate"><span class="pre">ifname</span></code>]</p>
</dd>
</dl>
</dd>
<dt><strong>reply</strong></dt><dd><dl class="field-list simple">
<dt class="field-odd">attributes<span class="colon">:</span></dt>
<dd class="field-odd"><p>[<code class="docutils literal notranslate"><span class="pre">ifindex</span></code>, <code class="docutils literal notranslate"><span class="pre">ifname</span></code>, <code class="docutils literal notranslate"><span class="pre">private-key</span></code>, <code class="docutils literal notranslate"><span class="pre">public-key</span></code>, <code class="docutils literal notranslate"><span class="pre">flags</span></code>, <code class="docutils literal notranslate"><span class="pre">listen-port</span></code>, <code class="docutils literal notranslate"><span class="pre">fwmark</span></code>, <code class="docutils literal notranslate"><span class="pre">peers</span></code>]</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</section>
</section>
<section id="set-device">
<span id="wireguard-operation-set-device"></span><h3><a class="toc-backref" href="#id10" role="doc-backlink">set-device</a><a class="headerlink" href="#set-device" title="Link to this heading">¶</a></h3>
<section id="set-wireguard-device">
<h4>Set WireGuard device<a class="headerlink" href="#set-wireguard-device" title="Link to this heading">¶</a></h4>
<p>This command should be called with a wgdevice set, containing one but
not both of <code class="docutils literal notranslate"><span class="pre">WGDEVICE_A_IFINDEX</span></code> and <code class="docutils literal notranslate"><span class="pre">WGDEVICE_A_IFNAME</span></code>.</p>
<p>It is possible that the amount of configuration data exceeds that of the
maximum message length accepted by the kernel. In that case, several
messages should be sent one after another, with each successive one
filling in information not contained in the prior. Note that if
<code class="docutils literal notranslate"><span class="pre">WGDEVICE_F_REPLACE_PEERS</span></code> is specified in the first message, it
probably should not be specified in fragments that come after, so that
the list of peers is only cleared the first time but appended after.
Likewise for peers, if <code class="docutils literal notranslate"><span class="pre">WGPEER_F_REPLACE_ALLOWEDIPS</span></code> is specified in
the first message of a peer, it likely should not be specified in
subsequent fragments.</p>
<p>If an error occurs, <code class="docutils literal notranslate"><span class="pre">NLMSG_ERROR</span></code> will reply containing an errno.</p>
<dl class="field-list simple">
<dt class="field-odd">value<span class="colon">:</span></dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">attribute-set<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#wireguard-attribute-set-wgdevice"><span class="std std-ref">wgdevice</span></a></p>
</dd>
<dt class="field-odd">flags<span class="colon">:</span></dt>
<dd class="field-odd"><p>[<code class="docutils literal notranslate"><span class="pre">uns-admin-perm</span></code>]</p>
</dd>
<dt class="field-even">do<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>request</strong></dt><dd><dl class="field-list simple">
<dt class="field-odd">attributes<span class="colon">:</span></dt>
<dd class="field-odd"><p>[<code class="docutils literal notranslate"><span class="pre">ifindex</span></code>, <code class="docutils literal notranslate"><span class="pre">ifname</span></code>, <code class="docutils literal notranslate"><span class="pre">private-key</span></code>, <code class="docutils literal notranslate"><span class="pre">public-key</span></code>, <code class="docutils literal notranslate"><span class="pre">flags</span></code>, <code class="docutils literal notranslate"><span class="pre">listen-port</span></code>, <code class="docutils literal notranslate"><span class="pre">fwmark</span></code>, <code class="docutils literal notranslate"><span class="pre">peers</span></code>]</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</section>
</section>
</section>
<section id="definitions">
<h2><a class="toc-backref" href="#id11" role="doc-backlink">Definitions</a><a class="headerlink" href="#definitions" title="Link to this heading">¶</a></h2>
<section id="key-len">
<span id="wireguard-definition-key-len"></span><h3><a class="toc-backref" href="#id12" role="doc-backlink">key-len</a><a class="headerlink" href="#key-len" title="Link to this heading">¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">name-prefix<span class="colon">:</span></dt>
<dd class="field-odd"><p>wg-</p>
</dd>
<dt class="field-even">type<span class="colon">:</span></dt>
<dd class="field-even"><p>const</p>
</dd>
<dt class="field-odd">value<span class="colon">:</span></dt>
<dd class="field-odd"><p>32</p>
</dd>
</dl>
</section>
<section id="kernel-timespec">
<span id="wireguard-definition-kernel-timespec"></span><h3><a class="toc-backref" href="#id13" role="doc-backlink">--kernel-timespec</a><a class="headerlink" href="#kernel-timespec" title="Link to this heading">¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p>struct</p>
</dd>
<dt class="field-even">header<span class="colon">:</span></dt>
<dd class="field-even"><p>linux/time_types.h</p>
</dd>
<dt class="field-odd">members<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="field-list simple">
<dt class="field-odd">sec (<code class="docutils literal notranslate"><span class="pre">u64</span></code>)<span class="colon">:</span></dt>
<dd class="field-odd"><p>Number of seconds, since UNIX epoch.</p>
</dd>
<dt class="field-even">nsec (<code class="docutils literal notranslate"><span class="pre">u64</span></code>)<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of nanoseconds, after the second began.</p>
</dd>
</dl>
</dd>
</dl>
</section>
<section id="wgdevice-flags">
<span id="wireguard-definition-wgdevice-flags"></span><h3><a class="toc-backref" href="#id14" role="doc-backlink">wgdevice-flags</a><a class="headerlink" href="#wgdevice-flags" title="Link to this heading">¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">name-prefix<span class="colon">:</span></dt>
<dd class="field-odd"><p>wgdevice-f-</p>
</dd>
<dt class="field-even">enum-name<span class="colon">:</span></dt>
<dd class="field-even"><p>wgdevice-flag</p>
</dd>
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p>flags</p>
</dd>
<dt class="field-even">entries<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">replace-peers</span></code></p></li>
</ul>
</dd>
</dl>
</section>
<section id="wgpeer-flags">
<span id="wireguard-definition-wgpeer-flags"></span><h3><a class="toc-backref" href="#id15" role="doc-backlink">wgpeer-flags</a><a class="headerlink" href="#wgpeer-flags" title="Link to this heading">¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">name-prefix<span class="colon">:</span></dt>
<dd class="field-odd"><p>wgpeer-f-</p>
</dd>
<dt class="field-even">enum-name<span class="colon">:</span></dt>
<dd class="field-even"><p>wgpeer-flag</p>
</dd>
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p>flags</p>
</dd>
<dt class="field-even">entries<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">remove-me</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">replace-allowedips</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">update-only</span></code></p></li>
</ul>
</dd>
</dl>
</section>
<section id="wgallowedip-flags">
<span id="wireguard-definition-wgallowedip-flags"></span><h3><a class="toc-backref" href="#id16" role="doc-backlink">wgallowedip-flags</a><a class="headerlink" href="#wgallowedip-flags" title="Link to this heading">¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">name-prefix<span class="colon">:</span></dt>
<dd class="field-odd"><p>wgallowedip-f-</p>
</dd>
<dt class="field-even">enum-name<span class="colon">:</span></dt>
<dd class="field-even"><p>wgallowedip-flag</p>
</dd>
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p>flags</p>
</dd>
<dt class="field-even">entries<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">remove-me</span></code></p></li>
</ul>
</dd>
</dl>
</section>
</section>
<section id="attribute-sets">
<h2><a class="toc-backref" href="#id17" role="doc-backlink">Attribute sets</a><a class="headerlink" href="#attribute-sets" title="Link to this heading">¶</a></h2>
<section id="wgdevice">
<span id="wireguard-attribute-set-wgdevice"></span><h3><a class="toc-backref" href="#id18" role="doc-backlink">wgdevice</a><a class="headerlink" href="#wgdevice" title="Link to this heading">¶</a></h3>
<section id="unspec-unused">
<h4>unspec (<code class="docutils literal notranslate"><span class="pre">unused</span></code>)<a class="headerlink" href="#unspec-unused" title="Link to this heading">¶</a></h4>
<dl class="field-list simple">
<dt class="field-odd">value<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
</section>
<section id="ifindex-u32">
<h4>ifindex (<code class="docutils literal notranslate"><span class="pre">u32</span></code>)<a class="headerlink" href="#ifindex-u32" title="Link to this heading">¶</a></h4>
</section>
<section id="ifname-string">
<h4>ifname (<code class="docutils literal notranslate"><span class="pre">string</span></code>)<a class="headerlink" href="#ifname-string" title="Link to this heading">¶</a></h4>
</section>
<section id="private-key-binary">
<h4>private-key (<code class="docutils literal notranslate"><span class="pre">binary</span></code>)<a class="headerlink" href="#private-key-binary" title="Link to this heading">¶</a></h4>
<dl class="field-list simple">
<dt class="field-odd">doc<span class="colon">:</span></dt>
<dd class="field-odd"><p>Set to all zeros to remove.</p>
</dd>
<dt class="field-even">display-hint<span class="colon">:</span></dt>
<dd class="field-even"><p>hex</p>
</dd>
</dl>
</section>
<section id="public-key-binary">
<h4>public-key (<code class="docutils literal notranslate"><span class="pre">binary</span></code>)<a class="headerlink" href="#public-key-binary" title="Link to this heading">¶</a></h4>
<dl class="field-list simple">
<dt class="field-odd">display-hint<span class="colon">:</span></dt>
<dd class="field-odd"><p>hex</p>
</dd>
</dl>
</section>
<section id="flags-u32">
<h4>flags (<code class="docutils literal notranslate"><span class="pre">u32</span></code>)<a class="headerlink" href="#flags-u32" title="Link to this heading">¶</a></h4>
<dl class="field-list simple">
<dt class="field-odd">doc<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">0</span></code> or <code class="docutils literal notranslate"><span class="pre">WGDEVICE_F_REPLACE_PEERS</span></code> if all current peers should be removed prior to adding the list below.</p>
</dd>
<dt class="field-even">enum<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#wireguard-definition-wgdevice-flags"><span class="std std-ref">wgdevice-flags</span></a></p>
</dd>
</dl>
</section>
<section id="listen-port-u16">
<h4>listen-port (<code class="docutils literal notranslate"><span class="pre">u16</span></code>)<a class="headerlink" href="#listen-port-u16" title="Link to this heading">¶</a></h4>
<dl class="field-list simple">
<dt class="field-odd">doc<span class="colon">:</span></dt>
<dd class="field-odd"><p>Set as <code class="docutils literal notranslate"><span class="pre">0</span></code> to choose randomly.</p>
</dd>
</dl>
</section>
<section id="fwmark-u32">
<h4>fwmark (<code class="docutils literal notranslate"><span class="pre">u32</span></code>)<a class="headerlink" href="#fwmark-u32" title="Link to this heading">¶</a></h4>
<dl class="field-list simple">
<dt class="field-odd">doc<span class="colon">:</span></dt>
<dd class="field-odd"><p>Set as <code class="docutils literal notranslate"><span class="pre">0</span></code> to disable.</p>
</dd>
</dl>
</section>
<section id="peers-indexed-array">
<h4>peers (<code class="docutils literal notranslate"><span class="pre">indexed-array</span></code>)<a class="headerlink" href="#peers-indexed-array" title="Link to this heading">¶</a></h4>
<dl class="field-list simple">
<dt class="field-odd">sub-type<span class="colon">:</span></dt>
<dd class="field-odd"><p>nest</p>
</dd>
<dt class="field-even">nested-attributes<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#wireguard-attribute-set-wgpeer"><span class="std std-ref">wgpeer</span></a></p>
</dd>
<dt class="field-odd">doc<span class="colon">:</span></dt>
<dd class="field-odd"><p>The index/type parameter is unused on <code class="docutils literal notranslate"><span class="pre">SET_DEVICE</span></code> operations and is zero on <code class="docutils literal notranslate"><span class="pre">GET_DEVICE</span></code> operations.</p>
</dd>
</dl>
</section>
</section>
<section id="wgpeer">
<span id="wireguard-attribute-set-wgpeer"></span><h3><a class="toc-backref" href="#id19" role="doc-backlink">wgpeer</a><a class="headerlink" href="#wgpeer" title="Link to this heading">¶</a></h3>
<section id="id1">
<h4>unspec (<code class="docutils literal notranslate"><span class="pre">unused</span></code>)<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h4>
<dl class="field-list simple">
<dt class="field-odd">value<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
</section>
<section id="id2">
<h4>public-key (<code class="docutils literal notranslate"><span class="pre">binary</span></code>)<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h4>
<dl class="field-list simple">
<dt class="field-odd">display-hint<span class="colon">:</span></dt>
<dd class="field-odd"><p>hex</p>
</dd>
</dl>
</section>
<section id="preshared-key-binary">
<h4>preshared-key (<code class="docutils literal notranslate"><span class="pre">binary</span></code>)<a class="headerlink" href="#preshared-key-binary" title="Link to this heading">¶</a></h4>
<dl class="field-list simple">
<dt class="field-odd">doc<span class="colon">:</span></dt>
<dd class="field-odd"><p>Set as all zeros to remove.</p>
</dd>
<dt class="field-even">display-hint<span class="colon">:</span></dt>
<dd class="field-even"><p>hex</p>
</dd>
</dl>
</section>
<section id="id3">
<h4>flags (<code class="docutils literal notranslate"><span class="pre">u32</span></code>)<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h4>
<dl class="field-list simple">
<dt class="field-odd">doc<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">0</span></code> and/or <code class="docutils literal notranslate"><span class="pre">WGPEER_F_REMOVE_ME</span></code> if the specified peer should not exist at the end of the operation, rather than added/updated and/or <code class="docutils literal notranslate"><span class="pre">WGPEER_F_REPLACE_ALLOWEDIPS</span></code> if all current allowed IPs of this peer should be removed prior to adding the list below and/or <code class="docutils literal notranslate"><span class="pre">WGPEER_F_UPDATE_ONLY</span></code> if the peer should only be set if it already exists.</p>
</dd>
<dt class="field-even">enum<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#wireguard-definition-wgpeer-flags"><span class="std std-ref">wgpeer-flags</span></a></p>
</dd>
</dl>
</section>
<section id="endpoint-binary">
<h4>endpoint (<code class="docutils literal notranslate"><span class="pre">binary</span></code>)<a class="headerlink" href="#endpoint-binary" title="Link to this heading">¶</a></h4>
<dl class="field-list simple">
<dt class="field-odd">doc<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref c c-struct broken_xref docutils literal notranslate"><span class="pre">struct</span> <span class="pre">sockaddr_in</span></code> or <code class="xref c c-struct broken_xref docutils literal notranslate"><span class="pre">struct</span> <span class="pre">sockaddr_in6</span></code></p>
</dd>
</dl>
</section>
<section id="persistent-keepalive-interval-u16">
<h4>persistent-keepalive-interval (<code class="docutils literal notranslate"><span class="pre">u16</span></code>)<a class="headerlink" href="#persistent-keepalive-interval-u16" title="Link to this heading">¶</a></h4>
<dl class="field-list simple">
<dt class="field-odd">doc<span class="colon">:</span></dt>
<dd class="field-odd"><p>Set as <code class="docutils literal notranslate"><span class="pre">0</span></code> to disable.</p>
</dd>
</dl>
</section>
<section id="last-handshake-time-binary">
<h4>last-handshake-time (<code class="docutils literal notranslate"><span class="pre">binary</span></code>)<a class="headerlink" href="#last-handshake-time-binary" title="Link to this heading">¶</a></h4>
<dl class="field-list simple">
<dt class="field-odd">struct<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#wireguard-definition-kernel-timespec"><span class="std std-ref">--kernel-timespec</span></a></p>
</dd>
</dl>
</section>
<section id="rx-bytes-u64">
<h4>rx-bytes (<code class="docutils literal notranslate"><span class="pre">u64</span></code>)<a class="headerlink" href="#rx-bytes-u64" title="Link to this heading">¶</a></h4>
</section>
<section id="tx-bytes-u64">
<h4>tx-bytes (<code class="docutils literal notranslate"><span class="pre">u64</span></code>)<a class="headerlink" href="#tx-bytes-u64" title="Link to this heading">¶</a></h4>
</section>
<section id="allowedips-indexed-array">
<h4>allowedips (<code class="docutils literal notranslate"><span class="pre">indexed-array</span></code>)<a class="headerlink" href="#allowedips-indexed-array" title="Link to this heading">¶</a></h4>
<dl class="field-list simple">
<dt class="field-odd">sub-type<span class="colon">:</span></dt>
<dd class="field-odd"><p>nest</p>
</dd>
<dt class="field-even">nested-attributes<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#wireguard-attribute-set-wgallowedip"><span class="std std-ref">wgallowedip</span></a></p>
</dd>
<dt class="field-odd">doc<span class="colon">:</span></dt>
<dd class="field-odd"><p>The index/type parameter is unused on <code class="docutils literal notranslate"><span class="pre">SET_DEVICE</span></code> operations and is zero on <code class="docutils literal notranslate"><span class="pre">GET_DEVICE</span></code> operations.</p>
</dd>
</dl>
</section>
<section id="protocol-version-u32">
<h4>protocol-version (<code class="docutils literal notranslate"><span class="pre">u32</span></code>)<a class="headerlink" href="#protocol-version-u32" title="Link to this heading">¶</a></h4>
<dl class="field-list simple">
<dt class="field-odd">doc<span class="colon">:</span></dt>
<dd class="field-odd"><p>Should not be set or used at all by most users of this API, as the most recent protocol will be used when this is unset. Otherwise, must be set to <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
</dd>
</dl>
</section>
</section>
<section id="wgallowedip">
<span id="wireguard-attribute-set-wgallowedip"></span><h3><a class="toc-backref" href="#id20" role="doc-backlink">wgallowedip</a><a class="headerlink" href="#wgallowedip" title="Link to this heading">¶</a></h3>
<section id="id4">
<h4>unspec (<code class="docutils literal notranslate"><span class="pre">unused</span></code>)<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h4>
<dl class="field-list simple">
<dt class="field-odd">value<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
</section>
<section id="family-u16">
<h4>family (<code class="docutils literal notranslate"><span class="pre">u16</span></code>)<a class="headerlink" href="#family-u16" title="Link to this heading">¶</a></h4>
<dl class="field-list simple">
<dt class="field-odd">doc<span class="colon">:</span></dt>
<dd class="field-odd"><p>IP family, either <code class="docutils literal notranslate"><span class="pre">AF_INET</span></code> or <code class="docutils literal notranslate"><span class="pre">AF_INET6</span></code>.</p>
</dd>
</dl>
</section>
<section id="ipaddr-binary">
<h4>ipaddr (<code class="docutils literal notranslate"><span class="pre">binary</span></code>)<a class="headerlink" href="#ipaddr-binary" title="Link to this heading">¶</a></h4>
<dl class="field-list simple">
<dt class="field-odd">doc<span class="colon">:</span></dt>
<dd class="field-odd"><p>Either <code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">in_addr</span></code> or <code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">in6_addr</span></code>.</p>
</dd>
<dt class="field-even">display-hint<span class="colon">:</span></dt>
<dd class="field-even"><p>ipv4-or-v6</p>
</dd>
</dl>
</section>
<section id="cidr-mask-u8">
<h4>cidr-mask (<code class="docutils literal notranslate"><span class="pre">u8</span></code>)<a class="headerlink" href="#cidr-mask-u8" title="Link to this heading">¶</a></h4>
</section>
<section id="id5">
<h4>flags (<code class="docutils literal notranslate"><span class="pre">u32</span></code>)<a class="headerlink" href="#id5" title="Link to this heading">¶</a></h4>
<dl class="field-list simple">
<dt class="field-odd">doc<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">WGALLOWEDIP_F_REMOVE_ME</span></code> if the specified IP should be removed; otherwise, this IP will be added if it is not already present.</p>
</dd>
<dt class="field-even">enum<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#wireguard-definition-wgallowedip-flags"><span class="std std-ref">wgallowedip-flags</span></a></p>
</dd>
</dl>
</section>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &#169;The kernel development community.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="../../_sources/netlink/specs/wireguard.yaml.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>