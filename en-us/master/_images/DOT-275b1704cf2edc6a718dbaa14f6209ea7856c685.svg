<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 14.1.2 (20260126.1125)
 -->
<!-- Title: encoder_state_machine Pages: 1 -->
<svg width="1405pt" height="809pt"
 viewBox="0.00 0.00 1405.00 809.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 804.61)">
<title>encoder_state_machine</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-804.61 1400.73,-804.61 1400.73,4 -4,4"/>
<!-- Encoding -->
<g id="node1" class="node">
<title>Encoding</title>
<ellipse fill="none" stroke="black" cx="634.23" cy="-738.57" rx="58.05" ry="58.05"/>
<ellipse fill="none" stroke="black" cx="634.23" cy="-738.57" rx="62.05" ry="62.05"/>
<text xml:space="preserve" text-anchor="middle" x="634.23" y="-733.89" font-family="Times,serif" font-size="14.00">Encoding</text>
</g>
<!-- Encoding&#45;&gt;Encoding -->
<g id="edge6" class="edge">
<title>Encoding&#45;&gt;Encoding</title>
<path fill="none" stroke="black" d="M694.62,-754.4C706.13,-752.5 714.27,-747.23 714.27,-738.57 714.27,-733.02 710.93,-728.86 705.5,-726.09"/>
<polygon fill="black" stroke="black" points="706.65,-722.78 696.06,-723.18 704.59,-729.47 706.65,-722.78"/>
</g>
<!-- Stopped -->
<g id="node3" class="node">
<title>Stopped</title>
<ellipse fill="none" stroke="black" cx="266.23" cy="-387.27" rx="52.79" ry="52.79"/>
<text xml:space="preserve" text-anchor="middle" x="266.23" y="-382.59" font-family="Times,serif" font-size="14.00">Stopped</text>
</g>
<!-- Encoding&#45;&gt;Stopped -->
<g id="edge5" class="edge">
<title>Encoding&#45;&gt;Stopped</title>
<path fill="none" stroke="black" d="M572.85,-727.24C478.66,-710 305.51,-672.38 268.98,-623.27 232.11,-573.71 237.88,-500.58 248.76,-449.09"/>
<polygon fill="black" stroke="black" points="252.12,-450.13 250.89,-439.6 245.29,-448.59 252.12,-450.13"/>
<text xml:space="preserve" text-anchor="middle" x="382.6" y="-579.49" font-family="Times,serif" font-size="14.00">VIDIOC_STREAMOFF(OUTPUT)</text>
</g>
<!-- Drain -->
<g id="node4" class="node">
<title>Drain</title>
<ellipse fill="none" stroke="black" cx="544.23" cy="-584.16" rx="39.11" ry="39.11"/>
<text xml:space="preserve" text-anchor="middle" x="544.23" y="-579.49" font-family="Times,serif" font-size="14.00">Drain</text>
</g>
<!-- Encoding&#45;&gt;Drain -->
<g id="edge3" class="edge">
<title>Encoding&#45;&gt;Drain</title>
<path fill="none" stroke="black" d="M582.3,-703.84C567.68,-691.49 553.56,-676.15 545.48,-658.52 542.12,-651.2 540.34,-643.02 539.57,-634.86"/>
<polygon fill="black" stroke="black" points="543.07,-634.77 539.16,-624.93 536.08,-635.06 543.07,-634.77"/>
<text xml:space="preserve" text-anchor="middle" x="628.35" y="-645.22" font-family="Times,serif" font-size="14.00">V4L2_ENC_CMD_STOP</text>
</g>
<!-- Reset -->
<g id="node5" class="node">
<title>Reset</title>
<ellipse fill="none" stroke="black" cx="800.23" cy="-241.6" rx="39.63" ry="39.63"/>
<text xml:space="preserve" text-anchor="middle" x="800.23" y="-236.92" font-family="Times,serif" font-size="14.00">Reset</text>
</g>
<!-- Encoding&#45;&gt;Reset -->
<g id="edge4" class="edge">
<title>Encoding&#45;&gt;Reset</title>
<path fill="none" stroke="black" d="M682.44,-698.75C693.8,-687.07 704.54,-673.36 711.23,-658.52 747.94,-577.07 670.26,-527.69 726.23,-458.05 743.67,-436.35 768.83,-461.79 786.23,-440.05 819.35,-398.68 817.65,-335.5 811.06,-291.79"/>
<polygon fill="black" stroke="black" points="814.53,-291.36 809.44,-282.07 807.63,-292.51 814.53,-291.36"/>
<text xml:space="preserve" text-anchor="middle" x="844.73" y="-487.88" font-family="Times,serif" font-size="14.00">VIDIOC_STREAMOFF(CAPTURE)</text>
</g>
<!-- Initialization -->
<g id="node2" class="node">
<title>Initialization</title>
<ellipse fill="none" stroke="black" cx="1230.23" cy="-74.36" rx="74.36" ry="74.36"/>
<text xml:space="preserve" text-anchor="middle" x="1230.23" y="-69.68" font-family="Times,serif" font-size="14.00">Initialization</text>
</g>
<!-- Initialization&#45;&gt;Encoding -->
<g id="edge2" class="edge">
<title>Initialization&#45;&gt;Encoding</title>
<path fill="none" stroke="black" d="M1230.23,-148.98C1230.23,-177.58 1230.23,-210.62 1230.23,-240.6 1230.23,-585.16 1230.23,-585.16 1230.23,-585.16 1230.23,-691.87 867.08,-724.85 707.72,-734.19"/>
<polygon fill="black" stroke="black" points="707.9,-730.67 698.11,-734.73 708.3,-737.66 707.9,-730.67"/>
<text xml:space="preserve" text-anchor="middle" x="1313.48" y="-382.59" font-family="Times,serif" font-size="14.00">Both queues streaming</text>
</g>
<!-- Stopped&#45;&gt;Encoding -->
<g id="edge11" class="edge">
<title>Stopped&#45;&gt;Encoding</title>
<path fill="none" stroke="black" d="M216.91,-407.2C125.1,-445.16 -56.32,-534.54 17.48,-623.27 85.85,-705.48 412.27,-728.82 560.59,-735.23"/>
<polygon fill="black" stroke="black" points="560.16,-738.72 570.3,-735.64 560.45,-731.72 560.16,-738.72"/>
<text xml:space="preserve" text-anchor="middle" x="127.35" y="-596.74" font-family="Times,serif" font-size="14.00">V4L2_ENC_CMD_START</text>
<text xml:space="preserve" text-anchor="middle" x="127.35" y="-579.49" font-family="Times,serif" font-size="14.00">or</text>
<text xml:space="preserve" text-anchor="middle" x="127.35" y="-562.24" font-family="Times,serif" font-size="14.00">VIDIOC_STREAMON(OUTPUT)</text>
</g>
<!-- Stopped&#45;&gt;Reset -->
<g id="edge12" class="edge">
<title>Stopped&#45;&gt;Reset</title>
<path fill="none" stroke="black" d="M266.42,-334.36C269.04,-321.21 274.3,-308.26 284.23,-299.23 318.21,-268.32 625.47,-250.72 749.07,-244.84"/>
<polygon fill="black" stroke="black" points="749.11,-248.34 758.93,-244.38 748.78,-241.35 749.11,-248.34"/>
<text xml:space="preserve" text-anchor="middle" x="402.73" y="-303.18" font-family="Times,serif" font-size="14.00">VIDIOC_STREAMOFF(CAPTURE)</text>
</g>
<!-- Drain&#45;&gt;Stopped -->
<g id="edge7" class="edge">
<title>Drain&#45;&gt;Stopped</title>
<path fill="none" stroke="black" d="M514.72,-557.8C507.46,-552.77 499.4,-548.1 491.23,-545.05 449.99,-529.66 326.71,-556.48 293.98,-527.05 282.45,-516.69 275.55,-482.85 271.51,-451.18"/>
<polygon fill="black" stroke="black" points="275.03,-451.14 270.37,-441.62 268.08,-451.96 275.03,-451.14"/>
<text xml:space="preserve" text-anchor="middle" x="407.6" y="-513.75" font-family="Times,serif" font-size="14.00">All CAPTURE</text>
<text xml:space="preserve" text-anchor="middle" x="407.6" y="-496.5" font-family="Times,serif" font-size="14.00">buffers dequeued</text>
<text xml:space="preserve" text-anchor="middle" x="407.6" y="-479.25" font-family="Times,serif" font-size="14.00">or</text>
<text xml:space="preserve" text-anchor="middle" x="407.6" y="-462" font-family="Times,serif" font-size="14.00">VIDIOC_STREAMOFF(OUTPUT)</text>
</g>
<!-- Drain&#45;&gt;Reset -->
<g id="edge8" class="edge">
<title>Drain&#45;&gt;Reset</title>
<path fill="none" stroke="black" d="M539.91,-544.88C533.83,-483.63 525.89,-367.17 549.23,-334.48 594.85,-270.57 689.83,-251 748.98,-245.08"/>
<polygon fill="black" stroke="black" points="749.15,-248.58 758.8,-244.21 748.53,-241.61 749.15,-248.58"/>
<text xml:space="preserve" text-anchor="middle" x="667.73" y="-382.59" font-family="Times,serif" font-size="14.00">VIDIOC_STREAMOFF(CAPTURE)</text>
</g>
<!-- Reset&#45;&gt;Encoding -->
<g id="edge9" class="edge">
<title>Reset&#45;&gt;Encoding</title>
<path fill="none" stroke="black" d="M831.72,-266.02C892.79,-314.44 1016.79,-429.19 963.23,-527.05 908.39,-627.25 783.29,-686.73 704.12,-715.69"/>
<polygon fill="black" stroke="black" points="703.4,-712.23 695.17,-718.9 705.77,-718.82 703.4,-712.23"/>
<text xml:space="preserve" text-anchor="middle" x="1091.08" y="-487.88" font-family="Times,serif" font-size="14.00">VIDIOC_STREAMON(CAPTURE)</text>
</g>
<!-- Reset&#45;&gt;Initialization -->
<g id="edge10" class="edge">
<title>Reset&#45;&gt;Initialization</title>
<path fill="none" stroke="black" d="M837.26,-226.37C906.5,-199.76 1057,-141.93 1150.35,-106.05"/>
<polygon fill="black" stroke="black" points="1151.39,-109.4 1159.47,-102.55 1148.88,-102.87 1151.39,-109.4"/>
<text xml:space="preserve" text-anchor="middle" x="1101.23" y="-170.66" font-family="Times,serif" font-size="14.00">VIDIOC_REQBUFS(OUTPUT, 0)</text>
</g>
<!-- qi -->
<g id="node6" class="node">
<title>qi</title>
<ellipse fill="black" stroke="black" cx="1263.23" cy="-241.6" rx="1.8" ry="1.8"/>
</g>
<!-- qi&#45;&gt;Initialization -->
<g id="edge1" class="edge">
<title>qi&#45;&gt;Initialization</title>
<path fill="none" stroke="black" d="M1263.02,-239.54C1261.69,-232.89 1254.28,-195.82 1246.85,-158.58"/>
<polygon fill="black" stroke="black" points="1250.34,-158.18 1244.95,-149.06 1243.47,-159.55 1250.34,-158.18"/>
<text xml:space="preserve" text-anchor="middle" x="1274.11" y="-170.66" font-family="Times,serif" font-size="14.00">open()</text>
</g>
</g>
</svg>
