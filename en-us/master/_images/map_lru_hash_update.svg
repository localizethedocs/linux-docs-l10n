<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 14.1.2 (20260126.1125)
 -->
<!-- Pages: 1 -->
<svg width="1516pt" height="2187pt"
 viewBox="0.00 0.00 1516.00 2187.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2182.6)">
<polygon fill="white" stroke="none" points="-4,4 -4,-2182.6 1512.26,-2182.6 1512.26,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_key</title>
<polygon fill="none" stroke="black" points="911.6,-1473 911.6,-2108.5 1133.6,-2108.5 1133.6,-1473 911.6,-1473"/>
<text xml:space="preserve" text-anchor="middle" x="1022.6" y="-2091.2" font-family="Times,serif" font-size="14.00">Key</text>
<text xml:space="preserve" text-anchor="middle" x="1022.6" y="-2073.95" font-family="Times,serif" font-size="14.00">(locks held during operation)</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_remote_lock</title>
<polygon fill="none" stroke="black" stroke-dasharray="5,2" points="979.6,-214.5 979.6,-808.75 1403.6,-808.75 1403.6,-214.5 979.6,-214.5"/>
<text xml:space="preserve" text-anchor="middle" x="1191.6" y="-791.45" font-family="Times,serif" font-size="14.00">Iterate through CPUs</text>
<text xml:space="preserve" text-anchor="middle" x="1191.6" y="-774.2" font-family="Times,serif" font-size="14.00">(start from current)</text>
</g>
<!-- remote_lock -->
<g id="node1" class="node">
<title>remote_lock</title>
<polygon fill="#ffff99" stroke="black" points="1108.6,-1517 936.6,-1517 936.6,-1481 1108.6,-1481 1108.6,-1517"/>
<text xml:space="preserve" text-anchor="middle" x="1022.6" y="-1494.33" font-family="Times,serif" font-size="14.00">remote CPU LRU lock</text>
</g>
<!-- fn___bpf_lru_list_shrink -->
<g id="node13" class="node">
<title>fn___bpf_lru_list_shrink</title>
<polygon fill="#beaed4" stroke="black" points="761.6,-1424.5 645.1,-1382 761.6,-1339.5 878.1,-1382 761.6,-1424.5"/>
<text xml:space="preserve" text-anchor="middle" x="761.6" y="-1385.95" font-family="Times,serif" font-size="14.00">&gt; 0 entries in</text>
<text xml:space="preserve" text-anchor="middle" x="761.6" y="-1368.7" font-family="Times,serif" font-size="14.00">local free list?</text>
</g>
<!-- remote_lock&#45;&gt;fn___bpf_lru_list_shrink -->
<!-- local_freelist_check5 -->
<g id="node18" class="node">
<title>local_freelist_check5</title>
<polygon fill="#ffff99" stroke="black" points="1252.6,-758.25 1109.85,-715.75 1252.6,-673.25 1395.35,-715.75 1252.6,-758.25"/>
<text xml:space="preserve" text-anchor="middle" x="1252.6" y="-719.7" font-family="Times,serif" font-size="14.00">Steal a node from</text>
<text xml:space="preserve" text-anchor="middle" x="1252.6" y="-702.45" font-family="Times,serif" font-size="14.00">per&#45;cpu freelist?</text>
</g>
<!-- remote_lock&#45;&gt;local_freelist_check5 -->
<!-- hash_lock -->
<g id="node2" class="node">
<title>hash_lock</title>
<polygon fill="#fdc086" stroke="black" points="1075.6,-1651.25 969.6,-1651.25 969.6,-1615.25 1075.6,-1615.25 1075.6,-1651.25"/>
<text xml:space="preserve" text-anchor="middle" x="1022.6" y="-1628.58" font-family="Times,serif" font-size="14.00">hashtab lock</text>
</g>
<!-- hash_lock&#45;&gt;remote_lock -->
<!-- lru_lock -->
<g id="node3" class="node">
<title>lru_lock</title>
<polygon fill="#beaed4" stroke="black" points="1062.85,-1785.5 982.35,-1785.5 982.35,-1749.5 1062.85,-1749.5 1062.85,-1785.5"/>
<text xml:space="preserve" text-anchor="middle" x="1022.6" y="-1762.83" font-family="Times,serif" font-size="14.00">LRU lock</text>
</g>
<!-- lru_lock&#45;&gt;hash_lock -->
<!-- local_lock -->
<g id="node4" class="node">
<title>local_lock</title>
<polygon fill="#7fc97f" stroke="black" points="1099.6,-1919.75 945.6,-1919.75 945.6,-1883.75 1099.6,-1883.75 1099.6,-1919.75"/>
<text xml:space="preserve" text-anchor="middle" x="1022.6" y="-1897.08" font-family="Times,serif" font-size="14.00">local CPU LRU lock</text>
</g>
<!-- local_lock&#45;&gt;lru_lock -->
<!-- no_lock -->
<g id="node5" class="node">
<title>no_lock</title>
<polygon fill="lightgrey" stroke="black" points="1077.1,-2058 968.1,-2058 968.1,-2022 1077.1,-2022 1077.1,-2058"/>
<text xml:space="preserve" text-anchor="middle" x="1022.6" y="-2035.33" font-family="Times,serif" font-size="14.00">no locks held</text>
</g>
<!-- no_lock&#45;&gt;local_lock -->
<!-- begin -->
<g id="node6" class="node">
<title>begin</title>
<ellipse fill="lightgrey" stroke="black" cx="409.6" cy="-2148.55" rx="101.47" ry="30.05"/>
<text xml:space="preserve" text-anchor="middle" x="409.6" y="-2152.5" font-family="Times,serif" font-size="14.00">begin</text>
<text xml:space="preserve" text-anchor="middle" x="409.6" y="-2135.25" font-family="Times,serif" font-size="14.00">bpf_map_update()</text>
</g>
<!-- local_freelist_check -->
<g id="node7" class="node">
<title>local_freelist_check</title>
<polygon fill="#7fc97f" stroke="black" points="409.6,-2082.5 283.35,-2040 409.6,-1997.5 535.85,-2040 409.6,-2082.5"/>
<text xml:space="preserve" text-anchor="middle" x="409.6" y="-2043.95" font-family="Times,serif" font-size="14.00">Local freelist</text>
<text xml:space="preserve" text-anchor="middle" x="409.6" y="-2026.7" font-family="Times,serif" font-size="14.00">node available?</text>
</g>
<!-- begin&#45;&gt;local_freelist_check -->
<g id="edge1" class="edge">
<title>begin&#45;&gt;local_freelist_check</title>
<path fill="none" stroke="black" d="M409.6,-2118.03C409.6,-2118.03 409.6,-2094.36 409.6,-2094.36"/>
<polygon fill="black" stroke="black" points="413.1,-2094.36 409.6,-2084.36 406.1,-2094.36 413.1,-2094.36"/>
</g>
<!-- use_local_node -->
<g id="node8" class="node">
<title>use_local_node</title>
<polygon fill="lightgrey" stroke="black" points="293.47,-1923 159.72,-1923 159.72,-1880.5 293.47,-1880.5 293.47,-1923"/>
<text xml:space="preserve" text-anchor="middle" x="226.6" y="-1905.7" font-family="Times,serif" font-size="14.00">Use node owned</text>
<text xml:space="preserve" text-anchor="middle" x="226.6" y="-1888.45" font-family="Times,serif" font-size="14.00">by this CPU</text>
</g>
<!-- local_freelist_check&#45;&gt;use_local_node -->
<g id="edge2" class="edge">
<title>local_freelist_check&#45;&gt;use_local_node</title>
<path fill="none" stroke="black" d="M288.41,-2038.05C288.41,-2038.05 288.41,-1934.96 288.41,-1934.96"/>
<polygon fill="black" stroke="black" points="291.91,-1934.96 288.41,-1924.96 284.91,-1934.96 291.91,-1934.96"/>
<text xml:space="preserve" text-anchor="middle" x="283.91" y="-1973.2" font-family="Times,serif" font-size="14.00">Y</text>
</g>
<!-- common_lru_check -->
<g id="node9" class="node">
<title>common_lru_check</title>
<polygon fill="lightgrey" stroke="black" points="592.6,-1961.5 365.1,-1901.75 592.6,-1842 820.1,-1901.75 592.6,-1961.5"/>
<text xml:space="preserve" text-anchor="middle" x="592.6" y="-1914.33" font-family="Times,serif" font-size="14.00">Map created with</text>
<text xml:space="preserve" text-anchor="middle" x="592.6" y="-1897.08" font-family="Times,serif" font-size="14.00">common LRU?</text>
<text xml:space="preserve" text-anchor="middle" x="592.6" y="-1879.83" font-family="Times,serif" font-size="14.00">(!BPF_F_NO_COMMON_LRU)</text>
</g>
<!-- local_freelist_check&#45;&gt;common_lru_check -->
<g id="edge3" class="edge">
<title>local_freelist_check&#45;&gt;common_lru_check</title>
<path fill="none" stroke="black" d="M450.47,-2011.02C450.47,-2011.02 450.47,-1935.83 450.47,-1935.83"/>
<polygon fill="black" stroke="black" points="453.97,-1935.83 450.47,-1925.83 446.97,-1935.83 453.97,-1935.83"/>
<text xml:space="preserve" text-anchor="middle" x="444.47" y="-1977.37" font-family="Times,serif" font-size="14.00">N</text>
</g>
<!-- fn_htab_lru_map_update_elem4 -->
<g id="node27" class="node">
<title>fn_htab_lru_map_update_elem4</title>
<polygon fill="#fdc086" stroke="black" points="480.35,-186.5 336.85,-186.5 336.85,-144 480.35,-144 480.35,-186.5"/>
<text xml:space="preserve" text-anchor="middle" x="408.6" y="-169.2" font-family="Times,serif" font-size="14.00">Update hashmap</text>
<text xml:space="preserve" text-anchor="middle" x="408.6" y="-151.95" font-family="Times,serif" font-size="14.00">with new element</text>
</g>
<!-- use_local_node&#45;&gt;fn_htab_lru_map_update_elem4 -->
<g id="edge27" class="edge">
<title>use_local_node&#45;&gt;fn_htab_lru_map_update_elem4</title>
<path fill="none" stroke="black" d="M293.88,-1902C323.18,-1902 350.97,-1902 350.97,-1902 350.97,-1902 350.97,-198.41 350.97,-198.41"/>
<polygon fill="black" stroke="black" points="354.47,-198.41 350.97,-188.41 347.47,-198.41 354.47,-198.41"/>
</g>
<!-- fn_bpf_lru_list_pop_free_to_local -->
<g id="node10" class="node">
<title>fn_bpf_lru_list_pop_free_to_local</title>
<polygon fill="#beaed4" stroke="black" points="643.47,-1806 437.72,-1806 437.72,-1729 643.47,-1729 643.47,-1806"/>
<text xml:space="preserve" text-anchor="middle" x="540.6" y="-1788.7" font-family="Times,serif" font-size="14.00">Flush local pending,</text>
<text xml:space="preserve" text-anchor="middle" x="540.6" y="-1771.45" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;Rotate Global list, move</text>
<text xml:space="preserve" text-anchor="middle" x="540.6" y="-1754.2" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;target_free</text>
<text xml:space="preserve" text-anchor="middle" x="540.6" y="-1736.95" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;from global &#45;&gt; local</text>
</g>
<!-- common_lru_check&#45;&gt;fn_bpf_lru_list_pop_free_to_local -->
<g id="edge4" class="edge">
<title>common_lru_check&#45;&gt;fn_bpf_lru_list_pop_free_to_local</title>
<path fill="none" stroke="black" d="M540.6,-1855.17C540.6,-1855.17 540.6,-1817.94 540.6,-1817.94"/>
<polygon fill="black" stroke="black" points="544.1,-1817.94 540.6,-1807.94 537.1,-1817.94 544.1,-1817.94"/>
<text xml:space="preserve" text-anchor="middle" x="536.1" y="-1823.26" font-family="Times,serif" font-size="14.00">Y</text>
</g>
<!-- fn___bpf_lru_list_shrink_inactive -->
<g id="node12" class="node">
<title>fn___bpf_lru_list_shrink_inactive</title>
<polygon fill="#fdc086" stroke="black" points="848.35,-1537.5 656.85,-1537.5 656.85,-1460.5 848.35,-1460.5 848.35,-1537.5"/>
<text xml:space="preserve" text-anchor="middle" x="752.6" y="-1520.2" font-family="Times,serif" font-size="14.00">Shrink inactive list</text>
<text xml:space="preserve" text-anchor="middle" x="752.6" y="-1502.95" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;&#160;up to remaining</text>
<text xml:space="preserve" text-anchor="middle" x="752.6" y="-1485.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;&#160;target_free</text>
<text xml:space="preserve" text-anchor="middle" x="752.6" y="-1468.45" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;&#160;(global LRU &#45;&gt; local)</text>
</g>
<!-- common_lru_check&#45;&gt;fn___bpf_lru_list_shrink_inactive -->
<g id="edge5" class="edge">
<title>common_lru_check&#45;&gt;fn___bpf_lru_list_shrink_inactive</title>
<path fill="none" stroke="black" d="M738.47,-1879.81C738.47,-1879.81 738.47,-1549.34 738.47,-1549.34"/>
<polygon fill="black" stroke="black" points="741.97,-1549.34 738.47,-1539.34 734.97,-1549.34 741.97,-1549.34"/>
<text xml:space="preserve" text-anchor="middle" x="732.47" y="-1718.53" font-family="Times,serif" font-size="14.00">N</text>
</g>
<!-- fn___bpf_lru_node_move_to_free -->
<g id="node11" class="node">
<title>fn___bpf_lru_node_move_to_free</title>
<polygon fill="#beaed4" stroke="black" points="540.6,-1693 441.35,-1633.25 540.6,-1573.5 639.85,-1633.25 540.6,-1693"/>
<text xml:space="preserve" text-anchor="middle" x="540.6" y="-1645.83" font-family="Times,serif" font-size="14.00">Able to free</text>
<text xml:space="preserve" text-anchor="middle" x="540.6" y="-1628.58" font-family="Times,serif" font-size="14.00">target_free</text>
<text xml:space="preserve" text-anchor="middle" x="540.6" y="-1611.33" font-family="Times,serif" font-size="14.00">nodes?</text>
</g>
<!-- fn_bpf_lru_list_pop_free_to_local&#45;&gt;fn___bpf_lru_node_move_to_free -->
<g id="edge6" class="edge">
<title>fn_bpf_lru_list_pop_free_to_local&#45;&gt;fn___bpf_lru_node_move_to_free</title>
<path fill="none" stroke="black" d="M540.6,-1728.67C540.6,-1728.67 540.6,-1705.01 540.6,-1705.01"/>
<polygon fill="black" stroke="black" points="544.1,-1705.01 540.6,-1695.01 537.1,-1705.01 544.1,-1705.01"/>
</g>
<!-- fn___bpf_lru_node_move_to_free&#45;&gt;fn___bpf_lru_list_shrink_inactive -->
<g id="edge8" class="edge">
<title>fn___bpf_lru_node_move_to_free&#45;&gt;fn___bpf_lru_list_shrink_inactive</title>
<path fill="none" stroke="black" d="M633.78,-1629.08C633.78,-1606.42 633.78,-1499 633.78,-1499 633.78,-1499 644.9,-1499 644.9,-1499"/>
<polygon fill="black" stroke="black" points="644.9,-1502.5 654.9,-1499 644.9,-1495.5 644.9,-1502.5"/>
<text xml:space="preserve" text-anchor="middle" x="627.78" y="-1545.19" font-family="Times,serif" font-size="14.00">N</text>
</g>
<!-- fn_bpf_lru_list_pop_free_to_local2 -->
<g id="node23" class="node">
<title>fn_bpf_lru_list_pop_free_to_local2</title>
<polygon fill="lightgrey" stroke="black" points="608.6,-1294.88 424.6,-1294.88 424.6,-1252.38 608.6,-1252.38 608.6,-1294.88"/>
<text xml:space="preserve" text-anchor="middle" x="516.6" y="-1277.58" font-family="Times,serif" font-size="14.00">Use node that was</text>
<text xml:space="preserve" text-anchor="middle" x="516.6" y="-1260.33" font-family="Times,serif" font-size="14.00">not recently referenced</text>
</g>
<!-- fn___bpf_lru_node_move_to_free&#45;&gt;fn_bpf_lru_list_pop_free_to_local2 -->
<g id="edge7" class="edge">
<title>fn___bpf_lru_node_move_to_free&#45;&gt;fn_bpf_lru_list_pop_free_to_local2</title>
<path fill="none" stroke="black" d="M524.97,-1582.49C524.97,-1582.49 524.97,-1306.75 524.97,-1306.75"/>
<polygon fill="black" stroke="black" points="528.47,-1306.75 524.97,-1296.75 521.47,-1306.75 528.47,-1306.75"/>
<text xml:space="preserve" text-anchor="middle" x="520.47" y="-1448.57" font-family="Times,serif" font-size="14.00">Y</text>
</g>
<!-- fn___bpf_lru_list_shrink_inactive&#45;&gt;fn___bpf_lru_list_shrink -->
<g id="edge9" class="edge">
<title>fn___bpf_lru_list_shrink_inactive&#45;&gt;fn___bpf_lru_list_shrink</title>
<path fill="none" stroke="black" d="M752.6,-1460.04C752.6,-1460.04 752.6,-1433.1 752.6,-1433.1"/>
<polygon fill="black" stroke="black" points="756.1,-1433.1 752.6,-1423.1 749.1,-1433.1 756.1,-1433.1"/>
</g>
<!-- fn___bpf_lru_list_shrink2 -->
<g id="node14" class="node">
<title>fn___bpf_lru_list_shrink2</title>
<polygon fill="#beaed4" stroke="black" points="880.1,-1303.5 681.1,-1303.5 681.1,-1243.75 880.1,-1243.75 880.1,-1303.5"/>
<text xml:space="preserve" text-anchor="middle" x="780.6" y="-1286.2" font-family="Times,serif" font-size="14.00">Steal one node from</text>
<text xml:space="preserve" text-anchor="middle" x="780.6" y="-1268.95" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;&#160;inactive, or if empty,</text>
<text xml:space="preserve" text-anchor="middle" x="780.6" y="-1251.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;&#160;from active global list</text>
</g>
<!-- fn___bpf_lru_list_shrink&#45;&gt;fn___bpf_lru_list_shrink2 -->
<g id="edge11" class="edge">
<title>fn___bpf_lru_list_shrink&#45;&gt;fn___bpf_lru_list_shrink2</title>
<path fill="none" stroke="black" d="M779.6,-1345.61C779.6,-1345.61 779.6,-1315.47 779.6,-1315.47"/>
<polygon fill="black" stroke="black" points="783.1,-1315.47 779.6,-1305.47 776.1,-1315.47 783.1,-1315.47"/>
<text xml:space="preserve" text-anchor="middle" x="773.6" y="-1317.24" font-family="Times,serif" font-size="14.00">N</text>
</g>
<!-- fn___bpf_lru_list_shrink&#45;&gt;fn_bpf_lru_list_pop_free_to_local2 -->
<g id="edge10" class="edge">
<title>fn___bpf_lru_list_shrink&#45;&gt;fn_bpf_lru_list_pop_free_to_local2</title>
<path fill="none" stroke="black" d="M659.03,-1376.5C659.03,-1354.49 659.03,-1274 659.03,-1274 659.03,-1274 620.33,-1274 620.33,-1274"/>
<polygon fill="black" stroke="black" points="620.33,-1270.5 610.33,-1274 620.33,-1277.5 620.33,-1270.5"/>
<text xml:space="preserve" text-anchor="middle" x="654.53" y="-1309.85" font-family="Times,serif" font-size="14.00">Y</text>
</g>
<!-- fn___bpf_lru_list_shrink3 -->
<g id="node15" class="node">
<title>fn___bpf_lru_list_shrink3</title>
<polygon fill="#fdc086" stroke="black" points="855.72,-1207.75 705.47,-1207.75 705.47,-1165.25 855.72,-1165.25 855.72,-1207.75"/>
<text xml:space="preserve" text-anchor="middle" x="780.6" y="-1190.45" font-family="Times,serif" font-size="14.00">Try to remove</text>
<text xml:space="preserve" text-anchor="middle" x="780.6" y="-1173.2" font-family="Times,serif" font-size="14.00">node from hashtab</text>
</g>
<!-- fn___bpf_lru_list_shrink2&#45;&gt;fn___bpf_lru_list_shrink3 -->
<g id="edge12" class="edge">
<title>fn___bpf_lru_list_shrink2&#45;&gt;fn___bpf_lru_list_shrink3</title>
<path fill="none" stroke="black" d="M780.6,-1243.64C780.6,-1243.64 780.6,-1219.53 780.6,-1219.53"/>
<polygon fill="black" stroke="black" points="784.1,-1219.53 780.6,-1209.53 777.1,-1219.53 784.1,-1219.53"/>
</g>
<!-- local_freelist_check2 -->
<g id="node16" class="node">
<title>local_freelist_check2</title>
<polygon fill="lightgrey" stroke="black" points="780.6,-1129.25 667.1,-1086.75 780.6,-1044.25 894.1,-1086.75 780.6,-1129.25"/>
<text xml:space="preserve" text-anchor="middle" x="780.6" y="-1090.7" font-family="Times,serif" font-size="14.00">Htab removal</text>
<text xml:space="preserve" text-anchor="middle" x="780.6" y="-1073.45" font-family="Times,serif" font-size="14.00">successful?</text>
</g>
<!-- fn___bpf_lru_list_shrink3&#45;&gt;local_freelist_check2 -->
<g id="edge13" class="edge">
<title>fn___bpf_lru_list_shrink3&#45;&gt;local_freelist_check2</title>
<path fill="none" stroke="black" d="M780.6,-1164.86C780.6,-1164.86 780.6,-1141.19 780.6,-1141.19"/>
<polygon fill="black" stroke="black" points="784.1,-1141.19 780.6,-1131.19 777.1,-1141.19 784.1,-1141.19"/>
</g>
<!-- common_lru_check2 -->
<g id="node17" class="node">
<title>common_lru_check2</title>
<polygon fill="lightgrey" stroke="black" points="1263.6,-1008.25 1036.1,-948.5 1263.6,-888.75 1491.1,-948.5 1263.6,-1008.25"/>
<text xml:space="preserve" text-anchor="middle" x="1263.6" y="-961.08" font-family="Times,serif" font-size="14.00">Map created with</text>
<text xml:space="preserve" text-anchor="middle" x="1263.6" y="-943.83" font-family="Times,serif" font-size="14.00">common LRU?</text>
<text xml:space="preserve" text-anchor="middle" x="1263.6" y="-926.58" font-family="Times,serif" font-size="14.00">(!BPF_F_NO_COMMON_LRU)</text>
</g>
<!-- local_freelist_check2&#45;&gt;common_lru_check2 -->
<g id="edge15" class="edge">
<title>local_freelist_check2&#45;&gt;common_lru_check2</title>
<path fill="none" stroke="black" d="M888.05,-1084.36C888.05,-1066.07 888.05,-949 888.05,-949 888.05,-949 1024.69,-949 1024.69,-949"/>
<polygon fill="black" stroke="black" points="1024.69,-952.5 1034.69,-949 1024.69,-945.5 1024.69,-952.5"/>
<text xml:space="preserve" text-anchor="middle" x="882.69" y="-952.95" font-family="Times,serif" font-size="14.00">N</text>
</g>
<!-- local_freelist_check4 -->
<g id="node24" class="node">
<title>local_freelist_check4</title>
<polygon fill="lightgrey" stroke="black" points="804.22,-433.12 650.97,-433.12 650.97,-373.38 804.22,-373.38 804.22,-433.12"/>
<text xml:space="preserve" text-anchor="middle" x="727.6" y="-415.82" font-family="Times,serif" font-size="14.00">Use node that was</text>
<text xml:space="preserve" text-anchor="middle" x="727.6" y="-398.57" font-family="Times,serif" font-size="14.00">actively referenced</text>
<text xml:space="preserve" text-anchor="middle" x="727.6" y="-381.32" font-family="Times,serif" font-size="14.00">in global list</text>
</g>
<!-- local_freelist_check2&#45;&gt;local_freelist_check4 -->
<g id="edge14" class="edge">
<title>local_freelist_check2&#45;&gt;local_freelist_check4</title>
<path fill="none" stroke="black" d="M735.66,-1060.79C735.66,-1060.79 735.66,-444.91 735.66,-444.91"/>
<polygon fill="black" stroke="black" points="739.16,-444.91 735.66,-434.91 732.16,-444.91 739.16,-444.91"/>
<text xml:space="preserve" text-anchor="middle" x="731.16" y="-756.8" font-family="Times,serif" font-size="14.00">Y</text>
</g>
<!-- common_lru_check2&#45;&gt;local_freelist_check5 -->
<g id="edge16" class="edge">
<title>common_lru_check2&#45;&gt;local_freelist_check5</title>
<path fill="none" stroke="black" d="M1120.25,-926.18C1120.25,-926.18 1120.25,-730.77 1120.25,-730.77"/>
<polygon fill="black" stroke="black" points="1123.75,-730.77 1120.25,-720.77 1116.75,-730.77 1123.75,-730.77"/>
<text xml:space="preserve" text-anchor="middle" x="1115.75" y="-832.43" font-family="Times,serif" font-size="14.00">Y</text>
</g>
<!-- fn_htab_lru_map_update_elem_ENOMEM -->
<g id="node25" class="node">
<title>fn_htab_lru_map_update_elem_ENOMEM</title>
<ellipse fill="lightgrey" stroke="black" cx="1407.6" cy="-165.25" rx="100.66" ry="18"/>
<text xml:space="preserve" text-anchor="middle" x="1407.6" y="-160.57" font-family="Times,serif" font-size="14.00">return &#45;ENOMEM</text>
</g>
<!-- common_lru_check2&#45;&gt;fn_htab_lru_map_update_elem_ENOMEM -->
<g id="edge17" class="edge">
<title>common_lru_check2&#45;&gt;fn_htab_lru_map_update_elem_ENOMEM</title>
<path fill="none" stroke="black" d="M1443.47,-935.56C1443.47,-935.56 1443.47,-194.05 1443.47,-194.05"/>
<polygon fill="black" stroke="black" points="1446.97,-194.05 1443.47,-184.05 1439.97,-194.05 1446.97,-194.05"/>
<text xml:space="preserve" text-anchor="middle" x="1437.47" y="-568.75" font-family="Times,serif" font-size="14.00">N</text>
</g>
<!-- pad4 -->
<!-- common_lru_check2&#45;&gt;pad4 -->
<!-- local_freelist_check6 -->
<g id="node19" class="node">
<title>local_freelist_check6</title>
<polygon fill="#ffff99" stroke="black" points="1247.85,-637.25 987.35,-637.25 987.35,-577.5 1247.85,-577.5 1247.85,-637.25"/>
<text xml:space="preserve" text-anchor="middle" x="1117.6" y="-619.95" font-family="Times,serif" font-size="14.00">Steal a node from</text>
<text xml:space="preserve" text-anchor="middle" x="1117.6" y="-602.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;(1) Unreferenced pending, or</text>
<text xml:space="preserve" text-anchor="middle" x="1117.6" y="-585.45" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;(2) Any pending node</text>
</g>
<!-- local_freelist_check5&#45;&gt;local_freelist_check6 -->
<g id="edge19" class="edge">
<title>local_freelist_check5&#45;&gt;local_freelist_check6</title>
<path fill="none" stroke="black" d="M1178.85,-694.85C1178.85,-694.85 1178.85,-649.15 1178.85,-649.15"/>
<polygon fill="black" stroke="black" points="1182.35,-649.15 1178.85,-639.15 1175.35,-649.15 1182.35,-649.15"/>
<text xml:space="preserve" text-anchor="middle" x="1172.85" y="-658.7" font-family="Times,serif" font-size="14.00">N</text>
</g>
<!-- fn_htab_lru_map_update_elem -->
<g id="node21" class="node">
<title>fn_htab_lru_map_update_elem</title>
<polygon fill="lightgrey" stroke="black" points="1117.6,-463 1012.35,-403.25 1117.6,-343.5 1222.85,-403.25 1117.6,-463"/>
<text xml:space="preserve" text-anchor="middle" x="1117.6" y="-415.82" font-family="Times,serif" font-size="14.00">Stole node</text>
<text xml:space="preserve" text-anchor="middle" x="1117.6" y="-398.57" font-family="Times,serif" font-size="14.00">from remote</text>
<text xml:space="preserve" text-anchor="middle" x="1117.6" y="-381.32" font-family="Times,serif" font-size="14.00">CPU?</text>
</g>
<!-- local_freelist_check5&#45;&gt;fn_htab_lru_map_update_elem -->
<g id="edge18" class="edge">
<title>local_freelist_check5&#45;&gt;fn_htab_lru_map_update_elem</title>
<path fill="none" stroke="black" d="M1297.01,-686.07C1297.01,-611.64 1297.01,-423 1297.01,-423 1297.01,-423 1200.53,-423 1200.53,-423"/>
<polygon fill="black" stroke="black" points="1200.53,-419.5 1190.53,-423 1200.53,-426.5 1200.53,-419.5"/>
<text xml:space="preserve" text-anchor="middle" x="1292.51" y="-510.25" font-family="Times,serif" font-size="14.00">Y</text>
</g>
<!-- local_freelist_check7 -->
<g id="node20" class="node">
<title>local_freelist_check7</title>
<polygon fill="#fdc086" stroke="black" points="1192.72,-541.5 1042.47,-541.5 1042.47,-499 1192.72,-499 1192.72,-541.5"/>
<text xml:space="preserve" text-anchor="middle" x="1117.6" y="-524.2" font-family="Times,serif" font-size="14.00">Try to remove</text>
<text xml:space="preserve" text-anchor="middle" x="1117.6" y="-506.95" font-family="Times,serif" font-size="14.00">node from hashtab</text>
</g>
<!-- local_freelist_check6&#45;&gt;local_freelist_check7 -->
<g id="edge20" class="edge">
<title>local_freelist_check6&#45;&gt;local_freelist_check7</title>
<path fill="none" stroke="black" d="M1117.6,-577.39C1117.6,-577.39 1117.6,-553.28 1117.6,-553.28"/>
<polygon fill="black" stroke="black" points="1121.1,-553.28 1117.6,-543.28 1114.1,-553.28 1121.1,-553.28"/>
</g>
<!-- local_freelist_check7&#45;&gt;fn_htab_lru_map_update_elem -->
<g id="edge21" class="edge">
<title>local_freelist_check7&#45;&gt;fn_htab_lru_map_update_elem</title>
<path fill="none" stroke="black" d="M1117.6,-498.52C1117.6,-498.52 1117.6,-474.93 1117.6,-474.93"/>
<polygon fill="black" stroke="black" points="1121.1,-474.93 1117.6,-464.93 1114.1,-474.93 1121.1,-474.93"/>
</g>
<!-- fn_htab_lru_map_update_elem2 -->
<g id="node22" class="node">
<title>fn_htab_lru_map_update_elem2</title>
<polygon fill="lightgrey" stroke="black" points="1311.6,-307.5 1227.35,-265 1311.6,-222.5 1395.85,-265 1311.6,-307.5"/>
<text xml:space="preserve" text-anchor="middle" x="1311.6" y="-268.95" font-family="Times,serif" font-size="14.00">Iterated</text>
<text xml:space="preserve" text-anchor="middle" x="1311.6" y="-251.7" font-family="Times,serif" font-size="14.00">all CPUs?</text>
</g>
<!-- fn_htab_lru_map_update_elem&#45;&gt;fn_htab_lru_map_update_elem2 -->
<g id="edge23" class="edge">
<title>fn_htab_lru_map_update_elem&#45;&gt;fn_htab_lru_map_update_elem2</title>
<path fill="none" stroke="black" d="M1188.09,-383C1214.21,-383 1237.6,-383 1237.6,-383 1237.6,-383 1237.6,-282.2 1237.6,-282.2"/>
<polygon fill="black" stroke="black" points="1241.1,-282.2 1237.6,-272.2 1234.1,-282.2 1241.1,-282.2"/>
<text xml:space="preserve" text-anchor="middle" x="1231.6" y="-361.3" font-family="Times,serif" font-size="14.00">N</text>
</g>
<!-- fn_htab_lru_map_update_elem3 -->
<g id="node26" class="node">
<title>fn_htab_lru_map_update_elem3</title>
<polygon fill="lightgrey" stroke="black" points="827.47,-294.88 627.72,-294.88 627.72,-235.12 827.47,-235.12 827.47,-294.88"/>
<text xml:space="preserve" text-anchor="middle" x="727.6" y="-277.57" font-family="Times,serif" font-size="14.00">Use node that was</text>
<text xml:space="preserve" text-anchor="middle" x="727.6" y="-260.32" font-family="Times,serif" font-size="14.00">actively referenced</text>
<text xml:space="preserve" text-anchor="middle" x="727.6" y="-243.07" font-family="Times,serif" font-size="14.00">in (another?) CPU&#39;s cache</text>
</g>
<!-- fn_htab_lru_map_update_elem&#45;&gt;fn_htab_lru_map_update_elem3 -->
<g id="edge22" class="edge">
<title>fn_htab_lru_map_update_elem&#45;&gt;fn_htab_lru_map_update_elem3</title>
<path fill="none" stroke="black" d="M1082.39,-363C1002.79,-363 815.85,-363 815.85,-363 815.85,-363 815.85,-306.72 815.85,-306.72"/>
<polygon fill="black" stroke="black" points="819.35,-306.72 815.85,-296.72 812.35,-306.72 819.35,-306.72"/>
<text xml:space="preserve" text-anchor="middle" x="916.48" y="-366.95" font-family="Times,serif" font-size="14.00">Y</text>
</g>
<!-- pad0 -->
<!-- fn_htab_lru_map_update_elem&#45;&gt;pad0 -->
<!-- fn_htab_lru_map_update_elem2&#45;&gt;local_freelist_check5 -->
<g id="edge25" class="edge">
<title>fn_htab_lru_map_update_elem2&#45;&gt;local_freelist_check5</title>
<path fill="none" stroke="black" d="M1346.18,-290.53C1346.18,-290.53 1346.18,-689.44 1346.18,-689.44"/>
<polygon fill="black" stroke="black" points="1342.68,-689.44 1346.18,-699.44 1349.68,-689.44 1342.68,-689.44"/>
<text xml:space="preserve" text-anchor="middle" x="1340.18" y="-493.93" font-family="Times,serif" font-size="14.00">N</text>
</g>
<!-- fn_htab_lru_map_update_elem2&#45;&gt;fn_htab_lru_map_update_elem_ENOMEM -->
<g id="edge24" class="edge">
<title>fn_htab_lru_map_update_elem2&#45;&gt;fn_htab_lru_map_update_elem_ENOMEM</title>
<path fill="none" stroke="black" d="M1351.39,-242.37C1351.39,-242.37 1351.39,-191.88 1351.39,-191.88"/>
<polygon fill="black" stroke="black" points="1354.89,-191.88 1351.39,-181.88 1347.89,-191.88 1354.89,-191.88"/>
<text xml:space="preserve" text-anchor="middle" x="1346.89" y="-203.82" font-family="Times,serif" font-size="14.00">Y</text>
</g>
<!-- fn_bpf_lru_list_pop_free_to_local2&#45;&gt;fn_htab_lru_map_update_elem4 -->
<g id="edge28" class="edge">
<title>fn_bpf_lru_list_pop_free_to_local2&#45;&gt;fn_htab_lru_map_update_elem4</title>
<path fill="none" stroke="black" d="M443.18,-1251.98C443.18,-1251.98 443.18,-198.09 443.18,-198.09"/>
<polygon fill="black" stroke="black" points="446.68,-198.09 443.18,-188.09 439.68,-198.09 446.68,-198.09"/>
</g>
<!-- local_freelist_check4&#45;&gt;fn_htab_lru_map_update_elem3 -->
<!-- local_freelist_check4&#45;&gt;fn_htab_lru_map_update_elem4 -->
<g id="edge29" class="edge">
<title>local_freelist_check4&#45;&gt;fn_htab_lru_map_update_elem4</title>
<path fill="none" stroke="black" d="M650.71,-403C572.19,-403 461.76,-403 461.76,-403 461.76,-403 461.76,-198.28 461.76,-198.28"/>
<polygon fill="black" stroke="black" points="465.26,-198.28 461.76,-188.28 458.26,-198.28 465.26,-198.28"/>
</g>
<!-- fn_htab_lru_map_update_elem3&#45;&gt;fn_htab_lru_map_update_elem4 -->
<g id="edge26" class="edge">
<title>fn_htab_lru_map_update_elem3&#45;&gt;fn_htab_lru_map_update_elem4</title>
<path fill="none" stroke="black" d="M659.46,-234.74C659.46,-207.26 659.46,-171 659.46,-171 659.46,-171 492.33,-171 492.33,-171"/>
<polygon fill="black" stroke="black" points="492.33,-167.5 482.33,-171 492.33,-174.5 492.33,-167.5"/>
</g>
<!-- fn_htab_lru_map_update_elem5 -->
<g id="node28" class="node">
<title>fn_htab_lru_map_update_elem5</title>
<ellipse fill="lightgrey" stroke="black" cx="74.6" cy="-18" rx="52.79" ry="18"/>
<text xml:space="preserve" text-anchor="middle" x="74.6" y="-13.32" font-family="Times,serif" font-size="14.00">return 0</text>
</g>
<!-- fn_htab_lru_map_update_elem4&#45;&gt;fn_htab_lru_map_update_elem5 -->
<g id="edge30" class="edge">
<title>fn_htab_lru_map_update_elem4&#45;&gt;fn_htab_lru_map_update_elem5</title>
<path fill="none" stroke="black" d="M336.6,-165C233.73,-165 57,-165 57,-165 57,-165 57,-46.95 57,-46.95"/>
<polygon fill="black" stroke="black" points="60.5,-46.95 57,-36.95 53.5,-46.95 60.5,-46.95"/>
<text xml:space="preserve" text-anchor="middle" x="28.5" y="-39.39" font-family="Times,serif" font-size="14.00">Success</text>
</g>
<!-- fn_htab_lru_map_update_elem_EBUSY -->
<g id="node29" class="node">
<title>fn_htab_lru_map_update_elem_EBUSY</title>
<ellipse fill="lightgrey" stroke="black" cx="285.6" cy="-18" rx="85.93" ry="18"/>
<text xml:space="preserve" text-anchor="middle" x="285.6" y="-13.32" font-family="Times,serif" font-size="14.00">return &#45;EBUSY</text>
</g>
<!-- fn_htab_lru_map_update_elem4&#45;&gt;fn_htab_lru_map_update_elem_EBUSY -->
<g id="edge31" class="edge">
<title>fn_htab_lru_map_update_elem4&#45;&gt;fn_htab_lru_map_update_elem_EBUSY</title>
<path fill="none" stroke="black" d="M348.41,-143.52C348.41,-143.52 348.41,-42.18 348.41,-42.18"/>
<polygon fill="black" stroke="black" points="351.91,-42.18 348.41,-32.18 344.91,-42.18 351.91,-42.18"/>
<text xml:space="preserve" text-anchor="middle" x="279.78" y="-96.8" font-family="Times,serif" font-size="14.00">Hashtab lock failed</text>
</g>
<!-- fn_htab_lru_map_update_elem_EEXIST -->
<g id="node30" class="node">
<title>fn_htab_lru_map_update_elem_EEXIST</title>
<ellipse fill="lightgrey" stroke="black" cx="531.6" cy="-18" rx="88.04" ry="18"/>
<text xml:space="preserve" text-anchor="middle" x="531.6" y="-13.32" font-family="Times,serif" font-size="14.00">return &#45;EEXIST</text>
</g>
<!-- fn_htab_lru_map_update_elem4&#45;&gt;fn_htab_lru_map_update_elem_EEXIST -->
<g id="edge32" class="edge">
<title>fn_htab_lru_map_update_elem4&#45;&gt;fn_htab_lru_map_update_elem_EEXIST</title>
<path fill="none" stroke="black" d="M468.41,-143.52C468.41,-143.52 468.41,-42.18 468.41,-42.18"/>
<polygon fill="black" stroke="black" points="471.91,-42.18 468.41,-32.18 464.91,-42.18 471.91,-42.18"/>
<text xml:space="preserve" text-anchor="middle" x="537.41" y="-114.05" font-family="Times,serif" font-size="14.00">BPF_EXIST set and</text>
<text xml:space="preserve" text-anchor="middle" x="537.41" y="-96.8" font-family="Times,serif" font-size="14.00">key already exists</text>
</g>
<!-- fn_htab_lru_map_update_elem_ENOENT -->
<g id="node31" class="node">
<title>fn_htab_lru_map_update_elem_ENOENT</title>
<ellipse fill="lightgrey" stroke="black" cx="786.6" cy="-18" rx="95.4" ry="18"/>
<text xml:space="preserve" text-anchor="middle" x="786.6" y="-13.32" font-family="Times,serif" font-size="14.00">return &#45;ENOENT</text>
</g>
<!-- fn_htab_lru_map_update_elem4&#45;&gt;fn_htab_lru_map_update_elem_ENOENT -->
<g id="edge33" class="edge">
<title>fn_htab_lru_map_update_elem4&#45;&gt;fn_htab_lru_map_update_elem_ENOENT</title>
<path fill="none" stroke="black" d="M480.6,-159C589.12,-159 782.05,-159 782.05,-159 782.05,-159 782.05,-47.95 782.05,-47.95"/>
<polygon fill="black" stroke="black" points="785.55,-47.95 782.05,-37.95 778.55,-47.95 785.55,-47.95"/>
<text xml:space="preserve" text-anchor="middle" x="716.8" y="-57.63" font-family="Times,serif" font-size="14.00">BPF_NOEXIST set</text>
<text xml:space="preserve" text-anchor="middle" x="716.8" y="-40.38" font-family="Times,serif" font-size="14.00">and no such entry</text>
</g>
<!-- pad3 -->
<!-- fn_htab_lru_map_update_elem4&#45;&gt;pad3 -->
<!-- pad1 -->
<!-- pad0&#45;&gt;pad1 -->
<!-- pad2 -->
<!-- pad1&#45;&gt;pad2 -->
<!-- pad3&#45;&gt;fn_htab_lru_map_update_elem5 -->
<!-- pad3&#45;&gt;fn_htab_lru_map_update_elem_EBUSY -->
<!-- pad3&#45;&gt;fn_htab_lru_map_update_elem_EEXIST -->
<!-- pad3&#45;&gt;fn_htab_lru_map_update_elem_ENOENT -->
<!-- pad4&#45;&gt;local_freelist_check5 -->
</g>
</svg>
