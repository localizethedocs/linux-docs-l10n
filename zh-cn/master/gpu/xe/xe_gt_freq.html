<!DOCTYPE html>

<html lang="zh-CN" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Xe GT Frequency Management &#8212; The Linux Kernel unknown version 文档</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=adfc0c0d" />
    <script src="../../_static/documentation_options.js?v=c459948e"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/translations.js?v=beaddf03"></script>
    <link rel="canonical" href="https://projects.localizethedocs.org/linux-docs-l10n/gpu/xe/xe_gt_freq.html" />
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" />
    <link rel="next" title="Pcode" href="xe_pcode.html" />
    <link rel="prev" title="Runtime Power Management" href="xe_pm.html" />

   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  

  
  

<script type="text/javascript" src="../../ltd-provenance.js"></script>
<script type="text/javascript" src="../../ltd-current.js"></script>
<script type="text/javascript" src="../../../../ltd-config.js"></script>
<script type="text/javascript" src="../../../../ltd-flyout.js"></script>

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/logo.svg" alt="Logo of The Linux Kernel"/>
            </a></p>
<h1 class="logo"><a href="../../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.19.0</p>







<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="提交" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>


<p>
<h3 class="kernel-toc-contents">Contents</h3>
<input type="checkbox" class="kernel-toc-toggle" id = "kernel-toc-toggle" checked>
<label class="kernel-toc-title" for="kernel-toc-toggle"></label>

<div class="kerneltoc" id="kerneltoc">
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../process/development-process.html">Development process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../process/submitting-patches.html">Submitting patches</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../process/code-of-conduct.html">Code of conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../maintainer/index.html">Maintainer handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../process/index.html">All development-process docs</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../core-api/index.html">Core API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../driver-api/index.html">Driver APIs</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../subsystem-apis.html">Subsystems</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../subsystem-apis.html#core-subsystems">Core subsystems</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../subsystem-apis.html#human-interfaces">Human interfaces</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../input/index.html">Input Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../hid/index.html">Human Interface Devices (HID)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sound/index.html">Sound Subsystem Documentation</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">GPU Driver Developer's Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../fb/index.html">Frame Buffer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../leds/index.html">LEDs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../subsystem-apis.html#networking-interfaces">Networking interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../subsystem-apis.html#storage-interfaces">Storage interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../subsystem-apis.html#other-subsystems">Other subsystems</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../locking/index.html">Locking</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../process/license-rules.html">Licensing rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../doc-guide/index.html">Writing documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev-tools/index.html">Development tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev-tools/testing-overview.html">Testing guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../kernel-hacking/index.html">Hacking guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../trace/index.html">Tracing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fault-injection/index.html">Fault injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../livepatch/index.html">Livepatching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rust/index.html">Rust</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../admin-guide/index.html">Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../kbuild/index.html">Build system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admin-guide/reporting-issues.html">Reporting issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/index.html">Userspace tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../userspace-api/index.html">Userspace API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../firmware-guide/index.html">Firmware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devicetree/index.html">Firmware and Devicetree</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../arch/index.html">CPU architectures</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../staging/index.html">Unsorted documentation</a></li>
</ul>

</div>

<script type="text/javascript"> <!--
  var sbar = document.getElementsByClassName("sphinxsidebar")[0];
  let currents = document.getElementsByClassName("current")
  if (currents.length) {
    sbar.scrollTop = currents[currents.length - 1].offsetTop;
  }
  --> </script>
  <div role="note" aria-label="source link">
    <h3>本页</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/gpu/xe/xe_gt_freq.rst.txt"
            rel="nofollow">显示源代码</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="xe-gt-frequency-management">
<h1>Xe GT Frequency Management<a class="headerlink" href="#xe-gt-frequency-management" title="Link to this heading">¶</a></h1>
<p>This component is responsible for the raw GT frequency management, including
the sysfs API.</p>
<p>Underneath, Xe enables GuC SLPC automated frequency management. GuC is then
allowed to request PCODE any frequency between the Minimum and the Maximum
selected by this component. Furthermore, it is important to highlight that
PCODE is the ultimate decision maker of the actual running frequency, based
on thermal and other running conditions.</p>
<p>Xe's Freq provides a sysfs API for frequency management under
<code class="docutils literal notranslate"><span class="pre">&lt;device&gt;/tile#/gt#/freq0/</span></code> directory.</p>
<p><strong>Read-only</strong> attributes:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">act_freq</span></code>: The actual resolved frequency decided by PCODE.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cur_freq</span></code>: The current one requested by GuC PC to the PCODE.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rpn_freq</span></code>: The Render Performance (RP) N level, which is the minimal one.</p></li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">rpa_freq</span></code>: The Render Performance (RP) A level, which is the achievable one.</dt><dd><p>Calculated by PCODE at runtime based on multiple running conditions</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">rpe_freq</span></code>: The Render Performance (RP) E level, which is the efficient one.</dt><dd><p>Calculated by PCODE at runtime based on multiple running conditions</p>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">rp0_freq</span></code>: The Render Performance (RP) 0 level, which is the maximum one.</p></li>
</ul>
<p><strong>Read-write</strong> attributes:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">min_freq</span></code>: Min frequency request.</p></li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">max_freq</span></code>: Max frequency request.</dt><dd><p>If max &lt;= min, then freq_min becomes a fixed frequency
request.</p>
</dd>
</dl>
</li>
</ul>
<p>The GT frequency may be throttled by hardware/firmware for various reasons
that are provided through attributes under the <code class="docutils literal notranslate"><span class="pre">freq0/throttle/</span></code> directory.
Their availability depend on the platform and some may not be visible if that
reason is not available.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">reasons</span></code> attribute can be used by sysadmin to monitor all possible
reasons for throttling and report them. It's preferred over monitoring
<code class="docutils literal notranslate"><span class="pre">status</span></code> and then reading the reason from individual attributes since that
is racy. If there's no throttling happening, &quot;none&quot; is returned.</p>
<p>The following attributes are available on Crescent Island platform:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">status</span></code>: Overall throttle status (0: no throttling, 1: throttling)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reasons</span></code>: Array of reasons causing throttling separated by space</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reason_pl1</span></code>: package PL1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reason_pl2</span></code>: package PL2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reason_pl4</span></code>: package PL4</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reason_prochot</span></code>: prochot</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reason_soc_thermal</span></code>: SoC thermal</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reason_mem_thermal</span></code>: Memory thermal</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reason_vr_thermal</span></code>: VR thermal</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reason_iccmax</span></code>: ICCMAX</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reason_ratl</span></code>: RATL thermal algorithm</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reason_soc_avg_thermal</span></code>: SoC average temp</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reason_fastvmode</span></code>: VR is hitting FastVMode</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reason_psys_pl1</span></code>: PSYS PL1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reason_psys_pl2</span></code>: PSYS PL2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reason_p0_freq</span></code>: P0 frequency</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reason_psys_crit</span></code>: PSYS critical</p></li>
</ul>
<p>Other platforms support the following reasons:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">status</span></code>: Overall throttle status (0: no throttling, 1: throttling)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reasons</span></code>: Array of reasons causing throttling separated by space</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reason_pl1</span></code>: package PL1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reason_pl2</span></code>: package PL2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reason_pl4</span></code>: package PL4, Iccmax etc.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reason_thermal</span></code>: thermal</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reason_prochot</span></code>: prochot</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reason_ratl</span></code>: RATL hermal algorithm</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reason_vr_thermalert</span></code>: VR THERMALERT</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reason_vr_tdc</span></code>: VR TDC</p></li>
</ul>
<section id="internal-api">
<h2>Internal API<a class="headerlink" href="#internal-api" title="Link to this heading">¶</a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.xe_gt_freq_init">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">xe_gt_freq_init</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">xe_gt</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">gt</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.xe_gt_freq_init" title="Link to this definition">¶</a><br /></dt>
<dd><p>Initialize Xe Freq component</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">xe_gt</span> <span class="pre">*gt</span></code></dt><dd><p>Xe GT object</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>It needs to be initialized after GT Sysfs and GuC PC components are ready.</p>
<p><strong>Return</strong></p>
<p>Returns error value for failure and 0 for success.</p>
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &#169;The kernel development community.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="../../_sources/gpu/xe/xe_gt_freq.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>