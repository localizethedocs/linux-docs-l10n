<!DOCTYPE html>

<html lang="zh-TW" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Dell Systems Management Base Driver &#8212; The Linux Kernel  說明文件</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=adfc0c0d" />
    <script src="../_static/documentation_options.js?v=0d9984b1"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/translations.js?v=cbf116e0"></script>
    <link rel="canonical" href="https://projects.localizethedocs.org/linux-docs-l10n/userspace-api/dcdbas.html" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜尋" href="../search.html" />
    <link rel="next" title="VDUSE - &#34;vDPA Device in Userspace&#34;" href="vduse.html" />
    <link rel="prev" title="12. ST VGXY61 camera sensor driver" href="media/drivers/vgxy61.html" />

   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

<script type="text/javascript" src="../ltd-provenance.js"></script>
<script type="text/javascript" src="../ltd-current.js"></script>
<script type="text/javascript" src="../../../ltd-config.js"></script>
<script type="text/javascript" src="../../../ltd-flyout.js"></script>

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo.svg" alt="Logo of The Linux Kernel"/>
            </a></p>
<h1 class="logo"><a href="../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.18.0-rc2</p>







<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">快速搜尋</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="前往" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>


<p>
<h3 class="kernel-toc-contents">Contents</h3>
<input type="checkbox" class="kernel-toc-toggle" id = "kernel-toc-toggle" checked>
<label class="kernel-toc-title" for="kernel-toc-toggle"></label>

<div class="kerneltoc" id="kerneltoc">
<ul>
<li class="toctree-l1"><a class="reference internal" href="../process/development-process.html">Development process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../process/submitting-patches.html">提交補釘</a></li>
<li class="toctree-l1"><a class="reference internal" href="../process/code-of-conduct.html">行為守則</a></li>
<li class="toctree-l1"><a class="reference internal" href="../maintainer/index.html">維護者手冊</a></li>
<li class="toctree-l1"><a class="reference internal" href="../process/index.html">All development-process docs</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../core-api/index.html">核心 API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../driver-api/index.html">Driver APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../subsystem-apis.html">子系統</a></li>
<li class="toctree-l1"><a class="reference internal" href="../locking/index.html">Locking</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../process/license-rules.html">Licensing rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc-guide/index.html">撰寫文件</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev-tools/index.html">開發工具</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev-tools/testing-overview.html">測試指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kernel-hacking/index.html">Hacking guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trace/index.html">Tracing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fault-injection/index.html">Fault injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../livepatch/index.html">Livepatching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rust/index.html">Rust</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/index.html">Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kbuild/index.html">建置系統</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/reporting-issues.html">回報議題</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">使用者空間工具</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">使用者空間 API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#system-calls">System calls</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#security-related-interfaces">Security-related interfaces</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#devices-and-i-o">Devices and I/O</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="accelerators/ocxl.html">OpenCAPI (Open Coherent Accelerator Processor Interface)</a></li>
<li class="toctree-l3"><a class="reference internal" href="dma-buf-heaps.html">Allocating dma-buf using heaps</a></li>
<li class="toctree-l3"><a class="reference internal" href="dma-buf-alloc-exchange.html">Exchanging pixel buffers</a></li>
<li class="toctree-l3"><a class="reference internal" href="fwctl/index.html">Firmware Control (FWCTL) Userspace API</a></li>
<li class="toctree-l3"><a class="reference internal" href="gpio/index.html">GPIO</a></li>
<li class="toctree-l3"><a class="reference internal" href="iommufd.html">IOMMUFD</a></li>
<li class="toctree-l3"><a class="reference internal" href="media/index.html">Linux Media Infrastructure userspace API</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Dell Systems Management Base Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="vduse.html">VDUSE - &quot;vDPA Device in Userspace&quot;</a></li>
<li class="toctree-l3"><a class="reference internal" href="isapnp.html">ISA Plug &amp; Play support</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#everything-else">Everything else</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../firmware-guide/index.html">韌體</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devicetree/index.html">韌體與裝置樹</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../arch/index.html">CPU 架構</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../staging/index.html">未排序的文件</a></li>
</ul>

</div>

<script type="text/javascript"> <!--
  var sbar = document.getElementsByClassName("sphinxsidebar")[0];
  let currents = document.getElementsByClassName("current")
  if (currents.length) {
    sbar.scrollTop = currents[currents.length - 1].offsetTop;
  }
  --> </script>
  <div role="note" aria-label="source link">
    <h3>本頁</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/userspace-api/dcdbas.rst.txt"
            rel="nofollow">顯示原始碼</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="dell-systems-management-base-driver">
<h1>Dell Systems Management Base Driver<a class="headerlink" href="#dell-systems-management-base-driver" title="連結到這個標頭">¶</a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="連結到這個標頭">¶</a></h2>
<p>The Dell Systems Management Base Driver provides a sysfs interface for
systems management software such as Dell OpenManage to perform system
management interrupts and host control actions (system power cycle or
power off after OS shutdown) on certain Dell systems.</p>
<p>Dell OpenManage requires this driver on the following Dell PowerEdge systems:
300, 1300, 1400, 400SC, 500SC, 1500SC, 1550, 600SC, 1600SC, 650, 1655MC,
700, and 750.  Other Dell software such as the open source libsmbios project
is expected to make use of this driver, and it may include the use of this
driver on other Dell systems.</p>
<p>The Dell libsmbios project aims towards providing access to as much BIOS
information as possible.  See <a class="reference external" href="http://linux.dell.com/libsmbios/main/">http://linux.dell.com/libsmbios/main/</a> for
more information about the libsmbios project.</p>
</section>
<section id="system-management-interrupt">
<h2>System Management Interrupt<a class="headerlink" href="#system-management-interrupt" title="連結到這個標頭">¶</a></h2>
<p>On some Dell systems, systems management software must access certain
management information via a system management interrupt (SMI).  The SMI data
buffer must reside in 32-bit address space, and the physical address of the
buffer is required for the SMI.  The driver maintains the memory required for
the SMI and provides a way for the application to generate the SMI.
The driver creates the following sysfs entries for systems management
software to perform these system management interrupts:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>/sys/devices/platform/dcdbas/smi_data
/sys/devices/platform/dcdbas/smi_data_buf_phys_addr
/sys/devices/platform/dcdbas/smi_data_buf_size
/sys/devices/platform/dcdbas/smi_request
</pre></div>
</div>
<p>Systems management software must perform the following steps to execute
a SMI using this driver:</p>
<ol class="arabic simple">
<li><p>Lock smi_data.</p></li>
<li><p>Write system management command to smi_data.</p></li>
<li><p>Write &quot;1&quot; to smi_request to generate a calling interface SMI or
&quot;2&quot; to generate a raw SMI.</p></li>
<li><p>Read system management command response from smi_data.</p></li>
<li><p>Unlock smi_data.</p></li>
</ol>
</section>
<section id="host-control-action">
<h2>Host Control Action<a class="headerlink" href="#host-control-action" title="連結到這個標頭">¶</a></h2>
<p>Dell OpenManage supports a host control feature that allows the administrator
to perform a power cycle or power off of the system after the OS has finished
shutting down.  On some Dell systems, this host control feature requires that
a driver perform a SMI after the OS has finished shutting down.</p>
<p>The driver creates the following sysfs entries for systems management software
to schedule the driver to perform a power cycle or power off host control
action after the system has finished shutting down:</p>
<p>/sys/devices/platform/dcdbas/host_control_action
/sys/devices/platform/dcdbas/host_control_smi_type
/sys/devices/platform/dcdbas/host_control_on_shutdown</p>
<p>Dell OpenManage performs the following steps to execute a power cycle or
power off host control action using this driver:</p>
<ol class="arabic simple">
<li><p>Write host control action to be performed to host_control_action.</p></li>
<li><p>Write type of SMI that driver needs to perform to host_control_smi_type.</p></li>
<li><p>Write &quot;1&quot; to host_control_on_shutdown to enable host control action.</p></li>
<li><p>Initiate OS shutdown.
(Driver will perform host control SMI when it is notified that the OS
has finished shutting down.)</p></li>
</ol>
</section>
<section id="host-control-smi-type">
<h2>Host Control SMI Type<a class="headerlink" href="#host-control-smi-type" title="連結到這個標頭">¶</a></h2>
<p>The following table shows the value to write to host_control_smi_type to
perform a power cycle or power off host control action:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>PowerEdge System</p></th>
<th class="head"><p>Host Control SMI Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>300</p></td>
<td><p>HC_SMITYPE_TYPE1</p></td>
</tr>
<tr class="row-odd"><td><p>1300</p></td>
<td><p>HC_SMITYPE_TYPE1</p></td>
</tr>
<tr class="row-even"><td><p>1400</p></td>
<td><p>HC_SMITYPE_TYPE2</p></td>
</tr>
<tr class="row-odd"><td><p>500SC</p></td>
<td><p>HC_SMITYPE_TYPE2</p></td>
</tr>
<tr class="row-even"><td><p>1500SC</p></td>
<td><p>HC_SMITYPE_TYPE2</p></td>
</tr>
<tr class="row-odd"><td><p>1550</p></td>
<td><p>HC_SMITYPE_TYPE2</p></td>
</tr>
<tr class="row-even"><td><p>600SC</p></td>
<td><p>HC_SMITYPE_TYPE2</p></td>
</tr>
<tr class="row-odd"><td><p>1600SC</p></td>
<td><p>HC_SMITYPE_TYPE2</p></td>
</tr>
<tr class="row-even"><td><p>650</p></td>
<td><p>HC_SMITYPE_TYPE2</p></td>
</tr>
<tr class="row-odd"><td><p>1655MC</p></td>
<td><p>HC_SMITYPE_TYPE2</p></td>
</tr>
<tr class="row-even"><td><p>700</p></td>
<td><p>HC_SMITYPE_TYPE3</p></td>
</tr>
<tr class="row-odd"><td><p>750</p></td>
<td><p>HC_SMITYPE_TYPE3</p></td>
</tr>
</tbody>
</table>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &#169;The kernel development community.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="../_sources/userspace-api/dcdbas.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>