<!DOCTYPE html>

<html lang="zh-TW" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>ADXL313 driver &#8212; The Linux Kernel  說明文件</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=adfc0c0d" />
    <script src="../_static/documentation_options.js?v=0d9984b1"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/translations.js?v=cbf116e0"></script>
    <link rel="canonical" href="https://projects.localizethedocs.org/linux-docs-l10n/iio/adxl313.html" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜尋" href="../search.html" />
    <link rel="next" title="ADXL380 driver" href="adxl380.html" />
    <link rel="prev" title="ADIS16550 driver" href="adis16550.html" />

   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

<script type="text/javascript" src="../ltd-provenance.js"></script>
<script type="text/javascript" src="../ltd-current.js"></script>
<script type="text/javascript" src="../../../ltd-config.js"></script>
<script type="text/javascript" src="../../../ltd-flyout.js"></script>

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo.svg" alt="Logo of The Linux Kernel"/>
            </a></p>
<h1 class="logo"><a href="../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.18.0-rc2</p>







<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">快速搜尋</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="前往" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>


<p>
<h3 class="kernel-toc-contents">Contents</h3>
<input type="checkbox" class="kernel-toc-toggle" id = "kernel-toc-toggle" checked>
<label class="kernel-toc-title" for="kernel-toc-toggle"></label>

<div class="kerneltoc" id="kerneltoc">
<ul>
<li class="toctree-l1"><a class="reference internal" href="../process/development-process.html">Development process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../process/submitting-patches.html">提交補釘</a></li>
<li class="toctree-l1"><a class="reference internal" href="../process/code-of-conduct.html">行為守則</a></li>
<li class="toctree-l1"><a class="reference internal" href="../maintainer/index.html">維護者手冊</a></li>
<li class="toctree-l1"><a class="reference internal" href="../process/index.html">All development-process docs</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../core-api/index.html">核心 API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../driver-api/index.html">Driver APIs</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../subsystem-apis.html">子系統</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../subsystem-apis.html#core-subsystems">Core subsystems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../subsystem-apis.html#human-interfaces">Human interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../subsystem-apis.html#networking-interfaces">Networking interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../subsystem-apis.html#storage-interfaces">Storage interfaces</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../subsystem-apis.html#other-subsystems">Other subsystems</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../accounting/index.html">Accounting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cpu-freq/index.html">CPUFreq - CPU frequency and voltage scaling code in the Linux(TM) kernel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../edac/index.html">EDAC 子系統</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fpga/index.html">FPGA</a></li>
<li class="toctree-l3"><a class="reference internal" href="../i2c/index.html">I2C/SMBus Subsystem</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Industrial I/O</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pcmcia/index.html">PCMCIA</a></li>
<li class="toctree-l3"><a class="reference internal" href="../spi/index.html">Serial Peripheral Interface (SPI)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../w1/index.html">1-Wire Subsystem</a></li>
<li class="toctree-l3"><a class="reference internal" href="../watchdog/index.html">Watchdog Support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../virt/index.html">Virtualization Support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../hwmon/index.html">Hardware Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../accel/index.html">Compute Accelerators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../security/index.html">Security Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../crypto/index.html">Crypto API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../bpf/index.html">BPF 文件</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usb/index.html">USB support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../PCI/index.html">PCI Bus Subsystem</a></li>
<li class="toctree-l3"><a class="reference internal" href="../misc-devices/index.html">Assorted Miscellaneous Devices Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../peci/index.html">PECI 子系統</a></li>
<li class="toctree-l3"><a class="reference internal" href="../wmi/index.html">WMI Subsystem</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tee/index.html">TEE Subsystem</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../locking/index.html">Locking</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../process/license-rules.html">Licensing rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc-guide/index.html">撰寫文件</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev-tools/index.html">開發工具</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev-tools/testing-overview.html">測試指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kernel-hacking/index.html">Hacking guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trace/index.html">Tracing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fault-injection/index.html">Fault injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../livepatch/index.html">Livepatching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rust/index.html">Rust</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/index.html">Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kbuild/index.html">建置系統</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/reporting-issues.html">回報議題</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">使用者空間工具</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userspace-api/index.html">使用者空間 API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../firmware-guide/index.html">韌體</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devicetree/index.html">韌體與裝置樹</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../arch/index.html">CPU 架構</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../staging/index.html">未排序的文件</a></li>
</ul>

</div>

<script type="text/javascript"> <!--
  var sbar = document.getElementsByClassName("sphinxsidebar")[0];
  let currents = document.getElementsByClassName("current")
  if (currents.length) {
    sbar.scrollTop = currents[currents.length - 1].offsetTop;
  }
  --> </script>
  <div role="note" aria-label="source link">
    <h3>本頁</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/iio/adxl313.rst.txt"
            rel="nofollow">顯示原始碼</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="adxl313-driver">
<h1>ADXL313 driver<a class="headerlink" href="#adxl313-driver" title="連結到這個標頭">¶</a></h1>
<p>This driver supports Analog Device's ADXL313 on SPI/I2C bus.</p>
<section id="supported-devices">
<h2>1. Supported devices<a class="headerlink" href="#supported-devices" title="連結到這個標頭">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://www.analog.com/ADXL313">ADXL313</a></p></li>
</ul>
<p>The ADXL313is a low noise density, low power, 3-axis accelerometer with
selectable measurement ranges. The ADXL313 supports the ±0.5 g, ±1 g, ±2 g and
±4 g ranges.</p>
</section>
<section id="device-attributes">
<h2>2. Device attributes<a class="headerlink" href="#device-attributes" title="連結到這個標頭">¶</a></h2>
<p>Accelerometer measurements are always provided.</p>
<p>Each IIO device, has a device folder under <code class="docutils literal notranslate"><span class="pre">/sys/bus/iio/devices/iio:deviceX</span></code>,
where X is the IIO index of the device. Under these folders reside a set of
device files, depending on the characteristics and features of the hardware
device in questions. These files are consistently generalized and documented in
the IIO ABI documentation.</p>
<p>The following tables show the adxl313 related device files, found in the
specific device folder path <code class="docutils literal notranslate"><span class="pre">/sys/bus/iio/devices/iio:deviceX</span></code>.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>3-Axis Accelerometer related device files</p></td>
<td><p>描述</p></td>
</tr>
<tr class="row-even"><td><p>in_accel_scale</p></td>
<td><p>Scale for the accelerometer channels.</p></td>
</tr>
<tr class="row-odd"><td><p>in_accel_x_calibbias</p></td>
<td><p>Calibration offset for the X-axis accelerometer channel.</p></td>
</tr>
<tr class="row-even"><td><p>in_accel_x_raw</p></td>
<td><p>Raw X-axis accelerometer channel value.</p></td>
</tr>
<tr class="row-odd"><td><p>in_accel_y_calibbias</p></td>
<td><p>y-axis acceleration offset correction</p></td>
</tr>
<tr class="row-even"><td><p>in_accel_y_raw</p></td>
<td><p>Raw Y-axis accelerometer channel value.</p></td>
</tr>
<tr class="row-odd"><td><p>in_accel_z_calibbias</p></td>
<td><p>Calibration offset for the Z-axis accelerometer channel.</p></td>
</tr>
<tr class="row-even"><td><p>in_accel_z_raw</p></td>
<td><p>Raw Z-axis accelerometer channel value.</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Miscellaneous device files</p></td>
<td><p>描述</p></td>
</tr>
<tr class="row-even"><td><p>name</p></td>
<td><p>Name of the IIO device.</p></td>
</tr>
<tr class="row-odd"><td><p>in_accel_sampling_frequency</p></td>
<td><p>Currently selected sample rate.</p></td>
</tr>
<tr class="row-even"><td><p>in_accel_sampling_frequency_available</p></td>
<td><p>Available sampling frequency configurations.</p></td>
</tr>
</tbody>
</table>
<p>The iio event related settings, found in <code class="docutils literal notranslate"><span class="pre">/sys/bus/iio/devices/iio:deviceX/events</span></code>.</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>in_accel_mag_adaptive_falling_period</p></td>
<td><p>AC coupled inactivity time.</p></td>
</tr>
<tr class="row-even"><td><p>in_accel_mag_adaptive_falling_value</p></td>
<td><p>AC coupled inactivity threshold.</p></td>
</tr>
<tr class="row-odd"><td><p>in_accel_mag_adaptive_rising_value</p></td>
<td><p>AC coupled activity threshold.</p></td>
</tr>
<tr class="row-even"><td><p>in_accel_mag_falling_period</p></td>
<td><p>Inactivity time.</p></td>
</tr>
<tr class="row-odd"><td><p>in_accel_mag_falling_value</p></td>
<td><p>Inactivity threshold.</p></td>
</tr>
<tr class="row-even"><td><p>in_accel_mag_rising_value</p></td>
<td><p>Activity threshold.</p></td>
</tr>
<tr class="row-odd"><td><p>in_accel_x&amp;y&amp;z_mag_adaptive_falling_en</p></td>
<td><p>Enable or disable AC coupled inactivity events.</p></td>
</tr>
<tr class="row-even"><td><p>in_accel_x|y|z_mag_adaptive_rising_en</p></td>
<td><p>Enable or disable AC coupled activity events.</p></td>
</tr>
<tr class="row-odd"><td><p>in_accel_x&amp;y&amp;z_mag_falling_en</p></td>
<td><p>Enable or disable inactivity events.</p></td>
</tr>
<tr class="row-even"><td><p>in_accel_x|y|z_mag_rising_en</p></td>
<td><p>Enable or disable activity events.</p></td>
</tr>
</tbody>
</table>
<p>The default coupling is DC coupled events. In this case the threshold will
be in place as such, where for the AC coupled case an adaptive threshold
(described in the datasheet) will be applied by the sensor. In general activity,
i.e. <code class="docutils literal notranslate"><span class="pre">ACTIVITY</span></code> or <code class="docutils literal notranslate"><span class="pre">ACTIVITY_AC</span></code> and inactivity i.e. <code class="docutils literal notranslate"><span class="pre">INACTIVITY</span></code> or
<code class="docutils literal notranslate"><span class="pre">INACTIVITY_AC</span></code>, will be linked with auto-sleep enabled when both are enabled.
This means in particular <code class="docutils literal notranslate"><span class="pre">ACTIVITY</span></code> can also be linked to <code class="docutils literal notranslate"><span class="pre">INACTIVITY_AC</span></code>
and vice versa, without problem.</p>
<p>Note here, that <code class="docutils literal notranslate"><span class="pre">ACTIVITY</span></code> and <code class="docutils literal notranslate"><span class="pre">ACTIVITY_AC</span></code> are mutually exclusive. This
means, that the most recent configuration will be set. For instance, if
<code class="docutils literal notranslate"><span class="pre">ACTIVITY</span></code> is enabled, and <code class="docutils literal notranslate"><span class="pre">ACTIVITY_AC</span></code> will be enabled, the sensor driver
will have <code class="docutils literal notranslate"><span class="pre">ACTIVITY</span></code> disabled, but <code class="docutils literal notranslate"><span class="pre">ACTIVITY_AC</span></code> enabled. The same is valid
for inactivity. In case of turning off an event, it has to match to what is
actually enabled, i.e. enabling <code class="docutils literal notranslate"><span class="pre">ACTIVITY_AC</span></code> and then disabling <code class="docutils literal notranslate"><span class="pre">ACTIVITY</span></code>
is simply ignored as it is already disabled. Or, as if it was any other not
enabled event, too.</p>
<section id="channels-processed-values">
<h3>Channels processed values<a class="headerlink" href="#channels-processed-values" title="連結到這個標頭">¶</a></h3>
<p>A channel value can be read from its _raw attribute. The value returned is the
raw value as reported by the devices. To get the processed value of the channel,
apply the following formula:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>processed value = (_raw + _offset) * _scale
</pre></div>
</div>
<p>Where _offset and _scale are device attributes. If no _offset attribute is
present, simply assume its value is 0.</p>
<p>The ADXL313 driver offers data for a single types of channels, the table below
shows the measurement units for the processed value, which are defined by the
IIO framework:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Channel type</p></td>
<td><p>Measurement unit</p></td>
</tr>
<tr class="row-even"><td><p>Acceleration on X, Y, and Z axis</p></td>
<td><p>Meters per Second squared</p></td>
</tr>
</tbody>
</table>
</section>
<section id="usage-examples">
<h3>Usage examples<a class="headerlink" href="#usage-examples" title="連結到這個標頭">¶</a></h3>
<p>Show device name:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span>cat<span class="w"> </span>name
adxl313
</pre></div>
</div>
<p>Show accelerometer channels value:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span>cat<span class="w"> </span>in_accel_x_raw
<span class="m">2</span>
root:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span>cat<span class="w"> </span>in_accel_y_raw
-57
root:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span>cat<span class="w"> </span>in_accel_z_raw
<span class="m">2</span>
root:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span>cat<span class="w"> </span>in_accel_scale
<span class="m">0</span>.009576806
</pre></div>
</div>
<p>The accelerometer values will be:</p>
<ul class="simple">
<li><p>X-axis acceleration = in_accel_x_raw * in_accel_scale = 0.0191536 m/s^2</p></li>
<li><p>Y-axis acceleration = in_accel_y_raw * in_accel_scale = -0.5458779 m/s^2</p></li>
<li><p>Z-axis acceleration = in_accel_z_raw * in_accel_scale = 0.0191536 m/s^2</p></li>
</ul>
<p>Set calibration offset for accelerometer channels. Note, that the calibration
will be rounded according to the graduation of LSB units:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span>cat<span class="w"> </span>in_accel_x_calibbias
<span class="m">0</span>

root:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">50</span><span class="w"> </span>&gt;<span class="w"> </span>in_accel_x_calibbias
root:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span>cat<span class="w"> </span>in_accel_x_calibbias
<span class="m">48</span>
</pre></div>
</div>
<p>Set sampling frequency:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span>cat<span class="w"> </span>in_accel_sampling_frequency
<span class="m">100</span>.000000
root:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span>cat<span class="w"> </span>in_accel_sampling_frequency_available
<span class="m">6</span>.250000<span class="w"> </span><span class="m">12</span>.500000<span class="w"> </span><span class="m">25</span>.000000<span class="w"> </span><span class="m">50</span>.000000<span class="w"> </span><span class="m">100</span>.000000<span class="w"> </span><span class="m">200</span>.000000<span class="w"> </span><span class="m">400</span>.000000<span class="w"> </span><span class="m">800</span>.000000<span class="w"> </span><span class="m">1600</span>.000000<span class="w"> </span><span class="m">3200</span>.000000

root:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">400</span><span class="w"> </span>&gt;<span class="w"> </span>in_accel_sampling_frequency
root:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span>cat<span class="w"> </span>in_accel_sampling_frequency
<span class="m">400</span>.000000
</pre></div>
</div>
</section>
</section>
<section id="device-buffers-and-triggers">
<h2>3. Device buffers and triggers<a class="headerlink" href="#device-buffers-and-triggers" title="連結到這個標頭">¶</a></h2>
<p>This driver supports IIO buffers.</p>
<p>All devices support retrieving the raw acceleration measurements using buffers.</p>
<section id="id1">
<h3>Usage examples<a class="headerlink" href="#id1" title="連結到這個標頭">¶</a></h3>
<p>Select channels for buffer read:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>&gt;<span class="w"> </span>scan_elements/in_accel_x_en
root:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>&gt;<span class="w"> </span>scan_elements/in_accel_y_en
root:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>&gt;<span class="w"> </span>scan_elements/in_accel_z_en
</pre></div>
</div>
<p>Set the number of samples to be stored in the buffer:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">10</span><span class="w"> </span>&gt;<span class="w"> </span>buffer/length
</pre></div>
</div>
<p>Enable buffer readings:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>&gt;<span class="w"> </span>buffer/enable
</pre></div>
</div>
<p>Obtain buffered data:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span>hexdump<span class="w"> </span>-C<span class="w"> </span>/dev/iio<span class="se">\:</span>device0
...
000000d0<span class="w">  </span><span class="m">01</span><span class="w"> </span><span class="nb">fc</span><span class="w"> </span><span class="m">31</span><span class="w"> </span><span class="m">00</span><span class="w"> </span>c7<span class="w"> </span>ff<span class="w"> </span><span class="m">03</span><span class="w"> </span><span class="nb">fc</span><span class="w">  </span><span class="m">31</span><span class="w"> </span><span class="m">00</span><span class="w"> </span>c7<span class="w"> </span>ff<span class="w"> </span><span class="m">04</span><span class="w"> </span><span class="nb">fc</span><span class="w"> </span><span class="m">33</span><span class="w"> </span><span class="m">00</span><span class="w">  </span><span class="p">|</span>..1.....1.....3.<span class="p">|</span>
000000e0<span class="w">  </span>c8<span class="w"> </span>ff<span class="w"> </span><span class="m">03</span><span class="w"> </span><span class="nb">fc</span><span class="w"> </span><span class="m">32</span><span class="w"> </span><span class="m">00</span><span class="w"> </span>c5<span class="w"> </span>ff<span class="w">  </span>ff<span class="w"> </span><span class="nb">fc</span><span class="w"> </span><span class="m">32</span><span class="w"> </span><span class="m">00</span><span class="w"> </span>c7<span class="w"> </span>ff<span class="w"> </span>0a<span class="w"> </span><span class="nb">fc</span><span class="w">  </span><span class="p">|</span>....2.....2.....<span class="p">|</span>
000000f0<span class="w">  </span><span class="m">30</span><span class="w"> </span><span class="m">00</span><span class="w"> </span>c8<span class="w"> </span>ff<span class="w"> </span><span class="m">06</span><span class="w"> </span><span class="nb">fc</span><span class="w"> </span><span class="m">33</span><span class="w"> </span><span class="m">00</span><span class="w">  </span>c7<span class="w"> </span>ff<span class="w"> </span><span class="m">01</span><span class="w"> </span><span class="nb">fc</span><span class="w"> </span>2f<span class="w"> </span><span class="m">00</span><span class="w"> </span>c8<span class="w"> </span>ff<span class="w">  </span><span class="p">|</span><span class="m">0</span>.....3...../...<span class="p">|</span>
<span class="m">00000100</span><span class="w">  </span><span class="m">02</span><span class="w"> </span><span class="nb">fc</span><span class="w"> </span><span class="m">32</span><span class="w"> </span><span class="m">00</span><span class="w"> </span>c6<span class="w"> </span>ff<span class="w"> </span><span class="m">04</span><span class="w"> </span><span class="nb">fc</span><span class="w">  </span><span class="m">33</span><span class="w"> </span><span class="m">00</span><span class="w"> </span>c8<span class="w"> </span>ff<span class="w"> </span><span class="m">05</span><span class="w"> </span><span class="nb">fc</span><span class="w"> </span><span class="m">33</span><span class="w"> </span><span class="m">00</span><span class="w">  </span><span class="p">|</span>..2.....3.....3.<span class="p">|</span>
<span class="m">00000110</span><span class="w">  </span>ca<span class="w"> </span>ff<span class="w"> </span><span class="m">02</span><span class="w"> </span><span class="nb">fc</span><span class="w"> </span><span class="m">31</span><span class="w"> </span><span class="m">00</span><span class="w"> </span>c7<span class="w"> </span>ff<span class="w">  </span><span class="m">02</span><span class="w"> </span><span class="nb">fc</span><span class="w"> </span><span class="m">30</span><span class="w"> </span><span class="m">00</span><span class="w"> </span>c9<span class="w"> </span>ff<span class="w"> </span><span class="m">09</span><span class="w"> </span><span class="nb">fc</span><span class="w">  </span><span class="p">|</span>....1.....0.....<span class="p">|</span>
<span class="m">00000120</span><span class="w">  </span><span class="m">35</span><span class="w"> </span><span class="m">00</span><span class="w"> </span>c9<span class="w"> </span>ff<span class="w"> </span><span class="m">08</span><span class="w"> </span><span class="nb">fc</span><span class="w"> </span><span class="m">35</span><span class="w"> </span><span class="m">00</span><span class="w">  </span>c8<span class="w"> </span>ff<span class="w"> </span><span class="m">02</span><span class="w"> </span><span class="nb">fc</span><span class="w"> </span><span class="m">31</span><span class="w"> </span><span class="m">00</span><span class="w"> </span>c5<span class="w"> </span>ff<span class="w">  </span><span class="p">|</span><span class="m">5</span>.....5.....1...<span class="p">|</span>
<span class="m">00000130</span><span class="w">  </span><span class="m">03</span><span class="w"> </span><span class="nb">fc</span><span class="w"> </span><span class="m">32</span><span class="w"> </span><span class="m">00</span><span class="w"> </span>c7<span class="w"> </span>ff<span class="w"> </span><span class="m">04</span><span class="w"> </span><span class="nb">fc</span><span class="w">  </span><span class="m">32</span><span class="w"> </span><span class="m">00</span><span class="w"> </span>c7<span class="w"> </span>ff<span class="w"> </span><span class="m">02</span><span class="w"> </span><span class="nb">fc</span><span class="w"> </span><span class="m">31</span><span class="w"> </span><span class="m">00</span><span class="w">  </span><span class="p">|</span>..2.....2.....1.<span class="p">|</span>
<span class="m">00000140</span><span class="w">  </span>c7<span class="w"> </span>ff<span class="w"> </span><span class="m">08</span><span class="w"> </span><span class="nb">fc</span><span class="w"> </span><span class="m">30</span><span class="w"> </span><span class="m">00</span><span class="w"> </span>c7<span class="w"> </span>ff<span class="w">  </span><span class="m">02</span><span class="w"> </span><span class="nb">fc</span><span class="w"> </span><span class="m">32</span><span class="w"> </span><span class="m">00</span><span class="w"> </span>c5<span class="w"> </span>ff<span class="w"> </span>ff<span class="w"> </span><span class="nb">fc</span><span class="w">  </span><span class="p">|</span>....0.....2.....<span class="p">|</span>
<span class="m">00000150</span><span class="w">  </span><span class="m">31</span><span class="w"> </span><span class="m">00</span><span class="w"> </span>c5<span class="w"> </span>ff<span class="w"> </span><span class="m">04</span><span class="w"> </span><span class="nb">fc</span><span class="w"> </span><span class="m">31</span><span class="w"> </span><span class="m">00</span><span class="w">  </span>c8<span class="w"> </span>ff<span class="w"> </span><span class="m">03</span><span class="w"> </span><span class="nb">fc</span><span class="w"> </span><span class="m">32</span><span class="w"> </span><span class="m">00</span><span class="w"> </span>c8<span class="w"> </span>ff<span class="w">  </span><span class="p">|</span><span class="m">1</span>.....1.....2...<span class="p">|</span>
<span class="m">00000160</span><span class="w">  </span><span class="m">01</span><span class="w"> </span><span class="nb">fc</span><span class="w"> </span><span class="m">31</span><span class="w"> </span><span class="m">00</span><span class="w"> </span>c7<span class="w"> </span>ff<span class="w"> </span><span class="m">05</span><span class="w"> </span><span class="nb">fc</span><span class="w">  </span><span class="m">31</span><span class="w"> </span><span class="m">00</span><span class="w"> </span>c3<span class="w"> </span>ff<span class="w"> </span><span class="m">04</span><span class="w"> </span><span class="nb">fc</span><span class="w"> </span><span class="m">31</span><span class="w"> </span><span class="m">00</span><span class="w">  </span><span class="p">|</span>..1.....1.....1.<span class="p">|</span>
<span class="m">00000170</span><span class="w">  </span>c5<span class="w"> </span>ff<span class="w"> </span><span class="m">04</span><span class="w"> </span><span class="nb">fc</span><span class="w"> </span><span class="m">30</span><span class="w"> </span><span class="m">00</span><span class="w"> </span>c7<span class="w"> </span>ff<span class="w">  </span><span class="m">03</span><span class="w"> </span><span class="nb">fc</span><span class="w"> </span><span class="m">31</span><span class="w"> </span><span class="m">00</span><span class="w"> </span>c9<span class="w"> </span>ff<span class="w"> </span><span class="m">03</span><span class="w"> </span><span class="nb">fc</span><span class="w">  </span><span class="p">|</span>....0.....1.....<span class="p">|</span>
...
</pre></div>
</div>
<p>Enabling activity detection:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">1</span>.28125<span class="w"> </span>&gt;<span class="w"> </span>./events/in_accel_mag_rising_value
root:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>&gt;<span class="w"> </span>./events/in_accel_x<span class="se">\|</span>y<span class="se">\|</span>z_mag_rising_en

root:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span>iio_event_monitor<span class="w"> </span>adxl313
Found<span class="w"> </span>IIO<span class="w"> </span>device<span class="w"> </span>with<span class="w"> </span>name<span class="w"> </span>adxl313<span class="w"> </span>with<span class="w"> </span>device<span class="w"> </span>number<span class="w"> </span><span class="m">0</span>
&lt;only<span class="w"> </span><span class="k">while</span><span class="w"> </span>moving<span class="w"> </span>the<span class="w"> </span>sensor&gt;
Event:<span class="w"> </span>time:<span class="w"> </span><span class="m">1748795762298351281</span>,<span class="w"> </span>type:<span class="w"> </span>accel<span class="o">(</span>x<span class="p">|</span>y<span class="p">|</span>z<span class="o">)</span>,<span class="w"> </span>channel:<span class="w"> </span><span class="m">0</span>,<span class="w"> </span>evtype:<span class="w"> </span>mag,<span class="w"> </span>direction:<span class="w"> </span>rising
Event:<span class="w"> </span>time:<span class="w"> </span><span class="m">1748795762302653704</span>,<span class="w"> </span>type:<span class="w"> </span>accel<span class="o">(</span>x<span class="p">|</span>y<span class="p">|</span>z<span class="o">)</span>,<span class="w"> </span>channel:<span class="w"> </span><span class="m">0</span>,<span class="w"> </span>evtype:<span class="w"> </span>mag,<span class="w"> </span>direction:<span class="w"> </span>rising
Event:<span class="w"> </span>time:<span class="w"> </span><span class="m">1748795762304340726</span>,<span class="w"> </span>type:<span class="w"> </span>accel<span class="o">(</span>x<span class="p">|</span>y<span class="p">|</span>z<span class="o">)</span>,<span class="w"> </span>channel:<span class="w"> </span><span class="m">0</span>,<span class="w"> </span>evtype:<span class="w"> </span>mag,<span class="w"> </span>direction:<span class="w"> </span>rising
...
</pre></div>
</div>
<p>Disabling activity detection:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">0</span><span class="w"> </span>&gt;<span class="w"> </span>./events/in_accel_x<span class="se">\|</span>y<span class="se">\|</span>z_mag_rising_en
root:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span>iio_event_monitor<span class="w"> </span>adxl313
&lt;nothing&gt;
</pre></div>
</div>
<p>Enabling inactivity detection:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">1</span>.234375<span class="w"> </span>&gt;<span class="w"> </span>./events/in_accel_mag_falling_value
root:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">5</span><span class="w"> </span>&gt;<span class="w"> </span>./events/in_accel_mag_falling_period
root:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>&gt;<span class="w"> </span>./events/in_accel_x<span class="se">\&amp;</span>y<span class="se">\&amp;</span>z_mag_falling_en

root:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span>iio_event_monitor<span class="w"> </span>adxl313
Found<span class="w"> </span>IIO<span class="w"> </span>device<span class="w"> </span>with<span class="w"> </span>name<span class="w"> </span>adxl313<span class="w"> </span>with<span class="w"> </span>device<span class="w"> </span>number<span class="w"> </span><span class="m">0</span>
Event:<span class="w"> </span>time:<span class="w"> </span><span class="m">1748796324115962975</span>,<span class="w"> </span>type:<span class="w"> </span>accel<span class="o">(</span>x<span class="p">&amp;</span>y<span class="p">&amp;</span>z<span class="o">)</span>,<span class="w"> </span>channel:<span class="w"> </span><span class="m">0</span>,<span class="w"> </span>evtype:<span class="w"> </span>mag,<span class="w"> </span>direction:<span class="w"> </span>falling
Event:<span class="w"> </span>time:<span class="w"> </span><span class="m">1748796329329981772</span>,<span class="w"> </span>type:<span class="w"> </span>accel<span class="o">(</span>x<span class="p">&amp;</span>y<span class="p">&amp;</span>z<span class="o">)</span>,<span class="w"> </span>channel:<span class="w"> </span><span class="m">0</span>,<span class="w"> </span>evtype:<span class="w"> </span>mag,<span class="w"> </span>direction:<span class="w"> </span>falling
Event:<span class="w"> </span>time:<span class="w"> </span><span class="m">1748796334543399706</span>,<span class="w"> </span>type:<span class="w"> </span>accel<span class="o">(</span>x<span class="p">&amp;</span>y<span class="p">&amp;</span>z<span class="o">)</span>,<span class="w"> </span>channel:<span class="w"> </span><span class="m">0</span>,<span class="w"> </span>evtype:<span class="w"> </span>mag,<span class="w"> </span>direction:<span class="w"> </span>falling
...
&lt;every<span class="w"> </span>5s<span class="w"> </span>now<span class="w"> </span>indicates<span class="w"> </span>inactivity&gt;
</pre></div>
</div>
<p>Now, enabling activity, e.g. the AC coupled counter-part <code class="docutils literal notranslate"><span class="pre">ACTIVITY_AC</span></code></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">1</span>.28125<span class="w"> </span>&gt;<span class="w"> </span>./events/in_accel_mag_rising_value
root:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>&gt;<span class="w"> </span>./events/in_accel_x<span class="se">\|</span>y<span class="se">\|</span>z_mag_rising_en

root:/sys/bus/iio/devices/iio:device0&gt;<span class="w"> </span>iio_event_monitor<span class="w"> </span>adxl313
Found<span class="w"> </span>IIO<span class="w"> </span>device<span class="w"> </span>with<span class="w"> </span>name<span class="w"> </span>adxl313<span class="w"> </span>with<span class="w"> </span>device<span class="w"> </span>number<span class="w"> </span><span class="m">0</span>
&lt;some<span class="w"> </span>activity<span class="w"> </span>with<span class="w"> </span>the<span class="w"> </span>sensor&gt;
Event:<span class="w"> </span>time:<span class="w"> </span><span class="m">1748796880354686777</span>,<span class="w"> </span>type:<span class="w"> </span>accel<span class="o">(</span>x<span class="p">|</span>y<span class="p">|</span>z<span class="o">)</span>,<span class="w"> </span>channel:<span class="w"> </span><span class="m">0</span>,<span class="w"> </span>evtype:<span class="w"> </span>mag_adaptive,<span class="w"> </span>direction:<span class="w"> </span>rising
&lt;5s<span class="w"> </span>of<span class="w"> </span>inactivity,<span class="w"> </span><span class="k">then</span>&gt;
Event:<span class="w"> </span>time:<span class="w"> </span><span class="m">1748796885543252017</span>,<span class="w"> </span>type:<span class="w"> </span>accel<span class="o">(</span>x<span class="p">&amp;</span>y<span class="p">&amp;</span>z<span class="o">)</span>,<span class="w"> </span>channel:<span class="w"> </span><span class="m">0</span>,<span class="w"> </span>evtype:<span class="w"> </span>mag,<span class="w"> </span>direction:<span class="w"> </span>falling
&lt;some<span class="w"> </span>other<span class="w"> </span>activity<span class="w"> </span>detected<span class="w"> </span>by<span class="w"> </span>accelerating<span class="w"> </span>the<span class="w"> </span>sensor&gt;
Event:<span class="w"> </span>time:<span class="w"> </span><span class="m">1748796887756634678</span>,<span class="w"> </span>type:<span class="w"> </span>accel<span class="o">(</span>x<span class="p">|</span>y<span class="p">|</span>z<span class="o">)</span>,<span class="w"> </span>channel:<span class="w"> </span><span class="m">0</span>,<span class="w"> </span>evtype:<span class="w"> </span>mag_adaptive,<span class="w"> </span>direction:<span class="w"> </span>rising
&lt;again,<span class="w"> </span>5s<span class="w"> </span>of<span class="w"> </span>inactivity&gt;
Event:<span class="w"> </span>time:<span class="w"> </span><span class="m">1748796892964368352</span>,<span class="w"> </span>type:<span class="w"> </span>accel<span class="o">(</span>x<span class="p">&amp;</span>y<span class="p">&amp;</span>z<span class="o">)</span>,<span class="w"> </span>channel:<span class="w"> </span><span class="m">0</span>,<span class="w"> </span>evtype:<span class="w"> </span>mag,<span class="w"> </span>direction:<span class="w"> </span>falling
&lt;stays<span class="w"> </span>like<span class="w"> </span>this<span class="w"> </span><span class="k">until</span><span class="w"> </span>next<span class="w"> </span>activity<span class="w"> </span><span class="k">in</span><span class="w"> </span>auto-sleep&gt;
</pre></div>
</div>
<p>Note, when AC coupling is in place, the event type will be of <code class="docutils literal notranslate"><span class="pre">mag_adaptive</span></code>.
AC- or DC-coupled (the default) events are used similarly.</p>
</section>
</section>
<section id="iio-interfacing-tools">
<h2>4. IIO Interfacing Tools<a class="headerlink" href="#iio-interfacing-tools" title="連結到這個標頭">¶</a></h2>
<p>See <a class="reference internal" href="iio_tools.html"><span class="doc">IIO Interfacing Tools</span></a> for the description of the available IIO
interfacing tools.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &#169;The kernel development community.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="../_sources/iio/adxl313.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>