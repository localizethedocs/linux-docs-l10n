<!DOCTYPE html>

<html lang="zh-TW" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Asymmetric Cipher &#8212; The Linux Kernel  說明文件</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=adfc0c0d" />
    <script src="../_static/documentation_options.js?v=0d9984b1"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/translations.js?v=cbf116e0"></script>
    <link rel="canonical" href="https://projects.localizethedocs.org/linux-docs-l10n/crypto/api-akcipher.html" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜尋" href="../search.html" />
    <link rel="next" title="Asymmetric Signature" href="api-sig.html" />
    <link rel="prev" title="Random Number Generator (RNG)" href="api-rng.html" />

   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

<script type="text/javascript" src="../ltd-provenance.js"></script>
<script type="text/javascript" src="../ltd-current.js"></script>
<script type="text/javascript" src="../../../ltd-config.js"></script>
<script type="text/javascript" src="../../../ltd-flyout.js"></script>

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo.svg" alt="Logo of The Linux Kernel"/>
            </a></p>
<h1 class="logo"><a href="../index.html">The Linux Kernel</a></h1>



<p class="blurb">6.18.0-rc2</p>







<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">快速搜尋</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="前往" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>


<p>
<h3 class="kernel-toc-contents">Contents</h3>
<input type="checkbox" class="kernel-toc-toggle" id = "kernel-toc-toggle" checked>
<label class="kernel-toc-title" for="kernel-toc-toggle"></label>

<div class="kerneltoc" id="kerneltoc">
<ul>
<li class="toctree-l1"><a class="reference internal" href="../process/development-process.html">Development process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../process/submitting-patches.html">提交補釘</a></li>
<li class="toctree-l1"><a class="reference internal" href="../process/code-of-conduct.html">行為守則</a></li>
<li class="toctree-l1"><a class="reference internal" href="../maintainer/index.html">維護者手冊</a></li>
<li class="toctree-l1"><a class="reference internal" href="../process/index.html">All development-process docs</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../core-api/index.html">核心 API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../driver-api/index.html">Driver APIs</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../subsystem-apis.html">子系統</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../subsystem-apis.html#core-subsystems">Core subsystems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../subsystem-apis.html#human-interfaces">Human interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../subsystem-apis.html#networking-interfaces">Networking interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../subsystem-apis.html#storage-interfaces">Storage interfaces</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../subsystem-apis.html#other-subsystems">Other subsystems</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../accounting/index.html">Accounting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cpu-freq/index.html">CPUFreq - CPU frequency and voltage scaling code in the Linux(TM) kernel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../edac/index.html">EDAC 子系統</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fpga/index.html">FPGA</a></li>
<li class="toctree-l3"><a class="reference internal" href="../i2c/index.html">I2C/SMBus Subsystem</a></li>
<li class="toctree-l3"><a class="reference internal" href="../iio/index.html">Industrial I/O</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pcmcia/index.html">PCMCIA</a></li>
<li class="toctree-l3"><a class="reference internal" href="../spi/index.html">Serial Peripheral Interface (SPI)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../w1/index.html">1-Wire Subsystem</a></li>
<li class="toctree-l3"><a class="reference internal" href="../watchdog/index.html">Watchdog Support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../virt/index.html">Virtualization Support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../hwmon/index.html">Hardware Monitoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="../accel/index.html">Compute Accelerators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../security/index.html">Security Documentation</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Crypto API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../bpf/index.html">BPF 文件</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usb/index.html">USB support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../PCI/index.html">PCI Bus Subsystem</a></li>
<li class="toctree-l3"><a class="reference internal" href="../misc-devices/index.html">Assorted Miscellaneous Devices Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../peci/index.html">PECI 子系統</a></li>
<li class="toctree-l3"><a class="reference internal" href="../wmi/index.html">WMI Subsystem</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tee/index.html">TEE Subsystem</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../locking/index.html">Locking</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../process/license-rules.html">Licensing rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc-guide/index.html">撰寫文件</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev-tools/index.html">開發工具</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev-tools/testing-overview.html">測試指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kernel-hacking/index.html">Hacking guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trace/index.html">Tracing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fault-injection/index.html">Fault injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../livepatch/index.html">Livepatching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rust/index.html">Rust</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/index.html">Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kbuild/index.html">建置系統</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/reporting-issues.html">回報議題</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tools/index.html">使用者空間工具</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userspace-api/index.html">使用者空間 API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../firmware-guide/index.html">韌體</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devicetree/index.html">韌體與裝置樹</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../arch/index.html">CPU 架構</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../staging/index.html">未排序的文件</a></li>
</ul>

</div>

<script type="text/javascript"> <!--
  var sbar = document.getElementsByClassName("sphinxsidebar")[0];
  let currents = document.getElementsByClassName("current")
  if (currents.length) {
    sbar.scrollTop = currents[currents.length - 1].offsetTop;
  }
  --> </script>
  <div role="note" aria-label="source link">
    <h3>本頁</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/crypto/api-akcipher.rst.txt"
            rel="nofollow">顯示原始碼</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="asymmetric-cipher">
<h1>Asymmetric Cipher<a class="headerlink" href="#asymmetric-cipher" title="連結到這個標頭">¶</a></h1>
<section id="asymmetric-cipher-algorithm-definitions">
<h2>Asymmetric Cipher Algorithm Definitions<a class="headerlink" href="#asymmetric-cipher-algorithm-definitions" title="連結到這個標頭">¶</a></h2>
<dl class="c struct">
<dt class="sig sig-object c" id="c.akcipher_request">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">akcipher_request</span></span></span><a class="headerlink" href="#c.akcipher_request" title="連結到這個定義">¶</a><br /></dt>
<dd><p>public key cipher request</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct akcipher_request {
    struct crypto_async_request base;
    struct scatterlist *src;
    struct scatterlist *dst;
    unsigned int src_len;
    unsigned int dst_len;
    void *__ctx[] ;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">base</span></code></dt><dd><p>Common attributes for async crypto requests</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">src</span></code></dt><dd><p>Source data</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">dst</span></code></dt><dd><p>Destination data</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">src_len</span></code></dt><dd><p>Size of the input buffer</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">dst_len</span></code></dt><dd><p>Size of <strong>dst</strong> buffer
It needs to be at least as big as the expected result
depending on the operation.
After operation it will be updated with the actual size of the
result.
In case of error where the dst sgl size was insufficient,
it will be updated to the size required for the operation.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">__ctx</span></code></dt><dd><p>Start of private context data</p>
</dd>
</dl>
</div>
<dl class="c struct">
<dt class="sig sig-object c" id="c.akcipher_alg">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">akcipher_alg</span></span></span><a class="headerlink" href="#c.akcipher_alg" title="連結到這個定義">¶</a><br /></dt>
<dd><p>generic public key cipher algorithm</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Definition</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>struct akcipher_alg {
    int (*encrypt)(struct akcipher_request *req);
    int (*decrypt)(struct akcipher_request *req);
    int (*set_pub_key)(struct crypto_akcipher *tfm, const void *key, unsigned int keylen);
    int (*set_priv_key)(struct crypto_akcipher *tfm, const void *key, unsigned int keylen);
    unsigned int (*max_size)(struct crypto_akcipher *tfm);
    int (*init)(struct crypto_akcipher *tfm);
    void (*exit)(struct crypto_akcipher *tfm);
    struct crypto_alg base;
};
</pre></div>
</div>
<p><strong>Members</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">encrypt</span></code></dt><dd><p>Function performs an encrypt operation as defined by public key
algorithm. In case of error, where the dst_len was insufficient,
the req-&gt;dst_len will be updated to the size required for the
operation</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">decrypt</span></code></dt><dd><p>Function performs a decrypt operation as defined by public key
algorithm. In case of error, where the dst_len was insufficient,
the req-&gt;dst_len will be updated to the size required for the
operation</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">set_pub_key</span></code></dt><dd><p>Function invokes the algorithm specific set public key
function, which knows how to decode and interpret
the BER encoded public key and parameters</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">set_priv_key</span></code></dt><dd><p>Function invokes the algorithm specific set private key
function, which knows how to decode and interpret
the BER encoded private key and parameters</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">max_size</span></code></dt><dd><p>Function returns dest buffer size required for a given key.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">init</span></code></dt><dd><p>Initialize the cryptographic transformation object.
This function is used to initialize the cryptographic
transformation object. This function is called only once at
the instantiation time, right after the transformation context
was allocated. In case the cryptographic hardware has some
special requirements which need to be handled by software, this
function shall check for the precise requirement of the
transformation and put any software fallbacks in place.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">exit</span></code></dt><dd><p>Deinitialize the cryptographic transformation object. This is a
counterpart to <strong>init</strong>, used to remove various changes set in
<strong>init</strong>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">base</span></code></dt><dd><p>Common crypto API algorithm data structure</p>
</dd>
</dl>
</div>
</section>
<section id="asymmetric-cipher-api">
<h2>Asymmetric Cipher API<a class="headerlink" href="#asymmetric-cipher-api" title="連結到這個標頭">¶</a></h2>
<p>The Public Key Cipher API is used with the algorithms of type
CRYPTO_ALG_TYPE_AKCIPHER (listed as type &quot;akcipher&quot; in /proc/crypto)</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.crypto_alloc_akcipher">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">crypto_akcipher</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">crypto_alloc_akcipher</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">alg_name</span></span>, <span class="n"><span class="pre">u32</span></span><span class="w"> </span><span class="n"><span class="pre">type</span></span>, <span class="n"><span class="pre">u32</span></span><span class="w"> </span><span class="n"><span class="pre">mask</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_alloc_akcipher" title="連結到這個定義">¶</a><br /></dt>
<dd><p>allocate AKCIPHER tfm handle</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">char</span> <span class="pre">*alg_name</span></code></dt><dd><p>is the cra_name / name or cra_driver_name / driver name of the
public key algorithm e.g. &quot;rsa&quot;</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">u32</span> <span class="pre">type</span></code></dt><dd><p>specifies the type of the algorithm</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">u32</span> <span class="pre">mask</span></code></dt><dd><p>specifies the mask for the algorithm</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>Allocate a handle for public key algorithm. The returned <code class="xref c c-struct broken_xref docutils literal notranslate"><span class="pre">struct</span>
<span class="pre">crypto_akcipher</span></code> is the handle that is required for any subsequent
API invocation for the public key operations.</p>
<p><strong>Return</strong></p>
<p>allocated handle in case of success; <a class="reference internal" href="../core-api/kernel-api.html#c.IS_ERR" title="IS_ERR"><code class="xref c c-func docutils literal notranslate"><span class="pre">IS_ERR()</span></code></a> is true in case
of an error, <a class="reference internal" href="../core-api/kernel-api.html#c.PTR_ERR" title="PTR_ERR"><code class="xref c c-func docutils literal notranslate"><span class="pre">PTR_ERR()</span></code></a> returns the error code.</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.crypto_free_akcipher">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">crypto_free_akcipher</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">crypto_akcipher</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">tfm</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_free_akcipher" title="連結到這個定義">¶</a><br /></dt>
<dd><p>free AKCIPHER tfm handle</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">crypto_akcipher</span> <span class="pre">*tfm</span></code></dt><dd><p>AKCIPHER tfm handle allocated with <a class="reference internal" href="#c.crypto_alloc_akcipher" title="crypto_alloc_akcipher"><code class="xref c c-func docutils literal notranslate"><span class="pre">crypto_alloc_akcipher()</span></code></a></p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>If <strong>tfm</strong> is a NULL or error pointer, this function does nothing.</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.crypto_akcipher_maxsize">
<span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">crypto_akcipher_maxsize</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">crypto_akcipher</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">tfm</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_akcipher_maxsize" title="連結到這個定義">¶</a><br /></dt>
<dd><p>Get len for output buffer</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">crypto_akcipher</span> <span class="pre">*tfm</span></code></dt><dd><p>AKCIPHER tfm handle allocated with <a class="reference internal" href="#c.crypto_alloc_akcipher" title="crypto_alloc_akcipher"><code class="xref c c-func docutils literal notranslate"><span class="pre">crypto_alloc_akcipher()</span></code></a></p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>Function returns the dest buffer size required for a given key.
Function assumes that the key is already set in the transformation. If this
function is called without a setkey or with a failed setkey, you will end up
in a NULL dereference.</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.crypto_akcipher_encrypt">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">crypto_akcipher_encrypt</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.akcipher_request" title="akcipher_request"><span class="n"><span class="pre">akcipher_request</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">req</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_akcipher_encrypt" title="連結到這個定義">¶</a><br /></dt>
<dd><p>Invoke public key encrypt operation</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">akcipher_request</span> <span class="pre">*req</span></code></dt><dd><p>asymmetric key request</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>Function invokes the specific public key encrypt operation for a given
public key algorithm</p>
<p><strong>Return</strong></p>
<p>zero on success; error code in case of error</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.crypto_akcipher_decrypt">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">crypto_akcipher_decrypt</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.akcipher_request" title="akcipher_request"><span class="n"><span class="pre">akcipher_request</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">req</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_akcipher_decrypt" title="連結到這個定義">¶</a><br /></dt>
<dd><p>Invoke public key decrypt operation</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">akcipher_request</span> <span class="pre">*req</span></code></dt><dd><p>asymmetric key request</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>Function invokes the specific public key decrypt operation for a given
public key algorithm</p>
<p><strong>Return</strong></p>
<p>zero on success; error code in case of error</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.crypto_akcipher_set_pub_key">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">crypto_akcipher_set_pub_key</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">crypto_akcipher</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">tfm</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">key</span></span>, <span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">keylen</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_akcipher_set_pub_key" title="連結到這個定義">¶</a><br /></dt>
<dd><p>Invoke set public key operation</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">crypto_akcipher</span> <span class="pre">*tfm</span></code></dt><dd><p>tfm handle</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">void</span> <span class="pre">*key</span></code></dt><dd><p>BER encoded public key, algo OID, paramlen, BER encoded
parameters</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">int</span> <span class="pre">keylen</span></code></dt><dd><p>length of the key (not including other data)</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>Function invokes the algorithm specific set key function, which knows
how to decode and interpret the encoded key and parameters</p>
<p><strong>Return</strong></p>
<p>zero on success; error code in case of error</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.crypto_akcipher_set_priv_key">
<span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">crypto_akcipher_set_priv_key</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">crypto_akcipher</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">tfm</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">key</span></span>, <span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">keylen</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.crypto_akcipher_set_priv_key" title="連結到這個定義">¶</a><br /></dt>
<dd><p>Invoke set private key operation</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">crypto_akcipher</span> <span class="pre">*tfm</span></code></dt><dd><p>tfm handle</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">const</span> <span class="pre">void</span> <span class="pre">*key</span></code></dt><dd><p>BER encoded private key, algo OID, paramlen, BER encoded
parameters</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">int</span> <span class="pre">keylen</span></code></dt><dd><p>length of the key (not including other data)</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>Function invokes the algorithm specific set key function, which knows
how to decode and interpret the encoded key and parameters</p>
<p><strong>Return</strong></p>
<p>zero on success; error code in case of error</p>
</div>
</section>
<section id="asymmetric-cipher-request-handle">
<h2>Asymmetric Cipher Request Handle<a class="headerlink" href="#asymmetric-cipher-request-handle" title="連結到這個標頭">¶</a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.akcipher_request_alloc">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.akcipher_request" title="akcipher_request"><span class="n"><span class="pre">akcipher_request</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">akcipher_request_alloc</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">crypto_akcipher</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">tfm</span></span>, <span class="n"><span class="pre">gfp_t</span></span><span class="w"> </span><span class="n"><span class="pre">gfp</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.akcipher_request_alloc" title="連結到這個定義">¶</a><br /></dt>
<dd><p>allocates public key request</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">crypto_akcipher</span> <span class="pre">*tfm</span></code></dt><dd><p>AKCIPHER tfm handle allocated with <a class="reference internal" href="#c.crypto_alloc_akcipher" title="crypto_alloc_akcipher"><code class="xref c c-func docutils literal notranslate"><span class="pre">crypto_alloc_akcipher()</span></code></a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">gfp_t</span> <span class="pre">gfp</span></code></dt><dd><p>allocation flags</p>
</dd>
</dl>
<p><strong>Return</strong></p>
<p>allocated handle in case of success or NULL in case of an error.</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.akcipher_request_free">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">akcipher_request_free</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.akcipher_request" title="akcipher_request"><span class="n"><span class="pre">akcipher_request</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">req</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.akcipher_request_free" title="連結到這個定義">¶</a><br /></dt>
<dd><p>zeroize and free public key request</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">akcipher_request</span> <span class="pre">*req</span></code></dt><dd><p>request to free</p>
</dd>
</dl>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.akcipher_request_set_callback">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">akcipher_request_set_callback</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.akcipher_request" title="akcipher_request"><span class="n"><span class="pre">akcipher_request</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">req</span></span>, <span class="n"><span class="pre">u32</span></span><span class="w"> </span><span class="n"><span class="pre">flgs</span></span>, <span class="n"><span class="pre">crypto_completion_t</span></span><span class="w"> </span><span class="n"><span class="pre">cmpl</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">data</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.akcipher_request_set_callback" title="連結到這個定義">¶</a><br /></dt>
<dd><p>Sets an asynchronous callback.</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">akcipher_request</span> <span class="pre">*req</span></code></dt><dd><p>request that the callback will be set for</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">u32</span> <span class="pre">flgs</span></code></dt><dd><p>specify for instance if the operation may backlog</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">crypto_completion_t</span> <span class="pre">cmpl</span></code></dt><dd><p>callback which will be called</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">*data</span></code></dt><dd><p>private data used by the caller</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>Callback will be called when an asynchronous operation on a given
request is finished.</p>
</div>
<dl class="c function">
<dt class="sig sig-object c" id="c.akcipher_request_set_crypt">
<span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">akcipher_request_set_crypt</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.akcipher_request" title="akcipher_request"><span class="n"><span class="pre">akcipher_request</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">req</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">scatterlist</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">src</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">scatterlist</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">dst</span></span>, <span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">src_len</span></span>, <span class="kt"><span class="pre">unsigned</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n"><span class="pre">dst_len</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.akcipher_request_set_crypt" title="連結到這個定義">¶</a><br /></dt>
<dd><p>Sets request parameters</p>
</dd></dl>

<div class="kernelindent docutils container">
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">akcipher_request</span> <span class="pre">*req</span></code></dt><dd><p>public key request</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">scatterlist</span> <span class="pre">*src</span></code></dt><dd><p>ptr to input scatter list</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">struct</span> <span class="pre">scatterlist</span> <span class="pre">*dst</span></code></dt><dd><p>ptr to output scatter list</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">int</span> <span class="pre">src_len</span></code></dt><dd><p>size of the src input scatter list to be processed</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">int</span> <span class="pre">dst_len</span></code></dt><dd><p>size of the dst output scatter list</p>
</dd>
</dl>
<p><strong>Description</strong></p>
<p>Sets parameters required by crypto operation</p>
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &#169;The kernel development community.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="../_sources/crypto/api-akcipher.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>