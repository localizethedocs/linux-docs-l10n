# SOME DESCRIPTIVE TITLE.
# Copyright (C) The kernel development community
# This file is distributed under the same license as the The Linux Kernel package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: The Linux Kernel 6\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2025-09-30 08:40+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: zh_CN\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../../trace/coresight/panic.rst:3
msgid "Using Coresight for Kernel panic and Watchdog reset"
msgstr ""

#: ../../../trace/coresight/panic.rst:6
msgid "Introduction"
msgstr ""

#: ../../../trace/coresight/panic.rst:7
msgid ""
"This documentation is about using Linux coresight trace support to debug "
"kernel panic and watchdog reset scenarios."
msgstr ""

#: ../../../trace/coresight/panic.rst:11
msgid "Coresight trace during Kernel panic"
msgstr ""

#: ../../../trace/coresight/panic.rst:12
msgid ""
"From the coresight driver point of view, addressing the kernel panic "
"situation has four main requirements."
msgstr ""

#: ../../../trace/coresight/panic.rst:15
msgid ""
"Support for allocation of trace buffer pages from reserved memory area. "
"Platform can advertise this using a new device tree property added to "
"relevant coresight nodes."
msgstr ""

#: ../../../trace/coresight/panic.rst:19
msgid "Support for stopping coresight blocks at the time of panic"
msgstr ""

#: ../../../trace/coresight/panic.rst:21
msgid "Saving required metadata in the specified format"
msgstr ""

#: ../../../trace/coresight/panic.rst:23
msgid "Support for reading trace data captured at the time of panic"
msgstr ""

#: ../../../trace/coresight/panic.rst:26
msgid "Allocation of trace buffer pages from reserved RAM"
msgstr ""

#: ../../../trace/coresight/panic.rst:27
msgid ""
"A new optional device tree property \"memory-region\" is added to the "
"Coresight TMC device nodes, that would give the base address and size of "
"trace buffer."
msgstr ""

#: ../../../trace/coresight/panic.rst:31
msgid ""
"Static allocation of trace buffers would ensure that both IOMMU enabled and "
"disabled cases are handled. Also, platforms that support persistent RAM will "
"allow users to read trace data in the subsequent boot without booting the "
"crashdump kernel."
msgstr ""

#: ../../../trace/coresight/panic.rst:36
msgid ""
"Note: For ETR sink devices, this reserved region will be used for both trace "
"capture and trace data retrieval. For ETF sink devices, internal SRAM would "
"be used for trace capture, and they would be synced to reserved region for "
"retrieval."
msgstr ""

#: ../../../trace/coresight/panic.rst:44
msgid "Disabling coresight blocks at the time of panic"
msgstr ""

#: ../../../trace/coresight/panic.rst:45
msgid ""
"In order to avoid the situation of losing relevant trace data after a kernel "
"panic, it would be desirable to stop the coresight blocks at the time of "
"panic."
msgstr ""

#: ../../../trace/coresight/panic.rst:49
msgid ""
"This can be achieved by configuring the comparator, CTI and sink devices as "
"below::"
msgstr ""

#: ../../../trace/coresight/panic.rst:56
msgid "Saving metadata at the time of kernel panic"
msgstr ""

#: ../../../trace/coresight/panic.rst:57
msgid ""
"Coresight metadata involves all additional data that are required for a "
"successful trace decode in addition to the trace data. This involves ETR/ETF/"
"ETB register snapshot etc."
msgstr ""

#: ../../../trace/coresight/panic.rst:61
msgid ""
"A new optional device property \"memory-region\" is added to the ETR/ETF/ETB "
"device nodes for this."
msgstr ""

#: ../../../trace/coresight/panic.rst:65
msgid "Reading trace data captured at the time of panic"
msgstr ""

#: ../../../trace/coresight/panic.rst:66
msgid ""
"Trace data captured at the time of panic, can be read from rebooted kernel "
"or from crashdump kernel using a special device file /dev/crash_tmc_xxx. "
"This device file is created only when there is a valid crashdata available."
msgstr ""

#: ../../../trace/coresight/panic.rst:71
msgid "General flow of trace capture and decode in case of kernel panic"
msgstr ""

#: ../../../trace/coresight/panic.rst:72
msgid ""
"Enable source and sink on all the cores using the sysfs interface. ETR sinks "
"should have trace buffers allocated from reserved memory, by selecting "
"\"resrv\" buffer mode from sysfs."
msgstr ""

#: ../../../trace/coresight/panic.rst:76
msgid "Run relevant tests."
msgstr ""

#: ../../../trace/coresight/panic.rst:78
msgid ""
"On a kernel panic, all coresight blocks are disabled, necessary metadata is "
"synced by kernel panic handler."
msgstr ""

#: ../../../trace/coresight/panic.rst:81
msgid "System would eventually reboot or boot a crashdump kernel."
msgstr ""

#: ../../../trace/coresight/panic.rst:83
msgid ""
"For  platforms that supports crashdump kernel, raw trace data can be dumped "
"using the coresight sysfs interface from the crashdump kernel itself. "
"Persistent RAM is not a requirement in this case."
msgstr ""

#: ../../../trace/coresight/panic.rst:87
msgid ""
"For platforms that supports persistent RAM, trace data can be dumped using "
"the coresight sysfs interface in the subsequent Linux boot. Crashdump kernel "
"is not a requirement in this case. Persistent RAM ensures that trace data is "
"intact across reboot."
msgstr ""

#: ../../../trace/coresight/panic.rst:93
msgid "Coresight trace during Watchdog reset"
msgstr ""

#: ../../../trace/coresight/panic.rst:94
msgid ""
"The main difference between addressing the watchdog reset and kernel panic "
"case are below,"
msgstr ""

#: ../../../trace/coresight/panic.rst:97
msgid ""
"Saving coresight metadata need to be taken care by the SCP(system control "
"processor) firmware in the specified format, instead of kernel."
msgstr ""

#: ../../../trace/coresight/panic.rst:101
msgid ""
"Reserved memory region given by firmware for trace buffer and metadata has "
"to be in persistent RAM. Note: This is a requirement for watchdog reset case "
"but optional in kernel panic case."
msgstr ""

#: ../../../trace/coresight/panic.rst:106
msgid ""
"Watchdog reset can be supported only on platforms that meet the above two "
"requirements."
msgstr ""

#: ../../../trace/coresight/panic.rst:110
msgid "Sample commands for testing a Kernel panic case with ETR sink"
msgstr ""

#: ../../../trace/coresight/panic.rst:112
msgid ""
"Boot Linux kernel with \"crash_kexec_post_notifiers\" added to the kernel "
"bootargs. This is mandatory if the user would like to read the tracedata "
"from the crashdump kernel."
msgstr ""

#: ../../../trace/coresight/panic.rst:116
msgid "Enable the preloaded ETM configuration::"
msgstr ""

#: ../../../trace/coresight/panic.rst:120
msgid "Configure CTI using sysfs interface::"
msgstr ""

#: ../../../trace/coresight/panic.rst:176
msgid ""
"Note: CTI connections are SOC specific and hence the above script is added "
"just for reference."
msgstr ""

#: ../../../trace/coresight/panic.rst:179
msgid "Choose reserved buffer mode for ETR buffer::"
msgstr ""

#: ../../../trace/coresight/panic.rst:183
msgid "Enable stop on flush trigger configuration::"
msgstr ""

#: ../../../trace/coresight/panic.rst:187
msgid "Start Coresight tracing on cores 1 and 2 using sysfs interface"
msgstr ""

#: ../../../trace/coresight/panic.rst:189
msgid "Run some application on core 1::"
msgstr ""

#: ../../../trace/coresight/panic.rst:193
msgid "Invoke kernel panic on core 2::"
msgstr ""

#: ../../../trace/coresight/panic.rst:198
msgid "From rebooted kernel or crashdump kernel, read crashdata::"
msgstr ""

#: ../../../trace/coresight/panic.rst:202
msgid "Run opencsd decoder tools/scripts to generate the instruction trace."
msgstr ""

#: ../../../trace/coresight/panic.rst:205
msgid "Sample instruction trace dump"
msgstr ""

#: ../../../trace/coresight/panic.rst:207
msgid "Core1 dump::"
msgstr ""

#: ../../../trace/coresight/panic.rst:266
msgid "Core 2 dump::"
msgstr ""

#: ../../../trace/coresight/panic.rst:346
msgid "Perf based testing"
msgstr ""

#: ../../../trace/coresight/panic.rst:349
msgid "Starting perf session"
msgstr ""

#: ../../../trace/coresight/panic.rst:350
msgid "ETF::"
msgstr ""

#: ../../../trace/coresight/panic.rst:355
msgid "ETR::"
msgstr ""

#: ../../../trace/coresight/panic.rst:360
msgid "Reading trace data after panic"
msgstr ""

#: ../../../trace/coresight/panic.rst:361
msgid ""
"Same sysfs based method explained above can be used to retrieve and decode "
"the trace data after the reboot on kernel panic."
msgstr ""
