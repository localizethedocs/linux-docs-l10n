# SOME DESCRIPTIVE TITLE.
# Copyright (C) The kernel development community
# This file is distributed under the same license as the The Linux Kernel package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: The Linux Kernel 6\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2025-09-30 08:40+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: zh_CN\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../../networking/devlink/ice.rst:5
msgid "ice devlink support"
msgstr ""

#: ../../../networking/devlink/ice.rst:7
msgid ""
"This document describes the devlink features implemented by the ``ice`` "
"device driver."
msgstr ""

#: ../../../networking/devlink/ice.rst:11
msgid "Parameters"
msgstr ""

#: ../../../networking/devlink/ice.rst:13
msgid "Generic parameters implemented"
msgstr ""

#: ../../../networking/devlink/ice.rst:16
#: ../../../networking/devlink/ice.rst:86
#: ../../../networking/devlink/ice.rst:116
#: ../../../networking/devlink/ice.rst:294
#: ../../../networking/devlink/ice.rst:406
msgid "Name"
msgstr ""

#: ../../../networking/devlink/ice.rst:17
#: ../../../networking/devlink/ice.rst:87
msgid "Mode"
msgstr ""

#: ../../../networking/devlink/ice.rst:18
msgid "Notes"
msgstr ""

#: ../../../networking/devlink/ice.rst:19
msgid "``enable_roce``"
msgstr ""

#: ../../../networking/devlink/ice.rst:20
#: ../../../networking/devlink/ice.rst:23
#: ../../../networking/devlink/ice.rst:90
msgid "runtime"
msgstr ""

#: ../../../networking/devlink/ice.rst:21
msgid "mutually exclusive with ``enable_iwarp``"
msgstr ""

#: ../../../networking/devlink/ice.rst:22
msgid "``enable_iwarp``"
msgstr ""

#: ../../../networking/devlink/ice.rst:24
msgid "mutually exclusive with ``enable_roce``"
msgstr ""

#: ../../../networking/devlink/ice.rst:25
msgid "``tx_scheduling_layers``"
msgstr ""

#: ../../../networking/devlink/ice.rst:26
msgid "permanent"
msgstr ""

#: ../../../networking/devlink/ice.rst:27
msgid ""
"The ice hardware uses hierarchical scheduling for Tx with a fixed number of "
"layers in the scheduling tree. Each of them are decision points. Root node "
"represents a port, while all the leaves represent the queues. This way of "
"configuring the Tx scheduler allows features like DCB or devlink-rate "
"(documented below) to configure how much bandwidth is given to any given "
"queue or group of queues, enabling fine-grained control because scheduling "
"parameters can be configured at any given layer of the tree."
msgstr ""

#: ../../../networking/devlink/ice.rst:36
msgid ""
"The default 9-layer tree topology was deemed best for most workloads, as it "
"gives an optimal ratio of performance to configurability. However, for some "
"specific cases, this 9-layer topology might not be desired. One example "
"would be sending traffic to queues that are not a multiple of 8. Because the "
"maximum radix is limited to 8 in 9-layer topology, the 9th queue has a "
"different parent than the rest, and it's given more bandwidth credits. This "
"causes a problem when the system is sending traffic to 9 queues:"
msgstr ""

#: ../../../networking/devlink/ice.rst:0
msgid "tx_queue_0_packets: 24163396"
msgstr ""

#: ../../../networking/devlink/ice.rst:0
msgid "tx_queue_1_packets: 24164623"
msgstr ""

#: ../../../networking/devlink/ice.rst:0
msgid "tx_queue_2_packets: 24163188"
msgstr ""

#: ../../../networking/devlink/ice.rst:0
msgid "tx_queue_3_packets: 24163701"
msgstr ""

#: ../../../networking/devlink/ice.rst:0
msgid "tx_queue_4_packets: 24163683"
msgstr ""

#: ../../../networking/devlink/ice.rst:0
msgid "tx_queue_5_packets: 24164668"
msgstr ""

#: ../../../networking/devlink/ice.rst:0
msgid "tx_queue_6_packets: 23327200"
msgstr ""

#: ../../../networking/devlink/ice.rst:0
msgid "tx_queue_7_packets: 24163853"
msgstr ""

#: ../../../networking/devlink/ice.rst:0
msgid "tx_queue_8_packets: 91101417 < Too much traffic is sent from 9th"
msgstr ""

#: ../../../networking/devlink/ice.rst:55
msgid ""
"To address this need, you can switch to a 5-layer topology, which changes "
"the maximum topology radix to 512. With this enhancement, the performance "
"characteristic is equal as all queues can be assigned to the same parent in "
"the tree. The obvious drawback of this solution is a lower configuration "
"depth of the tree."
msgstr ""

#: ../../../networking/devlink/ice.rst:61
msgid ""
"Use the ``tx_scheduling_layer`` parameter with the devlink command to change "
"the transmit scheduler topology. To use 5-layer topology, use a value of 5. "
"For example: $ devlink dev param set pci/0000:16:00.0 name "
"tx_scheduling_layers value 5 cmode permanent Use a value of 9 to set it back "
"to the default value."
msgstr ""

#: ../../../networking/devlink/ice.rst:68
msgid ""
"You must do PCI slot powercycle for the selected topology to take effect."
msgstr ""

#: ../../../networking/devlink/ice.rst:70
msgid ""
"To verify that value has been set: $ devlink dev param show pci/0000:16:00.0 "
"name tx_scheduling_layers"
msgstr ""

#: ../../../networking/devlink/ice.rst:72
msgid "``msix_vec_per_pf_max``"
msgstr ""

#: ../../../networking/devlink/ice.rst:73
#: ../../../networking/devlink/ice.rst:78
msgid "driverinit"
msgstr ""

#: ../../../networking/devlink/ice.rst:74
msgid ""
"Set the max MSI-X that can be used by the PF, rest can be utilized for "
"SRIOV. The range is from min value set in msix_vec_per_pf_min to 2k/number "
"of ports."
msgstr ""

#: ../../../networking/devlink/ice.rst:77
msgid "``msix_vec_per_pf_min``"
msgstr ""

#: ../../../networking/devlink/ice.rst:79
msgid ""
"Set the min MSI-X that will be used by the PF. This value inform how many "
"MSI-X will be allocated statically. The range is from 2 to value set in "
"msix_vec_per_pf_max."
msgstr ""

#: ../../../networking/devlink/ice.rst:83
msgid "Driver specific parameters implemented"
msgstr ""

#: ../../../networking/devlink/ice.rst:88
#: ../../../networking/devlink/ice.rst:119
#: ../../../networking/devlink/ice.rst:295
#: ../../../networking/devlink/ice.rst:407
msgid "Description"
msgstr ""

#: ../../../networking/devlink/ice.rst:89
msgid "``local_forwarding``"
msgstr ""

#: ../../../networking/devlink/ice.rst:91
msgid ""
"Controls loopback behavior by tuning scheduler bandwidth. It impacts all "
"kinds of functions: physical, virtual and subfunctions. Supported values are:"
msgstr ""

#: ../../../networking/devlink/ice.rst:96
msgid "``enabled`` - loopback traffic is allowed on port"
msgstr ""

#: ../../../networking/devlink/ice.rst:98
msgid "``disabled`` - loopback traffic is not allowed on this port"
msgstr ""

#: ../../../networking/devlink/ice.rst:100
msgid "``prioritized`` - loopback traffic is prioritized on this port"
msgstr ""

#: ../../../networking/devlink/ice.rst:102
msgid ""
"Default value of ``local_forwarding`` parameter is ``enabled``. "
"``prioritized`` provides ability to adjust loopback traffic rate to increase "
"one port capacity at cost of the another. User needs to disable local "
"forwarding on one of the ports in order have increased capacity on the "
"``prioritized`` port."
msgstr ""

#: ../../../networking/devlink/ice.rst:109
msgid "Info versions"
msgstr ""

#: ../../../networking/devlink/ice.rst:111
msgid "The ``ice`` driver reports the following versions"
msgstr ""

#: ../../../networking/devlink/ice.rst:113
msgid "devlink info versions implemented"
msgstr ""

#: ../../../networking/devlink/ice.rst:117
msgid "Type"
msgstr ""

#: ../../../networking/devlink/ice.rst:118
msgid "Example"
msgstr ""

#: ../../../networking/devlink/ice.rst:120
msgid "``board.id``"
msgstr ""

#: ../../../networking/devlink/ice.rst:121
#: ../../../networking/devlink/ice.rst:125
msgid "fixed"
msgstr ""

#: ../../../networking/devlink/ice.rst:122
msgid "K65390-000"
msgstr ""

#: ../../../networking/devlink/ice.rst:123
msgid "The Product Board Assembly (PBA) identifier of the board."
msgstr ""

#: ../../../networking/devlink/ice.rst:124
msgid "``cgu.id``"
msgstr ""

#: ../../../networking/devlink/ice.rst:126
msgid "36"
msgstr ""

#: ../../../networking/devlink/ice.rst:127
msgid "The Clock Generation Unit (CGU) hardware revision identifier."
msgstr ""

#: ../../../networking/devlink/ice.rst:128
msgid "``fw.mgmt``"
msgstr ""

#: ../../../networking/devlink/ice.rst:129
#: ../../../networking/devlink/ice.rst:136
#: ../../../networking/devlink/ice.rst:143
#: ../../../networking/devlink/ice.rst:147
#: ../../../networking/devlink/ice.rst:157
#: ../../../networking/devlink/ice.rst:161
#: ../../../networking/devlink/ice.rst:166
#: ../../../networking/devlink/ice.rst:172
#: ../../../networking/devlink/ice.rst:178
#: ../../../networking/devlink/ice.rst:184
#: ../../../networking/devlink/ice.rst:191
#: ../../../networking/devlink/ice.rst:195
msgid "running"
msgstr ""

#: ../../../networking/devlink/ice.rst:130
msgid "2.1.7"
msgstr ""

#: ../../../networking/devlink/ice.rst:131
msgid ""
"3-digit version number of the management firmware running on the Embedded "
"Management Processor of the device. It controls the PHY, link, access to "
"device resources, etc. Intel documentation refers to this as the EMP "
"firmware."
msgstr ""

#: ../../../networking/devlink/ice.rst:135
msgid "``fw.mgmt.api``"
msgstr ""

#: ../../../networking/devlink/ice.rst:137
msgid "1.5.1"
msgstr ""

#: ../../../networking/devlink/ice.rst:138
msgid ""
"3-digit version number (major.minor.patch) of the API exported over the "
"AdminQ by the management firmware. Used by the driver to identify what "
"commands are supported. Historical versions of the kernel only displayed a 2-"
"digit version number (major.minor)."
msgstr ""

#: ../../../networking/devlink/ice.rst:142
msgid "``fw.mgmt.build``"
msgstr ""

#: ../../../networking/devlink/ice.rst:144
msgid "0x305d955f"
msgstr ""

#: ../../../networking/devlink/ice.rst:145
msgid "Unique identifier of the source for the management firmware."
msgstr ""

#: ../../../networking/devlink/ice.rst:146
msgid "``fw.undi``"
msgstr ""

#: ../../../networking/devlink/ice.rst:148
msgid "1.2581.0"
msgstr ""

#: ../../../networking/devlink/ice.rst:149
msgid ""
"Version of the Option ROM containing the UEFI driver. The version is "
"reported in ``major.minor.patch`` format. The major version is incremented "
"whenever a major breaking change occurs, or when the minor version would "
"overflow. The minor version is incremented for non-breaking changes and "
"reset to 1 when the major version is incremented. The patch version is "
"normally 0 but is incremented when a fix is delivered as a patch against an "
"older base Option ROM."
msgstr ""

#: ../../../networking/devlink/ice.rst:156
msgid "``fw.psid.api``"
msgstr ""

#: ../../../networking/devlink/ice.rst:158
msgid "0.80"
msgstr ""

#: ../../../networking/devlink/ice.rst:159
msgid "Version defining the format of the flash contents."
msgstr ""

#: ../../../networking/devlink/ice.rst:160
msgid "``fw.bundle_id``"
msgstr ""

#: ../../../networking/devlink/ice.rst:162
msgid "0x80002ec0"
msgstr ""

#: ../../../networking/devlink/ice.rst:163
msgid ""
"Unique identifier of the firmware image file that was loaded onto the "
"device. Also referred to as the EETRACK identifier of the NVM."
msgstr ""

#: ../../../networking/devlink/ice.rst:165
msgid "``fw.app.name``"
msgstr ""

#: ../../../networking/devlink/ice.rst:167
msgid "ICE OS Default Package"
msgstr ""

#: ../../../networking/devlink/ice.rst:168
msgid ""
"The name of the DDP package that is active in the device. The DDP package is "
"loaded by the driver during initialization. Each variation of the DDP "
"package has a unique name."
msgstr ""

#: ../../../networking/devlink/ice.rst:171
msgid "``fw.app``"
msgstr ""

#: ../../../networking/devlink/ice.rst:173
msgid "1.3.1.0"
msgstr ""

#: ../../../networking/devlink/ice.rst:174
msgid ""
"The version of the DDP package that is active in the device. Note that both "
"the name (as reported by ``fw.app.name``) and version are required to "
"uniquely identify the package."
msgstr ""

#: ../../../networking/devlink/ice.rst:177
msgid "``fw.app.bundle_id``"
msgstr ""

#: ../../../networking/devlink/ice.rst:179
msgid "0xc0000001"
msgstr ""

#: ../../../networking/devlink/ice.rst:180
msgid ""
"Unique identifier for the DDP package loaded in the device. Also referred to "
"as the DDP Track ID. Can be used to uniquely identify the specific DDP "
"package."
msgstr ""

#: ../../../networking/devlink/ice.rst:183
msgid "``fw.netlist``"
msgstr ""

#: ../../../networking/devlink/ice.rst:185
msgid "1.1.2000-6.7.0"
msgstr ""

#: ../../../networking/devlink/ice.rst:186
msgid ""
"The version of the netlist module. This module defines the device's Ethernet "
"capabilities and default settings, and is used by the management firmware as "
"part of managing link and device connectivity."
msgstr ""

#: ../../../networking/devlink/ice.rst:190
msgid "``fw.netlist.build``"
msgstr ""

#: ../../../networking/devlink/ice.rst:192
msgid "0xee16ced7"
msgstr ""

#: ../../../networking/devlink/ice.rst:193
msgid "The first 4 bytes of the hash of the netlist module contents."
msgstr ""

#: ../../../networking/devlink/ice.rst:194
msgid "``fw.cgu``"
msgstr ""

#: ../../../networking/devlink/ice.rst:196
msgid "8032.16973825.6021"
msgstr ""

#: ../../../networking/devlink/ice.rst:197
msgid ""
"The version of Clock Generation Unit (CGU). Format: <CGU type>."
"<configuration version>.<firmware version>."
msgstr ""

#: ../../../networking/devlink/ice.rst:201
msgid "Flash Update"
msgstr ""

#: ../../../networking/devlink/ice.rst:203
msgid ""
"The ``ice`` driver implements support for flash update using the ``devlink-"
"flash`` interface. It supports updating the device flash using a combined "
"flash image that contains the ``fw.mgmt``, ``fw.undi``, and ``fw.netlist`` "
"components."
msgstr ""

#: ../../../networking/devlink/ice.rst:208
msgid "List of supported overwrite modes"
msgstr ""

#: ../../../networking/devlink/ice.rst:211
msgid "Bits"
msgstr ""

#: ../../../networking/devlink/ice.rst:212
msgid "Behavior"
msgstr ""

#: ../../../networking/devlink/ice.rst:213
msgid "``DEVLINK_FLASH_OVERWRITE_SETTINGS``"
msgstr ""

#: ../../../networking/devlink/ice.rst:214
msgid ""
"Do not preserve settings stored in the flash components being updated. This "
"includes overwriting the port configuration that determines the number of "
"physical functions the device will initialize with."
msgstr ""

#: ../../../networking/devlink/ice.rst:218
msgid ""
"``DEVLINK_FLASH_OVERWRITE_SETTINGS`` and "
"``DEVLINK_FLASH_OVERWRITE_IDENTIFIERS``"
msgstr ""

#: ../../../networking/devlink/ice.rst:219
msgid ""
"Do not preserve either settings or identifiers. Overwrite everything in the "
"flash with the contents from the provided image, without performing any "
"preservation. This includes overwriting device identifying fields such as "
"the MAC address, VPD area, and device serial number. It is expected that "
"this combination be used with an image customized for the specific device."
msgstr ""

#: ../../../networking/devlink/ice.rst:226
msgid ""
"The ice hardware does not support overwriting only identifiers while "
"preserving settings, and thus ``DEVLINK_FLASH_OVERWRITE_IDENTIFIERS`` on its "
"own will be rejected. If no overwrite mask is provided, the firmware will be "
"instructed to preserve all settings and identifying fields when updating."
msgstr ""

#: ../../../networking/devlink/ice.rst:232
msgid "Reload"
msgstr ""

#: ../../../networking/devlink/ice.rst:234
msgid ""
"The ``ice`` driver supports activating new firmware after a flash update "
"using ``DEVLINK_CMD_RELOAD`` with the ``DEVLINK_RELOAD_ACTION_FW_ACTIVATE`` "
"action."
msgstr ""

#: ../../../networking/devlink/ice.rst:242
msgid ""
"The new firmware is activated by issuing a device specific Embedded "
"Management Processor reset which requests the device to reset and reload the "
"EMP firmware image."
msgstr ""

#: ../../../networking/devlink/ice.rst:246
msgid ""
"The driver does not currently support reloading the driver via "
"``DEVLINK_RELOAD_ACTION_DRIVER_REINIT``."
msgstr ""

#: ../../../networking/devlink/ice.rst:250
msgid "Port split"
msgstr ""

#: ../../../networking/devlink/ice.rst:252
msgid ""
"The ``ice`` driver supports port splitting only for port 0, as the FW has a "
"predefined set of available port split options for the whole device."
msgstr ""

#: ../../../networking/devlink/ice.rst:255
msgid "A system reboot is required for port split to be applied."
msgstr ""

#: ../../../networking/devlink/ice.rst:257
msgid "The following command will select the port split option with 4 ports:"
msgstr ""

#: ../../../networking/devlink/ice.rst:263
msgid ""
"The list of all available port options will be printed to dynamic debug "
"after each ``split`` and ``unsplit`` command. The first option is the "
"default."
msgstr ""

#: ../../../networking/devlink/ice.rst:278
msgid ""
"There could be multiple FW port options with the same port split count. When "
"the same port split count request is issued again, the next FW port option "
"with the same port split count will be selected."
msgstr ""

#: ../../../networking/devlink/ice.rst:282
msgid ""
"``devlink port unsplit`` will select the option with a split count of 1. If "
"there is no FW option available with split count 1, you will receive an "
"error."
msgstr ""

#: ../../../networking/devlink/ice.rst:286
msgid "Regions"
msgstr ""

#: ../../../networking/devlink/ice.rst:288
msgid ""
"The ``ice`` driver implements the following regions for accessing internal "
"device data."
msgstr ""

#: ../../../networking/devlink/ice.rst:291
msgid "regions implemented"
msgstr ""

#: ../../../networking/devlink/ice.rst:296
msgid "``nvm-flash``"
msgstr ""

#: ../../../networking/devlink/ice.rst:297
msgid ""
"The contents of the entire flash chip, sometimes referred to as the device's "
"Non Volatile Memory."
msgstr ""

#: ../../../networking/devlink/ice.rst:299
msgid "``shadow-ram``"
msgstr ""

#: ../../../networking/devlink/ice.rst:300
msgid ""
"The contents of the Shadow RAM, which is loaded from the beginning of the "
"flash. Although the contents are primarily from the flash, this area also "
"contains data generated during device boot which is not stored in flash."
msgstr ""

#: ../../../networking/devlink/ice.rst:304
msgid "``device-caps``"
msgstr ""

#: ../../../networking/devlink/ice.rst:305
msgid ""
"The contents of the device firmware's capabilities buffer. Useful to "
"determine the current state and configuration of the device."
msgstr ""

#: ../../../networking/devlink/ice.rst:308
msgid ""
"Both the ``nvm-flash`` and ``shadow-ram`` regions can be accessed without a "
"snapshot. The ``device-caps`` region requires a snapshot as the contents are "
"sent by firmware and can't be split into separate reads."
msgstr ""

#: ../../../networking/devlink/ice.rst:312
msgid ""
"Users can request an immediate capture of a snapshot for all three regions "
"via the ``DEVLINK_CMD_REGION_NEW`` command."
msgstr ""

#: ../../../networking/devlink/ice.rst:375
msgid "Devlink Rate"
msgstr ""

#: ../../../networking/devlink/ice.rst:377
msgid ""
"The ``ice`` driver implements devlink-rate API. It allows for offload of the "
"Hierarchical QoS to the hardware. It enables user to group Virtual Functions "
"in a tree structure and assign supported parameters: tx_share, tx_max, "
"tx_priority and tx_weight to each node in a tree. So effectively user gains "
"an ability to control how much bandwidth is allocated for each VF group. "
"This is later enforced by the HW."
msgstr ""

#: ../../../networking/devlink/ice.rst:384
msgid ""
"It is assumed that this feature is mutually exclusive with DCB performed in "
"FW and ADQ, or any driver feature that would trigger changes in QoS, for "
"example creation of the new traffic class. The driver will prevent DCB or "
"ADQ configuration if user started making any changes to the nodes using "
"devlink-rate API. To configure those features a driver reload is necessary. "
"Correspondingly if ADQ or DCB will get configured the driver won't export "
"hierarchy at all, or will remove the untouched hierarchy if those features "
"are enabled after the hierarchy is exported, but before any changes are made."
msgstr ""

#: ../../../networking/devlink/ice.rst:394
msgid ""
"This feature is also dependent on switchdev being enabled in the system. "
"It's required because devlink-rate requires devlink-port objects to be "
"present, and those objects are only created in switchdev mode."
msgstr ""

#: ../../../networking/devlink/ice.rst:398
msgid ""
"If the driver is set to the switchdev mode, it will export internal "
"hierarchy the moment VF's are created. Root of the tree is always "
"represented by the node_0. This node can't be deleted by the user. Leaf "
"nodes and nodes with children also can't be deleted."
msgstr ""

#: ../../../networking/devlink/ice.rst:403
msgid "Attributes supported"
msgstr ""

#: ../../../networking/devlink/ice.rst:408
msgid "``tx_max``"
msgstr ""

#: ../../../networking/devlink/ice.rst:409
msgid ""
"maximum bandwidth to be consumed by the tree Node. Rate Limit is an absolute "
"number specifying a maximum amount of bytes a Node may consume during the "
"course of one second. Rate limit guarantees that a link will not "
"oversaturate the receiver on the remote end and also enforces an SLA between "
"the subscriber and network provider."
msgstr ""

#: ../../../networking/devlink/ice.rst:415
msgid "``tx_share``"
msgstr ""

#: ../../../networking/devlink/ice.rst:416
msgid ""
"minimum bandwidth allocated to a tree node when it is not blocked. It "
"specifies an absolute BW. While tx_max defines the maximum bandwidth the "
"node may consume, the tx_share marks committed BW for the Node."
msgstr ""

#: ../../../networking/devlink/ice.rst:420
msgid "``tx_priority``"
msgstr ""

#: ../../../networking/devlink/ice.rst:421
msgid ""
"allows for usage of strict priority arbiter among siblings. This arbitration "
"scheme attempts to schedule nodes based on their priority as long as the "
"nodes remain within their bandwidth limit. Range 0-7. Nodes with priority 7 "
"have the highest priority and are selected first, while nodes with priority "
"0 have the lowest priority. Nodes that have the same priority are treated "
"equally."
msgstr ""

#: ../../../networking/devlink/ice.rst:427
msgid "``tx_weight``"
msgstr ""

#: ../../../networking/devlink/ice.rst:428
msgid ""
"allows for usage of Weighted Fair Queuing arbitration scheme among siblings. "
"This arbitration scheme can be used simultaneously with the strict priority. "
"Range 1-200. Only relative values matter for arbitration."
msgstr ""

#: ../../../networking/devlink/ice.rst:433
msgid ""
"``tx_priority`` and ``tx_weight`` can be used simultaneously. In that case "
"nodes with the same priority form a WFQ subgroup in the sibling group and "
"arbitration among them is based on assigned weights."
msgstr ""
