# SOME DESCRIPTIVE TITLE.
# Copyright (C) The kernel development community
# This file is distributed under the same license as the The Linux Kernel package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: The Linux Kernel master\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2026-01-06 06:05+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: zh_TW\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../../admin-guide/mm/zswap.rst:3
msgid "zswap"
msgstr ""

#: ../../../admin-guide/mm/zswap.rst:6
msgid "Overview"
msgstr "概覽"

#: ../../../admin-guide/mm/zswap.rst:8
msgid ""
"Zswap is a lightweight compressed cache for swap pages. It takes pages that "
"are in the process of being swapped out and attempts to compress them into a "
"dynamically allocated RAM-based memory pool.  zswap basically trades CPU "
"cycles for potentially reduced swap I/O.  This trade-off can also result in "
"a significant performance improvement if reads from the compressed cache are "
"faster than reads from a swap device."
msgstr ""

#: ../../../admin-guide/mm/zswap.rst:15
msgid "Some potential benefits:"
msgstr ""

#: ../../../admin-guide/mm/zswap.rst:17
msgid ""
"Desktop/laptop users with limited RAM capacities can mitigate the "
"performance impact of swapping."
msgstr ""

#: ../../../admin-guide/mm/zswap.rst:19
msgid ""
"Overcommitted guests that share a common I/O resource can dramatically "
"reduce their swap I/O pressure, avoiding heavy handed I/O throttling by the "
"hypervisor. This allows more work to get done with less impact to the guest "
"workload and guests sharing the I/O subsystem"
msgstr ""

#: ../../../admin-guide/mm/zswap.rst:23
msgid ""
"Users with SSDs as swap devices can extend the life of the device by "
"drastically reducing life-shortening writes."
msgstr ""

#: ../../../admin-guide/mm/zswap.rst:26
msgid ""
"Zswap evicts pages from compressed cache on an LRU basis to the backing swap "
"device when the compressed pool reaches its size limit.  This requirement "
"had been identified in prior community discussions."
msgstr ""

#: ../../../admin-guide/mm/zswap.rst:30
msgid ""
"Whether Zswap is enabled at the boot time depends on whether the "
"``CONFIG_ZSWAP_DEFAULT_ON`` Kconfig option is enabled or not. This setting "
"can then be overridden by providing the kernel command line ``zswap."
"enabled=`` option, for example ``zswap.enabled=0``. Zswap can also be "
"enabled and disabled at runtime using the sysfs interface. An example "
"command to enable zswap at runtime, assuming sysfs is mounted at ``/sys``, "
"is::"
msgstr ""

#: ../../../admin-guide/mm/zswap.rst:40
msgid ""
"When zswap is disabled at runtime it will stop storing pages that are being "
"swapped out.  However, it will _not_ immediately write out or fault back "
"into memory all of the pages stored in the compressed pool.  The pages "
"stored in zswap will remain in the compressed pool until they are either "
"invalidated or faulted back into memory.  In order to force all pages out of "
"the compressed pool, a swapoff on the swap device(s) will fault back into "
"memory all swapped out pages, including those in the compressed pool."
msgstr ""

#: ../../../admin-guide/mm/zswap.rst:50
msgid "Design"
msgstr ""

#: ../../../admin-guide/mm/zswap.rst:52
msgid ""
"Zswap receives pages for compression from the swap subsystem and is able to "
"evict pages from its own compressed pool on an LRU basis and write them back "
"to the backing swap device in the case that the compressed pool is full."
msgstr ""

#: ../../../admin-guide/mm/zswap.rst:56
msgid ""
"Zswap makes use of zsmalloc for the managing the compressed memory pool.  "
"Each allocation in zsmalloc is not directly accessible by address.  Rather, "
"a handle is returned by the allocation routine and that handle must be "
"mapped before being accessed.  The compressed memory pool grows on demand "
"and shrinks as compressed pages are freed.  The pool is not preallocated."
msgstr ""

#: ../../../admin-guide/mm/zswap.rst:62
msgid ""
"When a swap page is passed from swapout to zswap, zswap maintains a mapping "
"of the swap entry, a combination of the swap type and swap offset, to the "
"zsmalloc handle that references that compressed swap page.  This mapping is "
"achieved with an xarray per swap type.  The swap offset is the search key "
"for the xarray nodes."
msgstr ""

#: ../../../admin-guide/mm/zswap.rst:68
msgid ""
"During a page fault on a PTE that is a swap entry, the swapin code calls the "
"zswap load function to decompress the page into the page allocated by the "
"page fault handler."
msgstr ""

#: ../../../admin-guide/mm/zswap.rst:72
msgid ""
"Once there are no PTEs referencing a swap page stored in zswap (i.e. the "
"count in the swap_map goes to 0) the swap code calls the zswap invalidate "
"function to free the compressed entry."
msgstr ""

#: ../../../admin-guide/mm/zswap.rst:76
msgid ""
"Zswap seeks to be simple in its policies.  Sysfs attributes allow for one "
"user controlled policy:"
msgstr ""

#: ../../../admin-guide/mm/zswap.rst:79
msgid ""
"max_pool_percent - The maximum percentage of memory that the compressed pool "
"can occupy."
msgstr ""

#: ../../../admin-guide/mm/zswap.rst:82
msgid ""
"The default compressor is selected in ``CONFIG_ZSWAP_COMPRESSOR_DEFAULT`` "
"Kconfig option, but it can be overridden at boot time by setting the "
"``compressor`` attribute, e.g. ``zswap.compressor=lzo``. It can also be "
"changed at runtime using the sysfs \"compressor\" attribute, e.g.::"
msgstr ""

#: ../../../admin-guide/mm/zswap.rst:90
msgid ""
"When the compressor parameter is changed at runtime, any existing compressed "
"pages are not modified; they are left in their own pool.  When a request is "
"made for a page in an old pool, it is uncompressed using its original "
"compressor.  Once all pages are removed from an old pool, the pool and its "
"compressor are freed."
msgstr ""

#: ../../../admin-guide/mm/zswap.rst:96
msgid ""
"Some of the pages in zswap are same-value filled pages (i.e. contents of the "
"page have same value or repetitive pattern). These pages include zero-filled "
"pages and they are handled differently. During store operation, a page is "
"checked if it is a same-value filled page before compressing it. If true, "
"the compressed length of the page is set to zero and the pattern or same-"
"filled value is stored."
msgstr ""

#: ../../../admin-guide/mm/zswap.rst:103
msgid ""
"To prevent zswap from shrinking pool when zswap is full and there's a high "
"pressure on swap (this will result in flipping pages in and out zswap pool "
"without any real benefit but with a performance drop for the system), a "
"special parameter has been introduced to implement a sort of hysteresis to "
"refuse taking pages into zswap pool until it has sufficient space if the "
"limit has been hit. To set the threshold at which zswap would start "
"accepting pages again after it became full, use the sysfs "
"``accept_threshold_percent`` attribute, e. g.::"
msgstr ""

#: ../../../admin-guide/mm/zswap.rst:114
msgid "Setting this parameter to 100 will disable the hysteresis."
msgstr ""

#: ../../../admin-guide/mm/zswap.rst:116
msgid ""
"Some users cannot tolerate the swapping that comes with zswap store failures "
"and zswap writebacks. Swapping can be disabled entirely (without disabling "
"zswap itself) on a cgroup-basis as follows::"
msgstr ""

#: ../../../admin-guide/mm/zswap.rst:122
msgid ""
"Note that if the store failures are recurring (for e.g if the pages are "
"incompressible), users can observe reclaim inefficiency after disabling "
"writeback (because the same pages might be rejected again and again)."
msgstr ""

#: ../../../admin-guide/mm/zswap.rst:126
msgid ""
"When there is a sizable amount of cold memory residing in the zswap pool, it "
"can be advantageous to proactively write these cold pages to swap and "
"reclaim the memory for other use cases. By default, the zswap shrinker is "
"disabled. User can enable it as follows::"
msgstr ""

#: ../../../admin-guide/mm/zswap.rst:133
msgid ""
"This can be enabled at the boot time if ``CONFIG_ZSWAP_SHRINKER_DEFAULT_ON`` "
"is selected."
msgstr ""

#: ../../../admin-guide/mm/zswap.rst:136
msgid ""
"A debugfs interface is provided for various statistic about pool size, "
"number of pages stored, same-value filled pages and various counters for the "
"reasons pages are rejected."
msgstr ""
