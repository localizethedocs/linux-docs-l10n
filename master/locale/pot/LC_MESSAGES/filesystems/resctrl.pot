# SOME DESCRIPTIVE TITLE.
# Copyright (C) The kernel development community
# This file is distributed under the same license as the The Linux Kernel package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: The Linux Kernel master\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2026-02-16 08:44+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../../filesystems/resctrl.rst:6
msgid "User Interface for Resource Control feature (resctrl)"
msgstr ""

#: ../../../filesystems/resctrl.rst:0
msgid "Copyright"
msgstr ""

#: ../../../filesystems/resctrl.rst:8
msgid "|copy| 2016 Intel Corporation"
msgstr ""

#: ../../../filesystems/resctrl.rst:0
msgid "Authors"
msgstr ""

#: ../../../filesystems/resctrl.rst:9
msgid "Fenghua Yu <fenghua.yu@intel.com>"
msgstr ""

#: ../../../filesystems/resctrl.rst:10
msgid "Tony Luck <tony.luck@intel.com>"
msgstr ""

#: ../../../filesystems/resctrl.rst:11
msgid "Vikas Shivappa <vikas.shivappa@intel.com>"
msgstr ""

#: ../../../filesystems/resctrl.rst:14
msgid ""
"Intel refers to this feature as Intel Resource Director Technology(Intel(R) "
"RDT). AMD refers to this feature as AMD Platform Quality of Service(AMD QoS)."
msgstr ""

#: ../../../filesystems/resctrl.rst:17
msgid ""
"This feature is enabled by the CONFIG_X86_CPU_RESCTRL and the x86 /proc/"
"cpuinfo flag bits:"
msgstr ""

#: ../../../filesystems/resctrl.rst:21
msgid "RDT (Resource Director Technology) Allocation"
msgstr ""

#: ../../../filesystems/resctrl.rst:21
msgid "\"rdt_a\""
msgstr ""

#: ../../../filesystems/resctrl.rst:22
msgid "CAT (Cache Allocation Technology)"
msgstr ""

#: ../../../filesystems/resctrl.rst:22
msgid "\"cat_l3\", \"cat_l2\""
msgstr ""

#: ../../../filesystems/resctrl.rst:23
msgid "CDP (Code and Data Prioritization)"
msgstr ""

#: ../../../filesystems/resctrl.rst:23
msgid "\"cdp_l3\", \"cdp_l2\""
msgstr ""

#: ../../../filesystems/resctrl.rst:24
msgid "CQM (Cache QoS Monitoring)"
msgstr ""

#: ../../../filesystems/resctrl.rst:24
msgid "\"cqm_llc\", \"cqm_occup_llc\""
msgstr ""

#: ../../../filesystems/resctrl.rst:25
msgid "MBM (Memory Bandwidth Monitoring)"
msgstr ""

#: ../../../filesystems/resctrl.rst:25
msgid "\"cqm_mbm_total\", \"cqm_mbm_local\""
msgstr ""

#: ../../../filesystems/resctrl.rst:26
msgid "MBA (Memory Bandwidth Allocation)"
msgstr ""

#: ../../../filesystems/resctrl.rst:26
msgid "\"mba\""
msgstr ""

#: ../../../filesystems/resctrl.rst:27
msgid "SMBA (Slow Memory Bandwidth Allocation)"
msgstr ""

#: ../../../filesystems/resctrl.rst:27 ../../../filesystems/resctrl.rst:28
#: ../../../filesystems/resctrl.rst:29 ../../../filesystems/resctrl.rst:30
msgid "\"\""
msgstr ""

#: ../../../filesystems/resctrl.rst:28
msgid "BMEC (Bandwidth Monitoring Event Configuration)"
msgstr ""

#: ../../../filesystems/resctrl.rst:29
msgid "ABMC (Assignable Bandwidth Monitoring Counters)"
msgstr ""

#: ../../../filesystems/resctrl.rst:30
msgid "SDCIAE (Smart Data Cache Injection Allocation Enforcement)"
msgstr ""

#: ../../../filesystems/resctrl.rst:33
msgid ""
"Historically, new features were made visible by default in /proc/cpuinfo. "
"This resulted in the feature flags becoming hard to parse by humans. Adding "
"a new flag to /proc/cpuinfo should be avoided if user space can obtain "
"information about the feature from resctrl's info directory."
msgstr ""

#: ../../../filesystems/resctrl.rst:38
msgid "To use the feature mount the file system::"
msgstr ""

#: ../../../filesystems/resctrl.rst:42
msgid "mount options are:"
msgstr ""

#: ../../../filesystems/resctrl.rst:44
msgid "\"cdp\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:45
msgid "Enable code/data prioritization in L3 cache allocations."
msgstr ""

#: ../../../filesystems/resctrl.rst:46
msgid "\"cdpl2\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:47
msgid "Enable code/data prioritization in L2 cache allocations."
msgstr ""

#: ../../../filesystems/resctrl.rst:48
msgid "\"mba_MBps\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:49
msgid ""
"Enable the MBA Software Controller(mba_sc) to specify MBA bandwidth in MiBps"
msgstr ""

#: ../../../filesystems/resctrl.rst:51
msgid "\"debug\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:52
msgid ""
"Make debug files accessible. Available debug files are annotated with "
"\"Available only with debug option\"."
msgstr ""

#: ../../../filesystems/resctrl.rst:55
msgid "L2 and L3 CDP are controlled separately."
msgstr ""

#: ../../../filesystems/resctrl.rst:57
msgid ""
"RDT features are orthogonal. A particular system may support only "
"monitoring, only control, or both monitoring and control.  Cache pseudo-"
"locking is a unique way of using cache control to \"pin\" or \"lock\" data "
"in the cache. Details can be found in \"Cache Pseudo-Locking\"."
msgstr ""

#: ../../../filesystems/resctrl.rst:64
msgid ""
"The mount succeeds if either of allocation or monitoring is present, but "
"only those files and directories supported by the system will be created. "
"For more details on the behavior of the interface during monitoring and "
"allocation, see the \"Resource alloc and monitor groups\" section."
msgstr ""

#: ../../../filesystems/resctrl.rst:70
msgid "Info directory"
msgstr ""

#: ../../../filesystems/resctrl.rst:72
msgid ""
"The 'info' directory contains information about the enabled resources. Each "
"resource has its own subdirectory. The subdirectory names reflect the "
"resource names."
msgstr ""

#: ../../../filesystems/resctrl.rst:76
msgid ""
"Most of the files in the resource's subdirectory are read-only, and describe "
"properties of the resource. Resources that support global configuration "
"options also include writable files that can be used to modify those "
"settings."
msgstr ""

#: ../../../filesystems/resctrl.rst:81
msgid ""
"Each subdirectory contains the following files with respect to allocation:"
msgstr ""

#: ../../../filesystems/resctrl.rst:84
msgid ""
"Cache resource(L3/L2)  subdirectory contains the following files related to "
"allocation:"
msgstr ""

#: ../../../filesystems/resctrl.rst:87
msgid "\"num_closids\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:88
msgid ""
"The number of CLOSIDs which are valid for this resource. The kernel uses the "
"smallest number of CLOSIDs of all enabled resources as limit."
msgstr ""

#: ../../../filesystems/resctrl.rst:91
msgid "\"cbm_mask\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:92
msgid ""
"The bitmask which is valid for this resource. This mask is equivalent to "
"100%."
msgstr ""

#: ../../../filesystems/resctrl.rst:94
msgid "\"min_cbm_bits\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:95
msgid ""
"The minimum number of consecutive bits which must be set when writing a mask."
msgstr ""

#: ../../../filesystems/resctrl.rst:98
msgid "\"shareable_bits\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:99
msgid ""
"Bitmask of shareable resource with other executing entities (e.g. I/O). "
"Applies to all instances of this resource. User can use this when setting up "
"exclusive cache partitions. Note that some platforms support devices that "
"have their own settings for cache use which can over-ride these bits."
msgstr ""

#: ../../../filesystems/resctrl.rst:105
msgid ""
"When \"io_alloc\" is enabled, a portion of each cache instance can be "
"configured for shared use between hardware and software. \"bit_usage\" "
"should be used to see which portions of each cache instance is configured "
"for hardware use via \"io_alloc\" feature because every cache instance can "
"have its \"io_alloc\" bitmask configured independently via \"io_alloc_cbm\"."
msgstr ""

#: ../../../filesystems/resctrl.rst:112
msgid "\"bit_usage\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:113
msgid ""
"Annotated capacity bitmasks showing how all instances of the resource are "
"used. The legend is:"
msgstr ""

#: ../../../filesystems/resctrl.rst:116 ../../../filesystems/resctrl.rst:147
#: ../../../filesystems/resctrl.rst:470
msgid "\"0\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:117
msgid ""
"Corresponding region is unused. When the system's resources have been "
"allocated and a \"0\" is found in \"bit_usage\" it is a sign that resources "
"are wasted."
msgstr ""

#: ../../../filesystems/resctrl.rst:122
msgid "\"H\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:123
msgid ""
"Corresponding region is used by hardware only but available for software "
"use. If a resource has bits set in \"shareable_bits\" or \"io_alloc_cbm\" "
"but not all of these bits appear in the resource groups' schemata then the "
"bits appearing in \"shareable_bits\" or \"io_alloc_cbm\" but no resource "
"group will be marked as \"H\"."
msgstr ""

#: ../../../filesystems/resctrl.rst:130
msgid "\"X\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:131
msgid ""
"Corresponding region is available for sharing and used by hardware and "
"software. These are the bits that appear in \"shareable_bits\" or "
"\"io_alloc_cbm\" as well as a resource group's allocation."
msgstr ""

#: ../../../filesystems/resctrl.rst:135
msgid "\"S\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:136
msgid "Corresponding region is used by software and available for sharing."
msgstr ""

#: ../../../filesystems/resctrl.rst:138
msgid "\"E\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:139
msgid ""
"Corresponding region is used exclusively by one resource group. No sharing "
"allowed."
msgstr ""

#: ../../../filesystems/resctrl.rst:141
msgid "\"P\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:142
msgid "Corresponding region is pseudo-locked. No sharing allowed."
msgstr ""

#: ../../../filesystems/resctrl.rst:144
msgid "\"sparse_masks\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:145
msgid "Indicates if non-contiguous 1s value in CBM is supported."
msgstr ""

#: ../../../filesystems/resctrl.rst:148
msgid "Only contiguous 1s value in CBM is supported."
msgstr ""

#: ../../../filesystems/resctrl.rst:149 ../../../filesystems/resctrl.rst:472
msgid "\"1\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:150
msgid "Non-contiguous 1s value in CBM is supported."
msgstr ""

#: ../../../filesystems/resctrl.rst:152
msgid "\"io_alloc\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:153
msgid ""
"\"io_alloc\" enables system software to configure the portion of the cache "
"allocated for I/O traffic. File may only exist if the system supports this "
"feature on some of its cache resources."
msgstr ""

#: ../../../filesystems/resctrl.rst:157
msgid "\"disabled\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:158
msgid ""
"Resource supports \"io_alloc\" but the feature is disabled. Portions of "
"cache used for allocation of I/O traffic cannot be configured."
msgstr ""

#: ../../../filesystems/resctrl.rst:161
msgid "\"enabled\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:162
msgid ""
"Portions of cache used for allocation of I/O traffic can be configured using "
"\"io_alloc_cbm\"."
msgstr ""

#: ../../../filesystems/resctrl.rst:164
msgid "\"not supported\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:165
msgid "Support not available for this resource."
msgstr ""

#: ../../../filesystems/resctrl.rst:167
msgid "The feature can be modified by writing to the interface, for example:"
msgstr ""

#: ../../../filesystems/resctrl.rst:169
msgid "To enable::"
msgstr ""

#: ../../../filesystems/resctrl.rst:173
msgid "To disable::"
msgstr ""

#: ../../../filesystems/resctrl.rst:177
msgid ""
"The underlying implementation may reduce resources available to general "
"(CPU) cache allocation. See architecture specific notes below. Depending on "
"usage requirements the feature can be enabled or disabled."
msgstr ""

#: ../../../filesystems/resctrl.rst:182
msgid ""
"On AMD systems, io_alloc feature is supported by the L3 Smart Data Cache "
"Injection Allocation Enforcement (SDCIAE). The CLOSID for io_alloc is the "
"highest CLOSID supported by the resource. When io_alloc is enabled, the "
"highest CLOSID is dedicated to io_alloc and no longer available for general "
"(CPU) cache allocation. When CDP is enabled, io_alloc routes I/O traffic "
"using the highest CLOSID allocated for the instruction cache (CDP_CODE), "
"making this CLOSID no longer available for general (CPU) cache allocation "
"for both the CDP_CODE and CDP_DATA resources."
msgstr ""

#: ../../../filesystems/resctrl.rst:192
msgid "\"io_alloc_cbm\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:193
msgid ""
"Capacity bitmasks that describe the portions of cache instances to which I/O "
"traffic from supported I/O devices are routed when \"io_alloc\" is enabled."
msgstr ""

#: ../../../filesystems/resctrl.rst:197
msgid "CBMs are displayed in the following format:"
msgstr ""

#: ../../../filesystems/resctrl.rst:199
msgid "<cache_id0>=<cbm>;<cache_id1>=<cbm>;..."
msgstr ""

#: ../../../filesystems/resctrl.rst:201 ../../../filesystems/resctrl.rst:208
#: ../../../filesystems/resctrl.rst:475
msgid "Example::"
msgstr ""

#: ../../../filesystems/resctrl.rst:206
msgid "CBMs can be configured by writing to the interface."
msgstr ""

#: ../../../filesystems/resctrl.rst:218
msgid ""
"When CDP is enabled \"io_alloc_cbm\" associated with the CDP_DATA and "
"CDP_CODE resources may reflect the same values. For example, values read "
"from and written to /sys/fs/resctrl/info/L3DATA/io_alloc_cbm may be "
"reflected by /sys/fs/resctrl/info/L3CODE/io_alloc_cbm and vice versa."
msgstr ""

#: ../../../filesystems/resctrl.rst:223
msgid ""
"Memory bandwidth(MB) subdirectory contains the following files with respect "
"to allocation:"
msgstr ""

#: ../../../filesystems/resctrl.rst:226
msgid "\"min_bandwidth\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:227
msgid "The minimum memory bandwidth percentage which user can request."
msgstr ""

#: ../../../filesystems/resctrl.rst:230
msgid "\"bandwidth_gran\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:231
msgid ""
"The granularity in which the memory bandwidth percentage is allocated. The "
"allocated b/w percentage is rounded off to the next control step available "
"on the hardware. The available bandwidth control steps are: min_bandwidth + "
"N * bandwidth_gran."
msgstr ""

#: ../../../filesystems/resctrl.rst:238
msgid "\"delay_linear\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:239
msgid ""
"Indicates if the delay scale is linear or non-linear. This field is purely "
"informational only."
msgstr ""

#: ../../../filesystems/resctrl.rst:243
msgid "\"thread_throttle_mode\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:244
msgid ""
"Indicator on Intel systems of how tasks running on threads of a physical "
"core are throttled in cases where they request different memory bandwidth "
"percentages:"
msgstr ""

#: ../../../filesystems/resctrl.rst:248
msgid "\"max\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:249
msgid "the smallest percentage is applied to all threads"
msgstr ""

#: ../../../filesystems/resctrl.rst:251
msgid "\"per-thread\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:252
msgid ""
"bandwidth percentages are directly applied to the threads running on the core"
msgstr ""

#: ../../../filesystems/resctrl.rst:255
msgid ""
"If L3 monitoring is available there will be an \"L3_MON\" directory with the "
"following files:"
msgstr ""

#: ../../../filesystems/resctrl.rst:258 ../../../filesystems/resctrl.rst:489
msgid "\"num_rmids\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:259
msgid "The number of RMIDs supported by hardware for L3 monitoring events."
msgstr ""

#: ../../../filesystems/resctrl.rst:262 ../../../filesystems/resctrl.rst:498
msgid "\"mon_features\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:263
msgid ""
"Lists the monitoring events if monitoring is enabled for the resource. "
"Example::"
msgstr ""

#: ../../../filesystems/resctrl.rst:272
msgid ""
"If the system supports Bandwidth Monitoring Event Configuration (BMEC), then "
"the bandwidth events will be configurable. The output will be::"
msgstr ""

#: ../../../filesystems/resctrl.rst:283
msgid "\"mbm_total_bytes_config\", \"mbm_local_bytes_config\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:284
msgid ""
"Read/write files containing the configuration for the mbm_total_bytes and "
"mbm_local_bytes events, respectively, when the Bandwidth Monitoring Event "
"Configuration (BMEC) feature is supported. The event configuration settings "
"are domain specific and affect all the CPUs in the domain. When either event "
"configuration is changed, the bandwidth counters for all RMIDs of both "
"events (mbm_total_bytes as well as mbm_local_bytes) are cleared for that "
"domain. The next read for every RMID will report \"Unavailable\" and "
"subsequent reads will report the valid value."
msgstr ""

#: ../../../filesystems/resctrl.rst:294
msgid "Following are the types of events supported:"
msgstr ""

#: ../../../filesystems/resctrl.rst:297
msgid "Bits"
msgstr ""

#: ../../../filesystems/resctrl.rst:297 ../../../filesystems/resctrl.rst:429
msgid "Description"
msgstr ""

#: ../../../filesystems/resctrl.rst:299 ../../../filesystems/resctrl.rst:1913
msgid "6"
msgstr ""

#: ../../../filesystems/resctrl.rst:299 ../../../filesystems/resctrl.rst:431
msgid "Dirty Victims from the QOS domain to all types of memory"
msgstr ""

#: ../../../filesystems/resctrl.rst:300
msgid "5"
msgstr ""

#: ../../../filesystems/resctrl.rst:300 ../../../filesystems/resctrl.rst:432
msgid "Reads to slow memory in the non-local NUMA domain"
msgstr ""

#: ../../../filesystems/resctrl.rst:301 ../../../filesystems/resctrl.rst:1911
msgid "4"
msgstr ""

#: ../../../filesystems/resctrl.rst:301 ../../../filesystems/resctrl.rst:433
msgid "Reads to slow memory in the local NUMA domain"
msgstr ""

#: ../../../filesystems/resctrl.rst:302 ../../../filesystems/resctrl.rst:1909
msgid "3"
msgstr ""

#: ../../../filesystems/resctrl.rst:302 ../../../filesystems/resctrl.rst:434
msgid "Non-temporal writes to non-local NUMA domain"
msgstr ""

#: ../../../filesystems/resctrl.rst:303 ../../../filesystems/resctrl.rst:1907
msgid "2"
msgstr ""

#: ../../../filesystems/resctrl.rst:303 ../../../filesystems/resctrl.rst:435
msgid "Non-temporal writes to local NUMA domain"
msgstr ""

#: ../../../filesystems/resctrl.rst:304 ../../../filesystems/resctrl.rst:1905
msgid "1"
msgstr ""

#: ../../../filesystems/resctrl.rst:304 ../../../filesystems/resctrl.rst:436
msgid "Reads to memory in the non-local NUMA domain"
msgstr ""

#: ../../../filesystems/resctrl.rst:305 ../../../filesystems/resctrl.rst:1905
#: ../../../filesystems/resctrl.rst:1907 ../../../filesystems/resctrl.rst:1911
#: ../../../filesystems/resctrl.rst:1917 ../../../filesystems/resctrl.rst:1925
#: ../../../filesystems/resctrl.rst:1933 ../../../filesystems/resctrl.rst:1939
#: ../../../filesystems/resctrl.rst:1943 ../../../filesystems/resctrl.rst:1947
#: ../../../filesystems/resctrl.rst:1955
msgid "0"
msgstr ""

#: ../../../filesystems/resctrl.rst:305 ../../../filesystems/resctrl.rst:437
msgid "Reads to memory in the local NUMA domain"
msgstr ""

#: ../../../filesystems/resctrl.rst:308
msgid ""
"By default, the mbm_total_bytes configuration is set to 0x7f to count all "
"the event types and the mbm_local_bytes configuration is set to 0x15 to "
"count all the local memory events."
msgstr ""

#: ../../../filesystems/resctrl.rst:312 ../../../filesystems/resctrl.rst:692
msgid "Examples:"
msgstr ""

#: ../../../filesystems/resctrl.rst:314
msgid "To view the current configuration:: ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:323
msgid ""
"To change the mbm_total_bytes to count only reads on domain 0, the bits 0, "
"1, 4 and 5 needs to be set, which is 110011b in binary (in hexadecimal "
"0x33): ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:333
msgid ""
"To change the mbm_local_bytes to count all the slow memory reads on domain 0 "
"and 1, the bits 4 and 5 needs to be set, which is 110000b in binary (in "
"hexadecimal 0x30): ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:343
msgid "\"mbm_assign_mode\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:344
msgid ""
"The supported counter assignment modes. The enclosed brackets indicate which "
"mode is enabled. The MBM events associated with counters may reset when "
"\"mbm_assign_mode\" is changed. ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:353
msgid "\"mbm_event\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:355
msgid ""
"mbm_event mode allows users to assign a hardware counter to an RMID, event "
"pair and monitor the bandwidth usage as long as it is assigned. The hardware "
"continues to track the assigned counter until it is explicitly unassigned by "
"the user. Each event within a resctrl group can be assigned independently."
msgstr ""

#: ../../../filesystems/resctrl.rst:360
msgid ""
"In this mode, a monitoring event can only accumulate data while it is backed "
"by a hardware counter. Use \"mbm_L3_assignments\" found in each CTRL_MON and "
"MON group to specify which of the events should have a counter assigned. The "
"number of counters available is described in the \"num_mbm_cntrs\" file. "
"Changing the mode may cause all counters on the resource to reset."
msgstr ""

#: ../../../filesystems/resctrl.rst:366
msgid ""
"Moving to mbm_event counter assignment mode requires users to assign the "
"counters to the events. Otherwise, the MBM event counters will return "
"'Unassigned' when read."
msgstr ""

#: ../../../filesystems/resctrl.rst:369
msgid ""
"The mode is beneficial for AMD platforms that support more CTRL_MON and MON "
"groups than available hardware counters. By default, this feature is enabled "
"on AMD platforms with the ABMC (Assignable Bandwidth Monitoring Counters) "
"capability, ensuring counters remain assigned even when the corresponding "
"RMID is not actively used by any processor."
msgstr ""

#: ../../../filesystems/resctrl.rst:375
msgid "\"default\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:377
msgid ""
"In default mode, resctrl assumes there is a hardware counter for each event "
"within every CTRL_MON and MON group. On AMD platforms, it is recommended to "
"use the mbm_event mode, if supported, to prevent reset of MBM events between "
"reads resulting from hardware re-allocating counters. This can result in "
"misleading values or display \"Unavailable\" if no counter is assigned to "
"the event."
msgstr ""

#: ../../../filesystems/resctrl.rst:384
msgid "To enable \"mbm_event\" counter assignment mode: ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:389
msgid "To enable \"default\" monitoring mode: ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:394
msgid "\"num_mbm_cntrs\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:395
msgid ""
"The maximum number of counters (total of available and assigned counters) in "
"each domain when the system supports mbm_event mode."
msgstr ""

#: ../../../filesystems/resctrl.rst:398
msgid ""
"For example, on a system with maximum of 32 memory bandwidth monitoring "
"counters in each of its L3 domains: ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:405
msgid "\"available_mbm_cntrs\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:406
msgid ""
"The number of counters available for assignment in each domain when "
"mbm_event mode is enabled on the system."
msgstr ""

#: ../../../filesystems/resctrl.rst:409
msgid ""
"For example, on a system with 30 available [hardware] assignable counters in "
"each of its L3 domains: ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:416
msgid "\"event_configs\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:417
msgid ""
"Directory that exists when \"mbm_event\" counter assignment mode is "
"supported. Contains a sub-directory for each MBM event that can be assigned "
"to a counter."
msgstr ""

#: ../../../filesystems/resctrl.rst:420
msgid ""
"Two MBM events are supported by default: mbm_local_bytes and "
"mbm_total_bytes. Each MBM event's sub-directory contains a file named "
"\"event_filter\" that is used to view and modify which memory transactions "
"the MBM event is configured with. The file is accessible only when "
"\"mbm_event\" counter assignment mode is enabled."
msgstr ""

#: ../../../filesystems/resctrl.rst:426
msgid "List of memory transaction types supported:"
msgstr ""

#: ../../../filesystems/resctrl.rst:429
msgid "Name"
msgstr ""

#: ../../../filesystems/resctrl.rst:431
msgid "dirty_victim_writes_all"
msgstr ""

#: ../../../filesystems/resctrl.rst:432
msgid "remote_reads_slow_memory"
msgstr ""

#: ../../../filesystems/resctrl.rst:433
msgid "local_reads_slow_memory"
msgstr ""

#: ../../../filesystems/resctrl.rst:434
msgid "remote_non_temporal_writes"
msgstr ""

#: ../../../filesystems/resctrl.rst:435
msgid "local_non_temporal_writes"
msgstr ""

#: ../../../filesystems/resctrl.rst:436
msgid "remote_reads"
msgstr ""

#: ../../../filesystems/resctrl.rst:437
msgid "local_reads"
msgstr ""

#: ../../../filesystems/resctrl.rst:440 ../../../filesystems/resctrl.rst:453
msgid "For example::"
msgstr ""

#: ../../../filesystems/resctrl.rst:449
msgid ""
"Modify the event configuration by writing to the \"event_filter\" file "
"within the \"event_configs\" directory. The read/write \"event_filter\" file "
"contains the configuration of the event that reflects which memory "
"transactions are counted by it."
msgstr ""

#: ../../../filesystems/resctrl.rst:461
msgid "\"mbm_assign_on_mkdir\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:462
msgid ""
"Exists when \"mbm_event\" counter assignment mode is supported. Accessible "
"only when \"mbm_event\" counter assignment mode is enabled."
msgstr ""

#: ../../../filesystems/resctrl.rst:465
msgid ""
"Determines if a counter will automatically be assigned to an RMID, MBM event "
"pair when its associated monitor group is created via mkdir. Enabled by "
"default on boot, also when switched from \"default\" mode to \"mbm_event\" "
"counter assignment mode. Users can disable this capability by writing to the "
"interface."
msgstr ""

#: ../../../filesystems/resctrl.rst:471
msgid "Auto assignment is disabled."
msgstr ""

#: ../../../filesystems/resctrl.rst:473
msgid "Auto assignment is enabled."
msgstr ""

#: ../../../filesystems/resctrl.rst:481
msgid "\"max_threshold_occupancy\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:482
msgid ""
"Read/write file provides the largest value (in bytes) at which a previously "
"used LLC_occupancy counter can be considered for reuse."
msgstr ""

#: ../../../filesystems/resctrl.rst:486
msgid ""
"If telemetry monitoring is available there will be a \"PERF_PKG_MON\" "
"directory with the following files:"
msgstr ""

#: ../../../filesystems/resctrl.rst:490
msgid "The number of RMIDs for telemetry monitoring events."
msgstr ""

#: ../../../filesystems/resctrl.rst:492
msgid ""
"On Intel resctrl will not enable telemetry events if the number of RMIDs "
"that can be tracked concurrently is lower than the total number of RMIDs "
"supported. Telemetry events can be force-enabled with the \"rdt=\" kernel "
"parameter, but this may reduce the number of monitoring groups that can be "
"created."
msgstr ""

#: ../../../filesystems/resctrl.rst:499
msgid "Lists the telemetry monitoring events that are enabled on this system."
msgstr ""

#: ../../../filesystems/resctrl.rst:501
msgid ""
"The upper bound for how many \"CTRL_MON\" + \"MON\" can be created is the "
"smaller of the L3_MON and PERF_PKG_MON \"num_rmids\" values."
msgstr ""

#: ../../../filesystems/resctrl.rst:504
msgid ""
"Finally, in the top level of the \"info\" directory there is a file named "
"\"last_cmd_status\". This is reset with every \"command\" issued via the "
"file system (making new directories or writing to any of the control files). "
"If the command was successful, it will read as \"ok\". If the command "
"failed, it will provide more information that can be conveyed in the error "
"returns from file operations. E.g. ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:518
msgid "Resource alloc and monitor groups"
msgstr ""

#: ../../../filesystems/resctrl.rst:520
msgid ""
"Resource groups are represented as directories in the resctrl file system.  "
"The default group is the root directory which, immediately after mounting, "
"owns all the tasks and cpus in the system and can make full use of all "
"resources."
msgstr ""

#: ../../../filesystems/resctrl.rst:525
msgid ""
"On a system with RDT control features additional directories can be created "
"in the root directory that specify different amounts of each resource (see "
"\"schemata\" below). The root and these additional top level directories are "
"referred to as \"CTRL_MON\" groups below."
msgstr ""

#: ../../../filesystems/resctrl.rst:530
msgid ""
"On a system with RDT monitoring the root directory and other top level "
"directories contain a directory named \"mon_groups\" in which additional "
"directories can be created to monitor subsets of tasks in the CTRL_MON group "
"that is their ancestor. These are called \"MON\" groups in the rest of this "
"document."
msgstr ""

#: ../../../filesystems/resctrl.rst:536
msgid ""
"Removing a directory will move all tasks and cpus owned by the group it "
"represents to the parent. Removing one of the created CTRL_MON groups will "
"automatically remove all MON groups below it."
msgstr ""

#: ../../../filesystems/resctrl.rst:540
msgid ""
"Moving MON group directories to a new parent CTRL_MON group is supported for "
"the purpose of changing the resource allocations of a MON group without "
"impacting its monitoring data or assigned tasks. This operation is not "
"allowed for MON groups which monitor CPUs. No other move operation is "
"currently allowed other than simply renaming a CTRL_MON or MON group."
msgstr ""

#: ../../../filesystems/resctrl.rst:547
msgid "All groups contain the following files:"
msgstr ""

#: ../../../filesystems/resctrl.rst:549
msgid "\"tasks\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:550
msgid ""
"Reading this file shows the list of all tasks that belong to this group. "
"Writing a task id to the file will add a task to the group. Multiple tasks "
"can be added by separating the task ids with commas. Tasks will be assigned "
"sequentially. Multiple failures are not supported. A single failure "
"encountered while attempting to assign a task will cause the operation to "
"abort and already added tasks before the failure will remain in the group. "
"Failures will be logged to /sys/fs/resctrl/info/last_cmd_status."
msgstr ""

#: ../../../filesystems/resctrl.rst:559
msgid ""
"If the group is a CTRL_MON group the task is removed from whichever previous "
"CTRL_MON group owned the task and also from any MON group that owned the "
"task. If the group is a MON group, then the task must already belong to the "
"CTRL_MON parent of this group. The task is removed from any previous MON "
"group."
msgstr ""

#: ../../../filesystems/resctrl.rst:566
msgid "\"cpus\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:567
msgid ""
"Reading this file shows a bitmask of the logical CPUs owned by this group. "
"Writing a mask to this file will add and remove CPUs to/from this group. As "
"with the tasks file a hierarchy is maintained where MON groups may only "
"include CPUs owned by the parent CTRL_MON group. When the resource group is "
"in pseudo-locked mode this file will only be readable, reflecting the CPUs "
"associated with the pseudo-locked region."
msgstr ""

#: ../../../filesystems/resctrl.rst:577
msgid "\"cpus_list\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:578
msgid "Just like \"cpus\", only using ranges of CPUs instead of bitmasks."
msgstr ""

#: ../../../filesystems/resctrl.rst:581
msgid "When control is enabled all CTRL_MON groups will also contain:"
msgstr ""

#: ../../../filesystems/resctrl.rst:583
msgid "\"schemata\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:584
msgid ""
"A list of all the resources available to this group. Each resource has its "
"own line and format - see below for details."
msgstr ""

#: ../../../filesystems/resctrl.rst:587
msgid "\"size\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:588
msgid ""
"Mirrors the display of the \"schemata\" file to display the size in bytes of "
"each allocation instead of the bits representing the allocation."
msgstr ""

#: ../../../filesystems/resctrl.rst:592
msgid "\"mode\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:593
msgid ""
"The \"mode\" of the resource group dictates the sharing of its allocations. "
"A \"shareable\" resource group allows sharing of its allocations while an "
"\"exclusive\" resource group does not. A cache pseudo-locked region is "
"created by first writing \"pseudo-locksetup\" to the \"mode\" file before "
"writing the cache pseudo-locked region's schemata to the resource group's "
"\"schemata\" file. On successful pseudo-locked region creation the mode will "
"automatically change to \"pseudo-locked\"."
msgstr ""

#: ../../../filesystems/resctrl.rst:602
msgid "\"ctrl_hw_id\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:603
msgid ""
"Available only with debug option. The identifier used by hardware for the "
"control group. On x86 this is the CLOSID."
msgstr ""

#: ../../../filesystems/resctrl.rst:606
msgid "When monitoring is enabled all MON groups will also contain:"
msgstr ""

#: ../../../filesystems/resctrl.rst:608
msgid "\"mon_data\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:609
msgid "This contains directories for each monitor domain."
msgstr ""

#: ../../../filesystems/resctrl.rst:611
msgid ""
"If L3 monitoring is enabled, there will be a \"mon_L3_XX\" directory for "
"each instance of an L3 cache. Each directory contains files for the enabled "
"L3 events (e.g. \"llc_occupancy\", \"mbm_total_bytes\", and "
"\"mbm_local_bytes\")."
msgstr ""

#: ../../../filesystems/resctrl.rst:615
msgid ""
"If telemetry monitoring is enabled, there will be a \"mon_PERF_PKG_YY\" "
"directory for each physical processor package. Each directory contains files "
"for the enabled telemetry events (e.g. \"core_energy\". \"activity\", "
"\"uops_retired\", etc.)"
msgstr ""

#: ../../../filesystems/resctrl.rst:620
msgid ""
"The info/`*`/mon_features files provide the full list of enabled event/file "
"names."
msgstr ""

#: ../../../filesystems/resctrl.rst:623
msgid ""
"\"core energy\" reports a floating point number for the energy (in Joules) "
"consumed by cores (registers, arithmetic units, TLB and L1/L2 caches) during "
"execution of instructions summed across all logical CPUs on a package for "
"the current monitoring group."
msgstr ""

#: ../../../filesystems/resctrl.rst:628
msgid ""
"\"activity\" also reports a floating point value (in Farads).  This provides "
"an estimate of work done independent of the frequency that the CPUs used for "
"execution."
msgstr ""

#: ../../../filesystems/resctrl.rst:632
msgid ""
"Note that \"core energy\" and \"activity\" only measure energy/activity in "
"the \"core\" of the CPU (arithmetic units, TLB, L1 and L2 caches, etc.). "
"They do not include L3 cache, memory, I/O devices etc."
msgstr ""

#: ../../../filesystems/resctrl.rst:636
msgid "All other events report decimal integer values."
msgstr ""

#: ../../../filesystems/resctrl.rst:638
msgid ""
"In a MON group these files provide a read out of the current value of the "
"event for all tasks in the group. In CTRL_MON groups these files provide the "
"sum for all tasks in the CTRL_MON group and all tasks in MON groups. Please "
"see example section for more details on usage."
msgstr ""

#: ../../../filesystems/resctrl.rst:643
msgid ""
"On systems with Sub-NUMA Cluster (SNC) enabled there are extra directories "
"for each node (located within the \"mon_L3_XX\" directory for the L3 cache "
"they occupy). These are named \"mon_sub_L3_YY\" where \"YY\" is the node "
"number."
msgstr ""

#: ../../../filesystems/resctrl.rst:648
msgid ""
"When the 'mbm_event' counter assignment mode is enabled, reading an MBM "
"event of a MON group returns 'Unassigned' if no hardware counter is assigned "
"to it. For CTRL_MON groups, 'Unassigned' is returned if the MBM event does "
"not have an assigned counter in the CTRL_MON group nor in any of its "
"associated MON groups."
msgstr ""

#: ../../../filesystems/resctrl.rst:654
msgid "\"mon_hw_id\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:655
msgid ""
"Available only with debug option. The identifier used by hardware for the "
"monitor group. On x86 this is the RMID."
msgstr ""

#: ../../../filesystems/resctrl.rst:658
msgid "When monitoring is enabled all MON groups may also contain:"
msgstr ""

#: ../../../filesystems/resctrl.rst:660
msgid "\"mbm_L3_assignments\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:661
msgid ""
"Exists when \"mbm_event\" counter assignment mode is supported and lists the "
"counter assignment states of the group."
msgstr ""

#: ../../../filesystems/resctrl.rst:664
msgid "The assignment list is displayed in the following format:"
msgstr ""

#: ../../../filesystems/resctrl.rst:666
msgid "<Event>:<Domain ID>=<Assignment state>;<Domain ID>=<Assignment state>"
msgstr ""

#: ../../../filesystems/resctrl.rst:668
msgid "Event: A valid MBM event in the"
msgstr ""

#: ../../../filesystems/resctrl.rst:669
msgid "/sys/fs/resctrl/info/L3_MON/event_configs directory."
msgstr ""

#: ../../../filesystems/resctrl.rst:671
msgid "Domain ID: A valid domain ID. When writing, '*' applies the changes"
msgstr ""

#: ../../../filesystems/resctrl.rst:672
msgid "to all the domains."
msgstr ""

#: ../../../filesystems/resctrl.rst:674
msgid "Assignment states:"
msgstr ""

#: ../../../filesystems/resctrl.rst:676
msgid "_ : No counter assigned."
msgstr ""

#: ../../../filesystems/resctrl.rst:678
msgid "e : Counter assigned exclusively."
msgstr ""

#: ../../../filesystems/resctrl.rst:680
msgid "Example:"
msgstr ""

#: ../../../filesystems/resctrl.rst:682
msgid "To display the counter assignment states for the default group. ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:690
msgid "Assignments can be modified by writing to the interface."
msgstr ""

#: ../../../filesystems/resctrl.rst:694
msgid ""
"To unassign the counter associated with the mbm_total_bytes event on domain "
"0: ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:702
msgid ""
"To unassign the counter associated with the mbm_total_bytes event on all the "
"domains: ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:710
msgid ""
"To assign a counter associated with the mbm_total_bytes event on all domains "
"in exclusive mode: ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:719
msgid ""
"When the \"mba_MBps\" mount option is used all CTRL_MON groups will also "
"contain:"
msgstr ""

#: ../../../filesystems/resctrl.rst:721
msgid "\"mba_MBps_event\":"
msgstr ""

#: ../../../filesystems/resctrl.rst:722
msgid ""
"Reading this file shows which memory bandwidth event is used as input to the "
"software feedback loop that keeps memory bandwidth below the value specified "
"in the schemata file. Writing the name of one of the supported memory "
"bandwidth events found in /sys/fs/resctrl/info/L3_MON/mon_features changes "
"the input event."
msgstr ""

#: ../../../filesystems/resctrl.rst:730
msgid "Resource allocation rules"
msgstr ""

#: ../../../filesystems/resctrl.rst:732
msgid ""
"When a task is running the following rules define which resources are "
"available to it:"
msgstr ""

#: ../../../filesystems/resctrl.rst:735
msgid ""
"If the task is a member of a non-default group, then the schemata for that "
"group is used."
msgstr ""

#: ../../../filesystems/resctrl.rst:738
msgid ""
"Else if the task belongs to the default group, but is running on a CPU that "
"is assigned to some specific group, then the schemata for the CPU's group is "
"used."
msgstr ""

#: ../../../filesystems/resctrl.rst:742
msgid "Otherwise the schemata for the default group is used."
msgstr ""

#: ../../../filesystems/resctrl.rst:745
msgid "Resource monitoring rules"
msgstr ""

#: ../../../filesystems/resctrl.rst:746
msgid ""
"If a task is a member of a MON group, or non-default CTRL_MON group then RDT "
"events for the task will be reported in that group."
msgstr ""

#: ../../../filesystems/resctrl.rst:749
msgid ""
"If a task is a member of the default CTRL_MON group, but is running on a CPU "
"that is assigned to some specific group, then the RDT events for the task "
"will be reported in that group."
msgstr ""

#: ../../../filesystems/resctrl.rst:753
msgid ""
"Otherwise RDT events for the task will be reported in the root level "
"\"mon_data\" group."
msgstr ""

#: ../../../filesystems/resctrl.rst:758
msgid "Notes on cache occupancy monitoring and control"
msgstr ""

#: ../../../filesystems/resctrl.rst:759
msgid ""
"When moving a task from one group to another you should remember that this "
"only affects *new* cache allocations by the task. E.g. you may have a task "
"in a monitor group showing 3 MB of cache occupancy. If you move to a new "
"group and immediately check the occupancy of the old and new groups you will "
"likely see that the old group is still showing 3 MB and the new group zero. "
"When the task accesses locations still in cache from before the move, the h/"
"w does not update any counters. On a busy system you will likely see the "
"occupancy in the old group go down as cache lines are evicted and re-used "
"while the occupancy in the new group rises as the task accesses memory and "
"loads into the cache are counted based on membership in the new group."
msgstr ""

#: ../../../filesystems/resctrl.rst:771
msgid ""
"The same applies to cache allocation control. Moving a task to a group with "
"a smaller cache partition will not evict any cache lines. The process may "
"continue to use them from the old partition."
msgstr ""

#: ../../../filesystems/resctrl.rst:775
msgid ""
"Hardware uses CLOSid(Class of service ID) and an RMID(Resource monitoring "
"ID) to identify a control group and a monitoring group respectively. Each of "
"the resource groups are mapped to these IDs based on the kind of group. The "
"number of CLOSid and RMID are limited by the hardware and hence the creation "
"of a \"CTRL_MON\" directory may fail if we run out of either CLOSID or RMID "
"and creation of \"MON\" group may fail if we run out of RMIDs."
msgstr ""

#: ../../../filesystems/resctrl.rst:783
msgid "max_threshold_occupancy - generic concepts"
msgstr ""

#: ../../../filesystems/resctrl.rst:785
msgid ""
"Note that an RMID once freed may not be immediately available for use as the "
"RMID is still tagged the cache lines of the previous user of RMID. Hence "
"such RMIDs are placed on limbo list and checked back if the cache occupancy "
"has gone down. If there is a time when system has a lot of limbo RMIDs but "
"which are not ready to be used, user may see an -EBUSY during mkdir."
msgstr ""

#: ../../../filesystems/resctrl.rst:792
msgid ""
"max_threshold_occupancy is a user configurable value to determine the "
"occupancy at which an RMID can be freed."
msgstr ""

#: ../../../filesystems/resctrl.rst:795
msgid ""
"The mon_llc_occupancy_limbo tracepoint gives the precise occupancy in bytes "
"for a subset of RMID that are not immediately available for allocation. This "
"can't be relied on to produce output every second, it may be necessary to "
"attempt to create an empty monitor group to force an update. Output may only "
"be produced if creation of a control or monitor group fails."
msgstr ""

#: ../../../filesystems/resctrl.rst:802
msgid "Schemata files - general concepts"
msgstr ""

#: ../../../filesystems/resctrl.rst:803
msgid ""
"Each line in the file describes one resource. The line starts with the name "
"of the resource, followed by specific values to be applied in each of the "
"instances of that resource on the system."
msgstr ""

#: ../../../filesystems/resctrl.rst:808
msgid "Cache IDs"
msgstr ""

#: ../../../filesystems/resctrl.rst:809
msgid ""
"On current generation systems there is one L3 cache per socket and L2 caches "
"are generally just shared by the hyperthreads on a core, but this isn't an "
"architectural requirement. We could have multiple separate L3 caches on a "
"socket, multiple cores could share an L2 cache. So instead of using "
"\"socket\" or \"core\" to define the set of logical cpus sharing a resource "
"we use a \"Cache ID\". At a given cache level this will be a unique number "
"across the whole system (but it isn't guaranteed to be a contiguous "
"sequence, there may be gaps).  To find the ID for each logical CPU look in /"
"sys/devices/system/cpu/cpu*/cache/index*/id"
msgstr ""

#: ../../../filesystems/resctrl.rst:820
msgid "Cache Bit Masks (CBM)"
msgstr ""

#: ../../../filesystems/resctrl.rst:821
msgid ""
"For cache resources we describe the portion of the cache that is available "
"for allocation using a bitmask. The maximum value of the mask is defined by "
"each cpu model (and may be different for different cache levels). It is "
"found using CPUID, but is also provided in the \"info\" directory of the "
"resctrl file system in \"info/{resource}/cbm_mask\". Some Intel hardware "
"requires that these masks have all the '1' bits in a contiguous block. So "
"0x3, 0x6 and 0xC are legal 4-bit masks with two bits set, but 0x5, 0x9 and "
"0xA are not. Check /sys/fs/resctrl/info/{resource}/sparse_masks if non-"
"contiguous 1s value is supported. On a system with a 20-bit mask each bit "
"represents 5% of the capacity of the cache. You could partition the cache "
"into four equal parts with masks: 0x1f, 0x3e0, 0x7c00, 0xf8000."
msgstr ""

#: ../../../filesystems/resctrl.rst:834
msgid "Notes on Sub-NUMA Cluster mode"
msgstr ""

#: ../../../filesystems/resctrl.rst:835
msgid ""
"When SNC mode is enabled, Linux may load balance tasks between Sub-NUMA "
"nodes much more readily than between regular NUMA nodes since the CPUs on "
"Sub-NUMA nodes share the same L3 cache and the system may report the NUMA "
"distance between Sub-NUMA nodes with a lower value than used for regular "
"NUMA nodes."
msgstr ""

#: ../../../filesystems/resctrl.rst:841
msgid ""
"The top-level monitoring files in each \"mon_L3_XX\" directory provide the "
"sum of data across all SNC nodes sharing an L3 cache instance. Users who "
"bind tasks to the CPUs of a specific Sub-NUMA node can read the "
"\"llc_occupancy\", \"mbm_total_bytes\", and \"mbm_local_bytes\" in the "
"\"mon_sub_L3_YY\" directories to get node local data."
msgstr ""

#: ../../../filesystems/resctrl.rst:847
msgid ""
"Memory bandwidth allocation is still performed at the L3 cache level. I.e. "
"throttling controls are applied to all SNC nodes."
msgstr ""

#: ../../../filesystems/resctrl.rst:850
msgid ""
"L3 cache allocation bitmaps also apply to all SNC nodes. But note that the "
"amount of L3 cache represented by each bit is divided by the number of SNC "
"nodes per L3 cache. E.g. with a 100MB cache on a system with 10-bit "
"allocation masks each bit normally represents 10MB. With SNC mode enabled "
"with two SNC nodes per L3 cache, each bit only represents 5MB."
msgstr ""

#: ../../../filesystems/resctrl.rst:857
msgid "Memory bandwidth Allocation and monitoring"
msgstr ""

#: ../../../filesystems/resctrl.rst:859
msgid ""
"For Memory bandwidth resource, by default the user controls the resource by "
"indicating the percentage of total memory bandwidth."
msgstr ""

#: ../../../filesystems/resctrl.rst:862
msgid ""
"The minimum bandwidth percentage value for each cpu model is predefined and "
"can be looked up through \"info/MB/min_bandwidth\". The bandwidth "
"granularity that is allocated is also dependent on the cpu model and can be "
"looked up at \"info/MB/bandwidth_gran\". The available bandwidth control "
"steps are: min_bw + N * bw_gran. Intermediate values are rounded to the next "
"control step available on the hardware."
msgstr ""

#: ../../../filesystems/resctrl.rst:869
msgid ""
"The bandwidth throttling is a core specific mechanism on some of Intel SKUs. "
"Using a high bandwidth and a low bandwidth setting on two threads sharing a "
"core may result in both threads being throttled to use the low bandwidth "
"(see \"thread_throttle_mode\")."
msgstr ""

#: ../../../filesystems/resctrl.rst:874
msgid ""
"The fact that Memory bandwidth allocation(MBA) may be a core specific "
"mechanism where as memory bandwidth monitoring(MBM) is done at the package "
"level may lead to confusion when users try to apply control via the MBA and "
"then monitor the bandwidth to see if the controls are effective. Below are "
"such scenarios:"
msgstr ""

#: ../../../filesystems/resctrl.rst:880
msgid ""
"User may *not* see increase in actual bandwidth when percentage values are "
"increased:"
msgstr ""

#: ../../../filesystems/resctrl.rst:883
msgid ""
"This can occur when aggregate L2 external bandwidth is more than L3 external "
"bandwidth. Consider an SKL SKU with 24 cores on a package and where L2 "
"external  is 10GBps (hence aggregate L2 external bandwidth is 240GBps) and "
"L3 external bandwidth is 100GBps. Now a workload with '20 threads, having "
"50% bandwidth, each consuming 5GBps' consumes the max L3 bandwidth of "
"100GBps although the percentage value specified is only 50% << 100%. Hence "
"increasing the bandwidth percentage will not yield any more bandwidth. This "
"is because although the L2 external bandwidth still has capacity, the L3 "
"external bandwidth is fully used. Also note that this would be dependent on "
"number of cores the benchmark is run on."
msgstr ""

#: ../../../filesystems/resctrl.rst:894
msgid ""
"Same bandwidth percentage may mean different actual bandwidth depending on # "
"of threads:"
msgstr ""

#: ../../../filesystems/resctrl.rst:897
msgid ""
"For the same SKU in #1, a 'single thread, with 10% bandwidth' and '4 thread, "
"with 10% bandwidth' can consume up to 10GBps and 40GBps although they have "
"same percentage bandwidth of 10%. This is simply because as threads start "
"using more cores in an rdtgroup, the actual bandwidth may increase or vary "
"although user specified bandwidth percentage is same."
msgstr ""

#: ../../../filesystems/resctrl.rst:903
msgid ""
"In order to mitigate this and make the interface more user friendly, resctrl "
"added support for specifying the bandwidth in MiBps as well.  The kernel "
"underneath would use a software feedback mechanism or a \"Software "
"Controller(mba_sc)\" which reads the actual bandwidth using MBM counters and "
"adjust the memory bandwidth percentages to ensure::"
msgstr ""

#: ../../../filesystems/resctrl.rst:911
msgid ""
"By default, the schemata would take the bandwidth percentage values where as "
"user can switch to the \"MBA software controller\" mode using a mount option "
"'mba_MBps'. The schemata format is specified in the below sections."
msgstr ""

#: ../../../filesystems/resctrl.rst:917
msgid "L3 schemata file details (code and data prioritization disabled)"
msgstr ""

#: ../../../filesystems/resctrl.rst:918
msgid "With CDP disabled the L3 schemata format is::"
msgstr ""

#: ../../../filesystems/resctrl.rst:923
msgid "L3 schemata file details (CDP enabled via mount option to resctrl)"
msgstr ""

#: ../../../filesystems/resctrl.rst:924
msgid ""
"When CDP is enabled L3 control is split into two separate resources so you "
"can specify independent masks for code and data like this::"
msgstr ""

#: ../../../filesystems/resctrl.rst:931
msgid "L2 schemata file details"
msgstr ""

#: ../../../filesystems/resctrl.rst:932
msgid ""
"CDP is supported at L2 using the 'cdpl2' mount option. The schemata format "
"is either::"
msgstr ""

#: ../../../filesystems/resctrl.rst:937
msgid "or"
msgstr ""

#: ../../../filesystems/resctrl.rst:939
msgid ""
"L2DATA:<cache_id0>=<cbm>;<cache_id1>=<cbm>;... L2CODE:<cache_id0>=<cbm>;"
"<cache_id1>=<cbm>;..."
msgstr ""

#: ../../../filesystems/resctrl.rst:944
msgid "Memory bandwidth Allocation (default mode)"
msgstr ""

#: ../../../filesystems/resctrl.rst:946
msgid "Memory b/w domain is L3 cache. ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:952
msgid "Memory bandwidth Allocation specified in MiBps"
msgstr ""

#: ../../../filesystems/resctrl.rst:954
msgid "Memory bandwidth domain is L3 cache. ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:960
msgid "Slow Memory Bandwidth Allocation (SMBA)"
msgstr ""

#: ../../../filesystems/resctrl.rst:961
msgid ""
"AMD hardware supports Slow Memory Bandwidth Allocation (SMBA). CXL.memory is "
"the only supported \"slow\" memory device. With the support of SMBA, the "
"hardware enables bandwidth allocation on the slow memory devices. If there "
"are multiple such devices in the system, the throttling logic groups all the "
"slow sources together and applies the limit on them as a whole."
msgstr ""

#: ../../../filesystems/resctrl.rst:968
msgid ""
"The presence of SMBA (with CXL.memory) is independent of slow memory devices "
"presence. If there are no such devices on the system, then configuring SMBA "
"will have no impact on the performance of the system."
msgstr ""

#: ../../../filesystems/resctrl.rst:972
msgid ""
"The bandwidth domain for slow memory is L3 cache. Its schemata file is "
"formatted as: ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:979
msgid "Reading/writing the schemata file"
msgstr ""

#: ../../../filesystems/resctrl.rst:980
msgid ""
"Reading the schemata file will show the state of all resources on all "
"domains. When writing you only need to specify those values which you wish "
"to change.  E.g. ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:994
msgid "Reading/writing the schemata file (on AMD systems)"
msgstr ""

#: ../../../filesystems/resctrl.rst:995
msgid ""
"Reading the schemata file will show the current bandwidth limit on all "
"domains. The allocated resources are in multiples of one eighth GB/s. When "
"writing to the file, you need to specify what cache id you wish to configure "
"the bandwidth limit."
msgstr ""

#: ../../../filesystems/resctrl.rst:1000
msgid "For example, to allocate 2GB/s limit on the first cache id:"
msgstr ""

#: ../../../filesystems/resctrl.rst:1014
msgid "Reading/writing the schemata file (on AMD systems) with SMBA feature"
msgstr ""

#: ../../../filesystems/resctrl.rst:1015
msgid ""
"Reading and writing the schemata file is the same as without SMBA in above "
"section."
msgstr ""

#: ../../../filesystems/resctrl.rst:1018
msgid "For example, to allocate 8GB/s limit on the first cache id:"
msgstr ""

#: ../../../filesystems/resctrl.rst:1034
msgid "Cache Pseudo-Locking"
msgstr ""

#: ../../../filesystems/resctrl.rst:1035
msgid ""
"CAT enables a user to specify the amount of cache space that an application "
"can fill. Cache pseudo-locking builds on the fact that a CPU can still read "
"and write data pre-allocated outside its current allocated area on a cache "
"hit. With cache pseudo-locking, data can be preloaded into a reserved "
"portion of cache that no application can fill, and from that point on will "
"only serve cache hits. The cache pseudo-locked memory is made accessible to "
"user space where an application can map it into its virtual address space "
"and thus have a region of memory with reduced average read latency."
msgstr ""

#: ../../../filesystems/resctrl.rst:1045
msgid ""
"The creation of a cache pseudo-locked region is triggered by a request from "
"the user to do so that is accompanied by a schemata of the region to be "
"pseudo-locked. The cache pseudo-locked region is created as follows:"
msgstr ""

#: ../../../filesystems/resctrl.rst:1049
msgid ""
"Create a CAT allocation CLOSNEW with a CBM matching the schemata from the "
"user of the cache region that will contain the pseudo-locked memory. This "
"region must not overlap with any current CAT allocation/CLOS on the system "
"and no future overlap with this cache region is allowed while the pseudo-"
"locked region exists."
msgstr ""

#: ../../../filesystems/resctrl.rst:1054
msgid ""
"Create a contiguous region of memory of the same size as the cache region."
msgstr ""

#: ../../../filesystems/resctrl.rst:1056
msgid "Flush the cache, disable hardware prefetchers, disable preemption."
msgstr ""

#: ../../../filesystems/resctrl.rst:1057
msgid ""
"Make CLOSNEW the active CLOS and touch the allocated memory to load it into "
"the cache."
msgstr ""

#: ../../../filesystems/resctrl.rst:1059
msgid "Set the previous CLOS as active."
msgstr ""

#: ../../../filesystems/resctrl.rst:1060
msgid ""
"At this point the closid CLOSNEW can be released - the cache pseudo-locked "
"region is protected as long as its CBM does not appear in any CAT "
"allocation. Even though the cache pseudo-locked region will from this point "
"on not appear in any CBM of any CLOS an application running with any CLOS "
"will be able to access the memory in the pseudo-locked region since the "
"region continues to serve cache hits."
msgstr ""

#: ../../../filesystems/resctrl.rst:1066
msgid ""
"The contiguous region of memory loaded into the cache is exposed to user-"
"space as a character device."
msgstr ""

#: ../../../filesystems/resctrl.rst:1069
msgid ""
"Cache pseudo-locking increases the probability that data will remain in the "
"cache via carefully configuring the CAT feature and controlling application "
"behavior. There is no guarantee that data is placed in cache. Instructions "
"like INVD, WBINVD, CLFLUSH, etc. can still evict locked data from cache. "
"Power management C-states may shrink or power off cache. Deeper C-states "
"will automatically be restricted on pseudo-locked region creation."
msgstr ""

#: ../../../filesystems/resctrl.rst:1077
msgid ""
"It is required that an application using a pseudo-locked region runs with "
"affinity to the cores (or a subset of the cores) associated with the cache "
"on which the pseudo-locked region resides. A sanity check within the code "
"will not allow an application to map pseudo-locked memory unless it runs "
"with affinity to cores associated with the cache on which the pseudo-locked "
"region resides. The sanity check is only done during the initial mmap() "
"handling, there is no enforcement afterwards and the application self needs "
"to ensure it remains affine to the correct cores."
msgstr ""

#: ../../../filesystems/resctrl.rst:1086
msgid "Pseudo-locking is accomplished in two stages:"
msgstr ""

#: ../../../filesystems/resctrl.rst:1088
msgid ""
"During the first stage the system administrator allocates a portion of cache "
"that should be dedicated to pseudo-locking. At this time an equivalent "
"portion of memory is allocated, loaded into allocated cache portion, and "
"exposed as a character device."
msgstr ""

#: ../../../filesystems/resctrl.rst:1092
msgid ""
"During the second stage a user-space application maps (mmap()) the pseudo-"
"locked memory into its address space."
msgstr ""

#: ../../../filesystems/resctrl.rst:1096
msgid "Cache Pseudo-Locking Interface"
msgstr ""

#: ../../../filesystems/resctrl.rst:1097
msgid ""
"A pseudo-locked region is created using the resctrl interface as follows:"
msgstr ""

#: ../../../filesystems/resctrl.rst:1099
msgid ""
"Create a new resource group by creating a new directory in /sys/fs/resctrl."
msgstr ""

#: ../../../filesystems/resctrl.rst:1100
msgid ""
"Change the new resource group's mode to \"pseudo-locksetup\" by writing "
"\"pseudo-locksetup\" to the \"mode\" file."
msgstr ""

#: ../../../filesystems/resctrl.rst:1102
msgid ""
"Write the schemata of the pseudo-locked region to the \"schemata\" file. All "
"bits within the schemata should be \"unused\" according to the \"bit_usage\" "
"file."
msgstr ""

#: ../../../filesystems/resctrl.rst:1106
msgid ""
"On successful pseudo-locked region creation the \"mode\" file will contain "
"\"pseudo-locked\" and a new character device with the same name as the "
"resource group will exist in /dev/pseudo_lock. This character device can be "
"mmap()'ed by user space in order to obtain access to the pseudo-locked "
"memory region."
msgstr ""

#: ../../../filesystems/resctrl.rst:1111
msgid ""
"An example of cache pseudo-locked region creation and usage can be found "
"below."
msgstr ""

#: ../../../filesystems/resctrl.rst:1114
msgid "Cache Pseudo-Locking Debugging Interface"
msgstr ""

#: ../../../filesystems/resctrl.rst:1115
msgid ""
"The pseudo-locking debugging interface is enabled by default (if "
"CONFIG_DEBUG_FS is enabled) and can be found in /sys/kernel/debug/resctrl."
msgstr ""

#: ../../../filesystems/resctrl.rst:1118
msgid ""
"There is no explicit way for the kernel to test if a provided memory "
"location is present in the cache. The pseudo-locking debugging interface "
"uses the tracing infrastructure to provide two ways to measure cache "
"residency of the pseudo-locked region:"
msgstr ""

#: ../../../filesystems/resctrl.rst:1123
msgid ""
"Memory access latency using the pseudo_lock_mem_latency tracepoint. Data "
"from these measurements are best visualized using a hist trigger (see "
"example below). In this test the pseudo-locked region is traversed at a "
"stride of 32 bytes while hardware prefetchers and preemption are disabled. "
"This also provides a substitute visualization of cache hits and misses."
msgstr ""

#: ../../../filesystems/resctrl.rst:1129
msgid ""
"Cache hit and miss measurements using model specific precision counters if "
"available. Depending on the levels of cache on the system the pseudo_lock_l2 "
"and pseudo_lock_l3 tracepoints are available."
msgstr ""

#: ../../../filesystems/resctrl.rst:1133
msgid ""
"When a pseudo-locked region is created a new debugfs directory is created "
"for it in debugfs as /sys/kernel/debug/resctrl/<newdir>. A single write-only "
"file, pseudo_lock_measure, is present in this directory. The measurement of "
"the pseudo-locked region depends on the number written to this debugfs file:"
msgstr ""

#: ../../../filesystems/resctrl.rst:1139
msgid "1:"
msgstr ""

#: ../../../filesystems/resctrl.rst:1140
msgid ""
"writing \"1\" to the pseudo_lock_measure file will trigger the latency "
"measurement captured in the pseudo_lock_mem_latency tracepoint. See example "
"below."
msgstr ""

#: ../../../filesystems/resctrl.rst:1143
msgid "2:"
msgstr ""

#: ../../../filesystems/resctrl.rst:1144
msgid ""
"writing \"2\" to the pseudo_lock_measure file will trigger the L2 cache "
"residency (cache hits and misses) measurement captured in the pseudo_lock_l2 "
"tracepoint. See example below."
msgstr ""

#: ../../../filesystems/resctrl.rst:1147
msgid "3:"
msgstr ""

#: ../../../filesystems/resctrl.rst:1148
msgid ""
"writing \"3\" to the pseudo_lock_measure file will trigger the L3 cache "
"residency (cache hits and misses) measurement captured in the pseudo_lock_l3 "
"tracepoint."
msgstr ""

#: ../../../filesystems/resctrl.rst:1152
msgid ""
"All measurements are recorded with the tracing infrastructure. This requires "
"the relevant tracepoints to be enabled before the measurement is triggered."
msgstr ""

#: ../../../filesystems/resctrl.rst:1156
msgid "Example of latency debugging interface"
msgstr ""

#: ../../../filesystems/resctrl.rst:1157
msgid ""
"In this example a pseudo-locked region named \"newlock\" was created. Here "
"is how we can measure the latency in cycles of reading from this region and "
"visualize this data with a histogram that is available if "
"CONFIG_HIST_TRIGGERS is set::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1190
msgid "Example of cache hits/misses debugging"
msgstr ""

#: ../../../filesystems/resctrl.rst:1191
msgid ""
"In this example a pseudo-locked region named \"newlock\" was created on the "
"L2 cache of a platform. Here is how we can obtain details of the cache hits "
"and misses using the platform's precision counters. ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1215
msgid "Examples for RDT allocation usage"
msgstr ""

#: ../../../filesystems/resctrl.rst:1217
msgid "Example 1"
msgstr ""

#: ../../../filesystems/resctrl.rst:1219
msgid ""
"On a two socket machine (one L3 cache per socket) with just four bits for "
"cache bit masks, minimum b/w of 10% with a memory bandwidth granularity of "
"10%. ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1230 ../../../filesystems/resctrl.rst:1657
msgid ""
"The default resource group is unmodified, so we have access to all parts of "
"all caches (its schemata file reads \"L3:0=f;1=f\")."
msgstr ""

#: ../../../filesystems/resctrl.rst:1233 ../../../filesystems/resctrl.rst:1660
msgid ""
"Tasks that are under the control of group \"p0\" may only allocate from the "
"\"lower\" 50% on cache ID 0, and the \"upper\" 50% of cache ID 1. Tasks in "
"group \"p1\" use the \"lower\" 50% of cache on both sockets."
msgstr ""

#: ../../../filesystems/resctrl.rst:1237
msgid ""
"Similarly, tasks that are under the control of group \"p0\" may use a "
"maximum memory b/w of 50% on socket0 and 50% on socket 1. Tasks in group "
"\"p1\" may also use 50% memory b/w on both sockets. Note that unlike cache "
"masks, memory b/w cannot specify whether these allocations can overlap or "
"not. The allocations specifies the maximum b/w that the group may be able to "
"use and the system admin can configure the b/w accordingly."
msgstr ""

#: ../../../filesystems/resctrl.rst:1245
msgid ""
"If resctrl is using the software controller (mba_sc) then user can enter the "
"max b/w in MB rather than the percentage values. ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1252
msgid ""
"In the above example the tasks in \"p1\" and \"p0\" on socket 0 would use a "
"max b/w of 1024MB where as on socket 1 they would use 500MB."
msgstr ""

#: ../../../filesystems/resctrl.rst:1255
msgid "Example 2"
msgstr ""

#: ../../../filesystems/resctrl.rst:1257
msgid "Again two sockets, but this time with a more realistic 20-bit mask."
msgstr ""

#: ../../../filesystems/resctrl.rst:1259
msgid ""
"Two real time tasks pid=1234 running on processor 0 and pid=5678 running on "
"processor 1 on socket 0 on a 2-socket and dual core machine. To avoid noisy "
"neighbors, each of the two real-time tasks exclusively occupies one quarter "
"of L3 cache on socket 0. ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1268
msgid ""
"First we reset the schemata for the default group so that the \"upper\" 50% "
"of the L3 cache on socket 0 and 50% of memory b/w cannot be used by ordinary "
"tasks::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1274
msgid ""
"Next we make a resource group for our first real time task and give it "
"access to the \"top\" 25% of the cache on socket 0. ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1281
msgid ""
"Finally we move our first real time task into this resource group. We also "
"use taskset(1) to ensure the task always runs on a dedicated CPU on socket "
"0. Most uses of resource groups will also constrain which processors tasks "
"run on. ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1290
msgid "Ditto for the second real time task (with the remaining 25% of cache)::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1297
msgid ""
"For the same 2 socket system with memory b/w resource and CAT L3 the "
"schemata would look like(Assume min_bandwidth 10 and bandwidth_gran is 10):"
msgstr ""

#: ../../../filesystems/resctrl.rst:1301
msgid ""
"For our first real time task this would request 20% memory b/w on socket "
"0. ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1306
msgid ""
"For our second real time task this would request an other 20% memory b/w on "
"socket 0. ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1312
msgid "Example 3"
msgstr ""

#: ../../../filesystems/resctrl.rst:1314
msgid ""
"A single socket system which has real-time tasks running on core 4-7 and non "
"real-time workload assigned to core 0-3. The real-time tasks share text and "
"data, so a per task association is not required and due to interaction with "
"the kernel it's desired that the kernel on these cores shares L3 with the "
"tasks. ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1324
msgid ""
"First we reset the schemata for the default group so that the \"upper\" 50% "
"of the L3 cache on socket 0, and 50% of memory bandwidth on socket 0 cannot "
"be used by ordinary tasks::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1330
msgid ""
"Next we make a resource group for our real time cores and give it access to "
"the \"top\" 50% of the cache on socket 0 and 50% of memory bandwidth on "
"socket 0. ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1338
msgid ""
"Finally we move core 4-7 over to the new group and make sure that the kernel "
"and the tasks running there get 50% of the cache. They should also get 50% "
"of memory bandwidth assuming that the cores 4-7 are SMT siblings and only "
"the real time threads are scheduled on the cores 4-7. ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1346
msgid "Example 4"
msgstr ""

#: ../../../filesystems/resctrl.rst:1348
msgid ""
"The resource groups in previous examples were all in the default "
"\"shareable\" mode allowing sharing of their cache allocations. If one "
"resource group configures a cache allocation then nothing prevents another "
"resource group to overlap with that allocation."
msgstr ""

#: ../../../filesystems/resctrl.rst:1353
msgid ""
"In this example a new exclusive resource group will be created on a L2 CAT "
"system with two L2 cache instances that can be configured with an 8-bit "
"capacity bitmask. The new exclusive resource group will be configured to use "
"25% of each cache instance. ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1362
msgid ""
"First, we observe that the default group is configured to allocate to all L2 "
"cache::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1368
msgid ""
"We could attempt to create the new resource group at this point, but it will "
"fail because of the overlap with the schemata of the default group::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1380
msgid ""
"To ensure that there is no overlap with another resource group the default "
"resource group's schemata has to change, making it possible for the new "
"resource group to become exclusive. ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1393
msgid ""
"A new resource group will on creation not overlap with an exclusive resource "
"group::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1403
msgid "The bit_usage will reflect how the cache is used::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1408
msgid ""
"A resource group cannot be forced to overlap with an exclusive resource "
"group::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1416
msgid "Example of Cache Pseudo-Locking"
msgstr ""

#: ../../../filesystems/resctrl.rst:1417
msgid ""
"Lock portion of L2 cache from cache id 1 using CBM 0x3. Pseudo-locked region "
"is exposed at /dev/pseudo_lock/newlock that can be provided to application "
"for argument to mmap(). ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1425
msgid ""
"Ensure that there are bits available that can be pseudo-locked, since only "
"unused bits can be pseudo-locked the bits to be pseudo-locked needs to be "
"removed from the default resource group's schemata::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1435
msgid ""
"Create a new resource group that will be associated with the pseudo-locked "
"region, indicate that it will be used for a pseudo-locked region, and "
"configure the requested pseudo-locked region capacity bitmask::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1443
msgid ""
"On success the resource group's mode will change to pseudo-locked, the "
"bit_usage will reflect the pseudo-locked region, and the character device "
"exposing the pseudo-locked region will exist::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1521
msgid "Locking between applications"
msgstr ""

#: ../../../filesystems/resctrl.rst:1523
msgid ""
"Certain operations on the resctrl filesystem, composed of read/writes to/"
"from multiple files, must be atomic."
msgstr ""

#: ../../../filesystems/resctrl.rst:1526
msgid ""
"As an example, the allocation of an exclusive reservation of L3 cache "
"involves:"
msgstr ""

#: ../../../filesystems/resctrl.rst:1529
msgid "Read the cbmmasks from each directory or the per-resource \"bit_usage\""
msgstr ""

#: ../../../filesystems/resctrl.rst:1530
msgid ""
"Find a contiguous set of bits in the global CBM bitmask that is clear in any "
"of the directory cbmmasks"
msgstr ""

#: ../../../filesystems/resctrl.rst:1532
msgid "Create a new directory"
msgstr ""

#: ../../../filesystems/resctrl.rst:1533
msgid "Set the bits found in step 2 to the new directory \"schemata\" file"
msgstr ""

#: ../../../filesystems/resctrl.rst:1535
msgid ""
"If two applications attempt to allocate space concurrently then they can end "
"up allocating the same bits so the reservations are shared instead of "
"exclusive."
msgstr ""

#: ../../../filesystems/resctrl.rst:1539
msgid ""
"To coordinate atomic operations on the resctrlfs and to avoid the problem "
"above, the following locking procedure is recommended:"
msgstr ""

#: ../../../filesystems/resctrl.rst:1542
msgid ""
"Locking is based on flock, which is available in libc and also as a shell "
"script command"
msgstr ""

#: ../../../filesystems/resctrl.rst:1545
msgid "Write lock:"
msgstr ""

#: ../../../filesystems/resctrl.rst:1547
msgid "Take flock(LOCK_EX) on /sys/fs/resctrl"
msgstr ""

#: ../../../filesystems/resctrl.rst:1548
msgid "Read/write the directory structure."
msgstr ""

#: ../../../filesystems/resctrl.rst:1549 ../../../filesystems/resctrl.rst:1555
msgid "funlock"
msgstr ""

#: ../../../filesystems/resctrl.rst:1551
msgid "Read lock:"
msgstr ""

#: ../../../filesystems/resctrl.rst:1553
msgid "Take flock(LOCK_SH) on /sys/fs/resctrl"
msgstr ""

#: ../../../filesystems/resctrl.rst:1554
msgid "If success read the directory structure."
msgstr ""

#: ../../../filesystems/resctrl.rst:1557
msgid "Example with bash::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1572
msgid "Example with C::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1636
msgid "Examples for RDT Monitoring along with allocation usage"
msgstr ""

#: ../../../filesystems/resctrl.rst:1638
msgid "Reading monitored data"
msgstr ""

#: ../../../filesystems/resctrl.rst:1639
msgid ""
"Reading an event file (for ex: mon_data/mon_L3_00/llc_occupancy) would show "
"the current snapshot of LLC occupancy of the corresponding MON group or "
"CTRL_MON group."
msgstr ""

#: ../../../filesystems/resctrl.rst:1645
msgid ""
"Example 1 (Monitor CTRL_MON group and subset of tasks in CTRL_MON group)"
msgstr ""

#: ../../../filesystems/resctrl.rst:1646
msgid ""
"On a two socket machine (one L3 cache per socket) with just four bits for "
"cache bit masks::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1664
msgid ""
"Create monitor groups and assign a subset of tasks to each monitor group. ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1672
msgid "fetch data (data shown in bytes) ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1682
msgid "The parent ctrl_mon group shows the aggregated data. ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1689
msgid "Example 2 (Monitor a task from its creation)"
msgstr ""

#: ../../../filesystems/resctrl.rst:1690
msgid "On a two socket machine (one L3 cache per socket)::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1696
msgid ""
"An RMID is allocated to the group once its created and hence the <cmd> below "
"is monitored from its creation. ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1703
msgid "Fetch the data::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1709
msgid "Example 3 (Monitor without CAT support or before creating CAT groups)"
msgstr ""

#: ../../../filesystems/resctrl.rst:1711
msgid ""
"Assume a system like HSW has only CQM and no CAT support. In this case the "
"resctrl will still mount but cannot create CTRL_MON directories. But user "
"can create different MON groups within the root group thereby able to "
"monitor all tasks including kernel threads."
msgstr ""

#: ../../../filesystems/resctrl.rst:1716
msgid ""
"This can also be used to profile jobs cache size footprint before being able "
"to allocate them to different allocation groups. ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1728
msgid ""
"Monitor the groups separately and also get per domain data. From the below "
"its apparent that the tasks are mostly doing work on domain(socket) 0. ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1744
msgid "Example 4 (Monitor real time tasks)"
msgstr ""

#: ../../../filesystems/resctrl.rst:1746
msgid ""
"A single socket system which has real time tasks running on cores 4-7 and "
"non real time tasks on other cpus. We want to monitor the cache occupancy of "
"the real time threads on these cores. ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1755
msgid "Move the cpus 4-7 over to p1::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1759
msgid "View the llc occupancy snapshot::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1766
msgid "Examples on working with mbm_assign_mode"
msgstr ""

#: ../../../filesystems/resctrl.rst:1768
msgid "a. Check if MBM counter assignment mode is supported. ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1777
msgid "The \"mbm_event\" mode is detected and enabled."
msgstr ""

#: ../../../filesystems/resctrl.rst:1779
msgid "b. Check how many assignable counters are supported. ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1785
msgid ""
"c. Check how many assignable counters are available for assignment in each "
"domain. ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1791
msgid "d. To list the default group's assign states. ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1798
msgid ""
"e.  To unassign the counter associated with the mbm_total_bytes event on "
"domain 0. ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1806
msgid ""
"f. To unassign the counter associated with the mbm_total_bytes event on all "
"domains. ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1814
msgid ""
"g. To assign a counter associated with the mbm_total_bytes event on all "
"domains in exclusive mode. ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1823
msgid ""
"h. Read the events mbm_total_bytes and mbm_local_bytes of the default group. "
"There is no change in reading the events with the assignment. ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1836
msgid "i. Check the event configurations. ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1846
msgid "j. Change the event configuration for mbm_local_bytes. ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1855
msgid ""
"k. Now read the local events again. The first read may come back with "
"\"Unavailable\" status. The subsequent read of mbm_local_bytes will display "
"the current value. ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1868
msgid ""
"l. Users have the option to go back to 'default' mbm_assign_mode if "
"required. This can be done using the following command. Note that switching "
"the mbm_assign_mode may reset all the MBM counters (and thus all MBM events) "
"of all the resctrl groups. ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1878
msgid "m. Unmount the resctrl filesystem. ::"
msgstr ""

#: ../../../filesystems/resctrl.rst:1884
msgid "Intel RDT Errata"
msgstr ""

#: ../../../filesystems/resctrl.rst:1887
msgid "Intel MBM Counters May Report System Memory Bandwidth Incorrectly"
msgstr ""

#: ../../../filesystems/resctrl.rst:1889
msgid "Errata SKX99 for Skylake server and BDF102 for Broadwell server."
msgstr ""

#: ../../../filesystems/resctrl.rst:1891
msgid ""
"Problem: Intel Memory Bandwidth Monitoring (MBM) counters track metrics "
"according to the assigned Resource Monitor ID (RMID) for that logical core. "
"The IA32_QM_CTR register (MSR 0xC8E), used to report these metrics, may "
"report incorrect system bandwidth for certain RMID values."
msgstr ""

#: ../../../filesystems/resctrl.rst:1896
msgid ""
"Implication: Due to the errata, system memory bandwidth may not match what "
"is reported."
msgstr ""

#: ../../../filesystems/resctrl.rst:1899
msgid ""
"Workaround: MBM total and local readings are corrected according to the "
"following correction factor table:"
msgstr ""

#: ../../../filesystems/resctrl.rst:1903
msgid "core count"
msgstr ""

#: ../../../filesystems/resctrl.rst:1903
msgid "rmid count"
msgstr ""

#: ../../../filesystems/resctrl.rst:1903
msgid "rmid threshold"
msgstr ""

#: ../../../filesystems/resctrl.rst:1903
msgid "correction factor"
msgstr ""

#: ../../../filesystems/resctrl.rst:1905 ../../../filesystems/resctrl.rst:1917
msgid "8"
msgstr ""

#: ../../../filesystems/resctrl.rst:1905 ../../../filesystems/resctrl.rst:1907
#: ../../../filesystems/resctrl.rst:1911 ../../../filesystems/resctrl.rst:1917
#: ../../../filesystems/resctrl.rst:1925 ../../../filesystems/resctrl.rst:1933
#: ../../../filesystems/resctrl.rst:1939 ../../../filesystems/resctrl.rst:1943
#: ../../../filesystems/resctrl.rst:1947 ../../../filesystems/resctrl.rst:1955
msgid "1.000000"
msgstr ""

#: ../../../filesystems/resctrl.rst:1907 ../../../filesystems/resctrl.rst:1933
msgid "16"
msgstr ""

#: ../../../filesystems/resctrl.rst:1909 ../../../filesystems/resctrl.rst:1949
msgid "24"
msgstr ""

#: ../../../filesystems/resctrl.rst:1909 ../../../filesystems/resctrl.rst:1931
msgid "15"
msgstr ""

#: ../../../filesystems/resctrl.rst:1909 ../../../filesystems/resctrl.rst:1913
msgid "0.969650"
msgstr ""

#: ../../../filesystems/resctrl.rst:1911
msgid "32"
msgstr ""

#: ../../../filesystems/resctrl.rst:1913
msgid "48"
msgstr ""

#: ../../../filesystems/resctrl.rst:1913
msgid "31"
msgstr ""

#: ../../../filesystems/resctrl.rst:1915
msgid "7"
msgstr ""

#: ../../../filesystems/resctrl.rst:1915
msgid "56"
msgstr ""

#: ../../../filesystems/resctrl.rst:1915
msgid "47"
msgstr ""

#: ../../../filesystems/resctrl.rst:1915 ../../../filesystems/resctrl.rst:1929
msgid "1.142857"
msgstr ""

#: ../../../filesystems/resctrl.rst:1917
msgid "64"
msgstr ""

#: ../../../filesystems/resctrl.rst:1919
msgid "9"
msgstr ""

#: ../../../filesystems/resctrl.rst:1919
msgid "72"
msgstr ""

#: ../../../filesystems/resctrl.rst:1919 ../../../filesystems/resctrl.rst:1921
msgid "63"
msgstr ""

#: ../../../filesystems/resctrl.rst:1919
msgid "1.185115"
msgstr ""

#: ../../../filesystems/resctrl.rst:1921
msgid "10"
msgstr ""

#: ../../../filesystems/resctrl.rst:1921
msgid "80"
msgstr ""

#: ../../../filesystems/resctrl.rst:1921
msgid "1.066553"
msgstr ""

#: ../../../filesystems/resctrl.rst:1923
msgid "11"
msgstr ""

#: ../../../filesystems/resctrl.rst:1923
msgid "88"
msgstr ""

#: ../../../filesystems/resctrl.rst:1923
msgid "79"
msgstr ""

#: ../../../filesystems/resctrl.rst:1923
msgid "1.454545"
msgstr ""

#: ../../../filesystems/resctrl.rst:1925
msgid "12"
msgstr ""

#: ../../../filesystems/resctrl.rst:1925
msgid "96"
msgstr ""

#: ../../../filesystems/resctrl.rst:1927
msgid "13"
msgstr ""

#: ../../../filesystems/resctrl.rst:1927
msgid "104"
msgstr ""

#: ../../../filesystems/resctrl.rst:1927 ../../../filesystems/resctrl.rst:1929
#: ../../../filesystems/resctrl.rst:1931
msgid "95"
msgstr ""

#: ../../../filesystems/resctrl.rst:1927
msgid "1.230769"
msgstr ""

#: ../../../filesystems/resctrl.rst:1929
msgid "14"
msgstr ""

#: ../../../filesystems/resctrl.rst:1929
msgid "112"
msgstr ""

#: ../../../filesystems/resctrl.rst:1931
msgid "120"
msgstr ""

#: ../../../filesystems/resctrl.rst:1931 ../../../filesystems/resctrl.rst:1941
msgid "1.066667"
msgstr ""

#: ../../../filesystems/resctrl.rst:1933
msgid "128"
msgstr ""

#: ../../../filesystems/resctrl.rst:1935
msgid "17"
msgstr ""

#: ../../../filesystems/resctrl.rst:1935
msgid "136"
msgstr ""

#: ../../../filesystems/resctrl.rst:1935 ../../../filesystems/resctrl.rst:1937
#: ../../../filesystems/resctrl.rst:1941 ../../../filesystems/resctrl.rst:1949
msgid "127"
msgstr ""

#: ../../../filesystems/resctrl.rst:1935
msgid "1.254863"
msgstr ""

#: ../../../filesystems/resctrl.rst:1937
msgid "18"
msgstr ""

#: ../../../filesystems/resctrl.rst:1937
msgid "144"
msgstr ""

#: ../../../filesystems/resctrl.rst:1937
msgid "1.185255"
msgstr ""

#: ../../../filesystems/resctrl.rst:1939
msgid "19"
msgstr ""

#: ../../../filesystems/resctrl.rst:1939
msgid "152"
msgstr ""

#: ../../../filesystems/resctrl.rst:1941
msgid "20"
msgstr ""

#: ../../../filesystems/resctrl.rst:1941
msgid "160"
msgstr ""

#: ../../../filesystems/resctrl.rst:1943
msgid "21"
msgstr ""

#: ../../../filesystems/resctrl.rst:1943
msgid "168"
msgstr ""

#: ../../../filesystems/resctrl.rst:1945
msgid "22"
msgstr ""

#: ../../../filesystems/resctrl.rst:1945
msgid "176"
msgstr ""

#: ../../../filesystems/resctrl.rst:1945
msgid "159"
msgstr ""

#: ../../../filesystems/resctrl.rst:1945
msgid "1.454334"
msgstr ""

#: ../../../filesystems/resctrl.rst:1947
msgid "23"
msgstr ""

#: ../../../filesystems/resctrl.rst:1947
msgid "184"
msgstr ""

#: ../../../filesystems/resctrl.rst:1949
msgid "192"
msgstr ""

#: ../../../filesystems/resctrl.rst:1949
msgid "0.969744"
msgstr ""

#: ../../../filesystems/resctrl.rst:1951
msgid "25"
msgstr ""

#: ../../../filesystems/resctrl.rst:1951
msgid "200"
msgstr ""

#: ../../../filesystems/resctrl.rst:1951 ../../../filesystems/resctrl.rst:1953
#: ../../../filesystems/resctrl.rst:1957
msgid "191"
msgstr ""

#: ../../../filesystems/resctrl.rst:1951
msgid "1.280246"
msgstr ""

#: ../../../filesystems/resctrl.rst:1953
msgid "26"
msgstr ""

#: ../../../filesystems/resctrl.rst:1953
msgid "208"
msgstr ""

#: ../../../filesystems/resctrl.rst:1953
msgid "1.230921"
msgstr ""

#: ../../../filesystems/resctrl.rst:1955
msgid "27"
msgstr ""

#: ../../../filesystems/resctrl.rst:1955
msgid "216"
msgstr ""

#: ../../../filesystems/resctrl.rst:1957
msgid "28"
msgstr ""

#: ../../../filesystems/resctrl.rst:1957
msgid "224"
msgstr ""

#: ../../../filesystems/resctrl.rst:1957
msgid "1.143118"
msgstr ""

#: ../../../filesystems/resctrl.rst:1960
msgid ""
"If rmid > rmid threshold, MBM total and local values should be multiplied by "
"the correction factor."
msgstr ""

#: ../../../filesystems/resctrl.rst:1963
msgid "See:"
msgstr ""

#: ../../../filesystems/resctrl.rst:1965
msgid ""
"1. Erratum SKX99 in Intel Xeon Processor Scalable Family Specification "
"Update: http://web.archive.org/web/20200716124958/https://www.intel.com/"
"content/www/us/en/processors/xeon/scalable/xeon-scalable-spec-update.html"
msgstr ""

#: ../../../filesystems/resctrl.rst:1968
msgid ""
"2. Erratum BDF102 in Intel Xeon E5-2600 v4 Processor Product Family "
"Specification Update: http://web.archive.org/web/20191125200531/https://www."
"intel.com/content/dam/www/public/us/en/documents/specification-updates/xeon-"
"e5-v4-spec-update.pdf"
msgstr ""

#: ../../../filesystems/resctrl.rst:1971
msgid ""
"3. The errata in Intel Resource Director Technology (Intel RDT) on 2nd "
"Generation Intel Xeon Scalable Processors Reference Manual: https://software."
"intel.com/content/www/us/en/develop/articles/intel-resource-director-"
"technology-rdt-reference-manual.html"
msgstr ""

#: ../../../filesystems/resctrl.rst:1974
msgid "for further information."
msgstr ""
