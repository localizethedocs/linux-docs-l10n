# SOME DESCRIPTIVE TITLE.
# Copyright (C) The kernel development community
# This file is distributed under the same license as the The Linux Kernel package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: The Linux Kernel master\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2025-09-27 13:53+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../../admin-guide/device-mapper/cache-policies.rst:3
msgid "Guidance for writing policies"
msgstr ""

#: ../../../admin-guide/device-mapper/cache-policies.rst:5
msgid ""
"Try to keep transactionality out of it.  The core is careful to avoid asking "
"about anything that is migrating.  This is a pain, but makes it easier to "
"write the policies."
msgstr ""

#: ../../../admin-guide/device-mapper/cache-policies.rst:9
msgid "Mappings are loaded into the policy at construction time."
msgstr ""

#: ../../../admin-guide/device-mapper/cache-policies.rst:11
msgid ""
"Every bio that is mapped by the target is referred to the policy. The policy "
"can return a simple HIT or MISS or issue a migration."
msgstr ""

#: ../../../admin-guide/device-mapper/cache-policies.rst:14
msgid ""
"Currently there's no way for the policy to issue background work, e.g. to "
"start writing back dirty blocks that are going to be evicted soon."
msgstr ""

#: ../../../admin-guide/device-mapper/cache-policies.rst:18
msgid ""
"Because we map bios, rather than requests it's easy for the policy to get "
"fooled by many small bios.  For this reason the core target issues periodic "
"ticks to the policy.  It's suggested that the policy doesn't update states "
"(eg, hit counts) for a block more than once for each tick.  The core ticks "
"by watching bios complete, and so trying to see when the io scheduler has "
"let the ios run."
msgstr ""

#: ../../../admin-guide/device-mapper/cache-policies.rst:27
msgid "Overview of supplied cache replacement policies"
msgstr ""

#: ../../../admin-guide/device-mapper/cache-policies.rst:30
msgid "multiqueue (mq)"
msgstr ""

#: ../../../admin-guide/device-mapper/cache-policies.rst:32
msgid "This policy is now an alias for smq (see below)."
msgstr ""

#: ../../../admin-guide/device-mapper/cache-policies.rst:34
msgid "The following tunables are accepted, but have no effect::"
msgstr ""

#: ../../../admin-guide/device-mapper/cache-policies.rst:43
msgid "Stochastic multiqueue (smq)"
msgstr ""

#: ../../../admin-guide/device-mapper/cache-policies.rst:45
msgid "This policy is the default."
msgstr ""

#: ../../../admin-guide/device-mapper/cache-policies.rst:47
msgid ""
"The stochastic multi-queue (smq) policy addresses some of the problems with "
"the multiqueue (mq) policy."
msgstr ""

#: ../../../admin-guide/device-mapper/cache-policies.rst:50
msgid ""
"The smq policy (vs mq) offers the promise of less memory utilization, "
"improved performance and increased adaptability in the face of changing "
"workloads.  smq also does not have any cumbersome tuning knobs."
msgstr ""

#: ../../../admin-guide/device-mapper/cache-policies.rst:54
msgid ""
"Users may switch from \"mq\" to \"smq\" simply by appropriately reloading a "
"DM table that is using the cache target.  Doing so will cause all of the mq "
"policy's hints to be dropped.  Also, performance of the cache may degrade "
"slightly until smq recalculates the origin device's hotspots that should be "
"cached."
msgstr ""

#: ../../../admin-guide/device-mapper/cache-policies.rst:61
msgid "Memory usage"
msgstr ""

#: ../../../admin-guide/device-mapper/cache-policies.rst:63
msgid ""
"The mq policy used a lot of memory; 88 bytes per cache block on a 64 bit "
"machine."
msgstr ""

#: ../../../admin-guide/device-mapper/cache-policies.rst:66
msgid ""
"smq uses 28bit indexes to implement its data structures rather than "
"pointers.  It avoids storing an explicit hit count for each block.  It has a "
"'hotspot' queue, rather than a pre-cache, which uses a quarter of the "
"entries (each hotspot block covers a larger area than a single cache block)."
msgstr ""

#: ../../../admin-guide/device-mapper/cache-policies.rst:72
msgid ""
"All this means smq uses ~25bytes per cache block.  Still a lot of memory, "
"but a substantial improvement nonetheless."
msgstr ""

#: ../../../admin-guide/device-mapper/cache-policies.rst:76
msgid "Level balancing"
msgstr ""

#: ../../../admin-guide/device-mapper/cache-policies.rst:78
msgid ""
"mq placed entries in different levels of the multiqueue structures based on "
"their hit count (~ln(hit count)).  This meant the bottom levels generally "
"had the most entries, and the top ones had very few.  Having unbalanced "
"levels like this reduced the efficacy of the multiqueue."
msgstr ""

#: ../../../admin-guide/device-mapper/cache-policies.rst:84
msgid ""
"smq does not maintain a hit count, instead it swaps hit entries with the "
"least recently used entry from the level above.  The overall ordering being "
"a side effect of this stochastic process.  With this scheme we can decide "
"how many entries occupy each multiqueue level, resulting in better promotion/"
"demotion decisions."
msgstr ""

#: ../../../admin-guide/device-mapper/cache-policies.rst:90
msgid ""
"Adaptability: The mq policy maintained a hit count for each cache block.  "
"For a different block to get promoted to the cache its hit count has to "
"exceed the lowest currently in the cache.  This meant it could take a long "
"time for the cache to adapt between varying IO patterns."
msgstr ""

#: ../../../admin-guide/device-mapper/cache-policies.rst:96
msgid ""
"smq doesn't maintain hit counts, so a lot of this problem just goes away.  "
"In addition it tracks performance of the hotspot queue, which is used to "
"decide which blocks to promote.  If the hotspot queue is performing badly "
"then it starts moving entries more quickly between levels.  This lets it "
"adapt to new IO patterns very quickly."
msgstr ""

#: ../../../admin-guide/device-mapper/cache-policies.rst:103
msgid "Performance"
msgstr ""

#: ../../../admin-guide/device-mapper/cache-policies.rst:105
msgid "Testing smq shows substantially better performance than mq."
msgstr ""

#: ../../../admin-guide/device-mapper/cache-policies.rst:108
msgid "cleaner"
msgstr ""

#: ../../../admin-guide/device-mapper/cache-policies.rst:110
msgid "The cleaner writes back all dirty blocks in a cache to decommission it."
msgstr ""

#: ../../../admin-guide/device-mapper/cache-policies.rst:113
msgid "Examples"
msgstr ""

#: ../../../admin-guide/device-mapper/cache-policies.rst:115
msgid "The syntax for a table is::"
msgstr ""

#: ../../../admin-guide/device-mapper/cache-policies.rst:121
msgid "The syntax to send a message using the dmsetup command is::"
msgstr ""

#: ../../../admin-guide/device-mapper/cache-policies.rst:126
msgid "Using dmsetup::"
msgstr ""
