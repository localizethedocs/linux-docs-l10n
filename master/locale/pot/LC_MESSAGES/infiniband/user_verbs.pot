# SOME DESCRIPTIVE TITLE.
# Copyright (C) The kernel development community
# This file is distributed under the same license as the The Linux Kernel package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: The Linux Kernel master\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2025-09-29 08:26+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../../infiniband/user_verbs.rst:3
msgid "Userspace verbs access"
msgstr ""

#: ../../../infiniband/user_verbs.rst:5
msgid ""
"The ib_uverbs module, built by enabling CONFIG_INFINIBAND_USER_VERBS, "
"enables direct userspace access to IB hardware via \"verbs,\" as described "
"in chapter 11 of the InfiniBand Architecture Specification."
msgstr ""

#: ../../../infiniband/user_verbs.rst:9
msgid ""
"To use the verbs, the libibverbs library, available from https://github.com/"
"linux-rdma/rdma-core, is required. libibverbs contains a device-independent "
"API for using the ib_uverbs interface. libibverbs also requires appropriate "
"device-dependent kernel and userspace driver for your InfiniBand hardware.  "
"For example, to use a Mellanox HCA, you will need the ib_mthca kernel module "
"and the libmthca userspace driver be installed."
msgstr ""

#: ../../../infiniband/user_verbs.rst:18
msgid "User-kernel communication"
msgstr ""

#: ../../../infiniband/user_verbs.rst:20
msgid ""
"Userspace communicates with the kernel for slow path, resource management "
"operations via the /dev/infiniband/uverbsN character devices.  Fast path "
"operations are typically performed by writing directly to hardware registers "
"mmap()ed into userspace, with no system call or context switch into the "
"kernel."
msgstr ""

#: ../../../infiniband/user_verbs.rst:26
msgid ""
"Commands are sent to the kernel via write()s on these device files. The ABI "
"is defined in drivers/infiniband/include/ib_user_verbs.h. The structs for "
"commands that require a response from the kernel contain a 64-bit field used "
"to pass a pointer to an output buffer. Status is returned to userspace as "
"the return value of the write() system call."
msgstr ""

#: ../../../infiniband/user_verbs.rst:34
msgid "Resource management"
msgstr ""

#: ../../../infiniband/user_verbs.rst:36
msgid ""
"Since creation and destruction of all IB resources is done by commands "
"passed through a file descriptor, the kernel can keep track of which "
"resources are attached to a given userspace context.  The ib_uverbs module "
"maintains idr tables that are used to translate between kernel pointers and "
"opaque userspace handles, so that kernel pointers are never exposed to "
"userspace and userspace cannot trick the kernel into following a bogus "
"pointer."
msgstr ""

#: ../../../infiniband/user_verbs.rst:44
msgid ""
"This also allows the kernel to clean up when a process exits and prevent one "
"process from touching another process's resources."
msgstr ""

#: ../../../infiniband/user_verbs.rst:48
msgid "Memory pinning"
msgstr ""

#: ../../../infiniband/user_verbs.rst:50
msgid ""
"Direct userspace I/O requires that memory regions that are potential I/O "
"targets be kept resident at the same physical address.  The ib_uverbs module "
"manages pinning and unpinning memory regions via get_user_pages() and "
"put_page() calls.  It also accounts for the amount of memory pinned in the "
"process's pinned_vm, and checks that unprivileged processes do not exceed "
"their RLIMIT_MEMLOCK limit."
msgstr ""

#: ../../../infiniband/user_verbs.rst:57
msgid ""
"Pages that are pinned multiple times are counted each time they are pinned, "
"so the value of pinned_vm may be an overestimate of the number of pages "
"pinned by a process."
msgstr ""

#: ../../../infiniband/user_verbs.rst:62
msgid "/dev files"
msgstr ""

#: ../../../infiniband/user_verbs.rst:64
msgid ""
"To create the appropriate character device files automatically with udev, a "
"rule like::"
msgstr ""

#: ../../../infiniband/user_verbs.rst:69
msgid "can be used.  This will create device nodes named::"
msgstr ""

#: ../../../infiniband/user_verbs.rst:73
msgid ""
"and so on.  Since the InfiniBand userspace verbs should be safe for use by "
"non-privileged processes, it may be useful to add an appropriate MODE or "
"GROUP to the udev rule."
msgstr ""
