# SOME DESCRIPTIVE TITLE.
# Copyright (C) The kernel development community
# This file is distributed under the same license as the The Linux Kernel package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: The Linux Kernel master\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2025-09-29 08:26+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../../networking/l2tp.rst:5
msgid "L2TP"
msgstr ""

#: ../../../networking/l2tp.rst:7
msgid ""
"Layer 2 Tunneling Protocol (L2TP) allows L2 frames to be tunneled over an IP "
"network."
msgstr ""

#: ../../../networking/l2tp.rst:10
msgid ""
"This document covers the kernel's L2TP subsystem. It documents kernel APIs "
"for application developers who want to use the L2TP subsystem and it "
"provides some technical details about the internal implementation which may "
"be useful to kernel developers and maintainers."
msgstr ""

#: ../../../networking/l2tp.rst:16
msgid "Overview"
msgstr ""

#: ../../../networking/l2tp.rst:18
msgid ""
"The kernel's L2TP subsystem implements the datapath for L2TPv2 and L2TPv3. "
"L2TPv2 is carried over UDP. L2TPv3 is carried over UDP or directly over IP "
"(protocol 115)."
msgstr ""

#: ../../../networking/l2tp.rst:22
msgid ""
"The L2TP RFCs define two basic kinds of L2TP packets: control packets (the "
"\"control plane\"), and data packets (the \"data plane\"). The kernel deals "
"only with data packets. The more complex control packets are handled by user "
"space."
msgstr ""

#: ../../../networking/l2tp.rst:27
msgid ""
"An L2TP tunnel carries one or more L2TP sessions. Each tunnel is associated "
"with a socket. Each session is associated with a virtual netdevice, e.g. "
"``pppN``, ``l2tpethN``, through which data frames pass to/from L2TP. Fields "
"in the L2TP header identify the tunnel or session and whether it is a "
"control or data packet. When tunnels and sessions are set up using the Linux "
"kernel API, we're just setting up the L2TP data path. All aspects of the "
"control protocol are to be handled by user space."
msgstr ""

#: ../../../networking/l2tp.rst:36
msgid ""
"This split in responsibilities leads to a natural sequence of operations "
"when establishing tunnels and sessions. The procedure looks like this:"
msgstr ""

#: ../../../networking/l2tp.rst:40
msgid ""
"Create a tunnel socket. Exchange L2TP control protocol messages with the "
"peer over that socket in order to establish a tunnel."
msgstr ""

#: ../../../networking/l2tp.rst:43
msgid ""
"Create a tunnel context in the kernel, using information obtained from the "
"peer using the control protocol messages."
msgstr ""

#: ../../../networking/l2tp.rst:46
msgid ""
"Exchange L2TP control protocol messages with the peer over the tunnel socket "
"in order to establish a session."
msgstr ""

#: ../../../networking/l2tp.rst:49
msgid ""
"Create a session context in the kernel using information obtained from the "
"peer using the control protocol messages."
msgstr ""

#: ../../../networking/l2tp.rst:53
msgid "L2TP APIs"
msgstr ""

#: ../../../networking/l2tp.rst:55
msgid "This section documents each userspace API of the L2TP subsystem."
msgstr ""

#: ../../../networking/l2tp.rst:58
msgid "Tunnel Sockets"
msgstr ""

#: ../../../networking/l2tp.rst:60
msgid "L2TPv2 always uses UDP. L2TPv3 may use UDP or IP encapsulation."
msgstr ""

#: ../../../networking/l2tp.rst:62
msgid ""
"To create a tunnel socket for use by L2TP, the standard POSIX socket API is "
"used."
msgstr ""

#: ../../../networking/l2tp.rst:65
msgid "For example, for a tunnel using IPv4 addresses and UDP encapsulation::"
msgstr ""

#: ../../../networking/l2tp.rst:69
msgid "Or for a tunnel using IPv6 addresses and IP encapsulation::"
msgstr ""

#: ../../../networking/l2tp.rst:73
msgid "UDP socket programming doesn't need to be covered here."
msgstr ""

#: ../../../networking/l2tp.rst:75
msgid ""
"IPPROTO_L2TP is an IP protocol type implemented by the kernel's L2TP "
"subsystem. The L2TPIP socket address is defined in struct sockaddr_l2tpip "
"and struct sockaddr_l2tpip6 at `include/uapi/linux/l2tp.h`_. The address "
"includes the L2TP tunnel (connection) id. To use L2TP IP encapsulation, an "
"L2TPv3 application should bind the L2TPIP socket using the locally assigned "
"tunnel id. When the peer's tunnel id and IP address is known, a connect must "
"be done."
msgstr ""

#: ../../../networking/l2tp.rst:84
msgid ""
"If the L2TP application needs to handle L2TPv3 tunnel setup requests from "
"peers using L2TPIP, it must open a dedicated L2TPIP socket to listen for "
"those requests and bind the socket using tunnel id 0 since tunnel setup "
"requests are addressed to tunnel id 0."
msgstr ""

#: ../../../networking/l2tp.rst:89
msgid ""
"An L2TP tunnel and all of its sessions are automatically closed when its "
"tunnel socket is closed."
msgstr ""

#: ../../../networking/l2tp.rst:93
msgid "Netlink API"
msgstr ""

#: ../../../networking/l2tp.rst:95
msgid ""
"L2TP applications use netlink to manage L2TP tunnel and session instances in "
"the kernel. The L2TP netlink API is defined in `include/uapi/linux/l2tp.h`_."
msgstr ""

#: ../../../networking/l2tp.rst:99
msgid ""
"L2TP uses `Generic Netlink`_ (GENL). Several commands are defined: Create, "
"Delete, Modify and Get for tunnel and session instances, e.g. "
"``L2TP_CMD_TUNNEL_CREATE``. The API header lists the netlink attribute types "
"that can be used with each command."
msgstr ""

#: ../../../networking/l2tp.rst:104
msgid ""
"Tunnel and session instances are identified by a locally unique 32-bit id.  "
"L2TP tunnel ids are given by ``L2TP_ATTR_CONN_ID`` and "
"``L2TP_ATTR_PEER_CONN_ID`` attributes and L2TP session ids are given by "
"``L2TP_ATTR_SESSION_ID`` and ``L2TP_ATTR_PEER_SESSION_ID`` attributes. If "
"netlink is used to manage L2TPv2 tunnel and session instances, the L2TPv2 16-"
"bit tunnel/session id is cast to a 32-bit value in these attributes."
msgstr ""

#: ../../../networking/l2tp.rst:112
msgid ""
"In the ``L2TP_CMD_TUNNEL_CREATE`` command, ``L2TP_ATTR_FD`` tells the kernel "
"the tunnel socket fd being used. If not specified, the kernel creates a "
"kernel socket for the tunnel, using IP parameters set in "
"``L2TP_ATTR_IP[6]_SADDR``, ``L2TP_ATTR_IP[6]_DADDR``, "
"``L2TP_ATTR_UDP_SPORT``, ``L2TP_ATTR_UDP_DPORT`` attributes. Kernel sockets "
"are used to implement unmanaged L2TPv3 tunnels (iproute2's \"ip l2tp\" "
"commands). If ``L2TP_ATTR_FD`` is given, it must be a socket fd that is "
"already bound and connected. There is more information about unmanaged "
"tunnels later in this document."
msgstr ""

#: ../../../networking/l2tp.rst:122
msgid "``L2TP_CMD_TUNNEL_CREATE`` attributes:-"
msgstr ""

#: ../../../networking/l2tp.rst:125 ../../../networking/l2tp.rst:155
#: ../../../networking/l2tp.rst:163 ../../../networking/l2tp.rst:172
#: ../../../networking/l2tp.rst:181 ../../../networking/l2tp.rst:209
#: ../../../networking/l2tp.rst:223 ../../../networking/l2tp.rst:244
msgid "Attribute"
msgstr ""

#: ../../../networking/l2tp.rst:125 ../../../networking/l2tp.rst:155
#: ../../../networking/l2tp.rst:163 ../../../networking/l2tp.rst:172
#: ../../../networking/l2tp.rst:181 ../../../networking/l2tp.rst:209
#: ../../../networking/l2tp.rst:223 ../../../networking/l2tp.rst:244
msgid "Required"
msgstr ""

#: ../../../networking/l2tp.rst:125 ../../../networking/l2tp.rst:155
#: ../../../networking/l2tp.rst:163 ../../../networking/l2tp.rst:172
#: ../../../networking/l2tp.rst:181 ../../../networking/l2tp.rst:209
#: ../../../networking/l2tp.rst:223 ../../../networking/l2tp.rst:244
msgid "Use"
msgstr ""

#: ../../../networking/l2tp.rst:127 ../../../networking/l2tp.rst:157
#: ../../../networking/l2tp.rst:165 ../../../networking/l2tp.rst:174
#: ../../../networking/l2tp.rst:183 ../../../networking/l2tp.rst:211
#: ../../../networking/l2tp.rst:225 ../../../networking/l2tp.rst:246
msgid "CONN_ID"
msgstr ""

#: ../../../networking/l2tp.rst:127 ../../../networking/l2tp.rst:128
#: ../../../networking/l2tp.rst:129 ../../../networking/l2tp.rst:130
#: ../../../networking/l2tp.rst:157 ../../../networking/l2tp.rst:165
#: ../../../networking/l2tp.rst:183 ../../../networking/l2tp.rst:184
#: ../../../networking/l2tp.rst:185 ../../../networking/l2tp.rst:186
#: ../../../networking/l2tp.rst:211 ../../../networking/l2tp.rst:213
#: ../../../networking/l2tp.rst:225 ../../../networking/l2tp.rst:227
msgid "Y"
msgstr ""

#: ../../../networking/l2tp.rst:127
msgid "Sets the tunnel (connection) id."
msgstr ""

#: ../../../networking/l2tp.rst:128
msgid "PEER_CONN_ID"
msgstr ""

#: ../../../networking/l2tp.rst:128
msgid "Sets the peer tunnel (connection) id."
msgstr ""

#: ../../../networking/l2tp.rst:129
msgid "PROTO_VERSION"
msgstr ""

#: ../../../networking/l2tp.rst:129
msgid "Protocol version. 2 or 3."
msgstr ""

#: ../../../networking/l2tp.rst:130
msgid "ENCAP_TYPE"
msgstr ""

#: ../../../networking/l2tp.rst:130
msgid "Encapsulation type: UDP or IP."
msgstr ""

#: ../../../networking/l2tp.rst:131
msgid "FD"
msgstr ""

#: ../../../networking/l2tp.rst:131 ../../../networking/l2tp.rst:132
#: ../../../networking/l2tp.rst:134 ../../../networking/l2tp.rst:136
#: ../../../networking/l2tp.rst:138 ../../../networking/l2tp.rst:140
#: ../../../networking/l2tp.rst:142 ../../../networking/l2tp.rst:143
#: ../../../networking/l2tp.rst:145 ../../../networking/l2tp.rst:147
#: ../../../networking/l2tp.rst:149 ../../../networking/l2tp.rst:166
#: ../../../networking/l2tp.rst:174 ../../../networking/l2tp.rst:187
#: ../../../networking/l2tp.rst:188 ../../../networking/l2tp.rst:189
#: ../../../networking/l2tp.rst:190 ../../../networking/l2tp.rst:192
#: ../../../networking/l2tp.rst:194 ../../../networking/l2tp.rst:196
#: ../../../networking/l2tp.rst:197 ../../../networking/l2tp.rst:198
#: ../../../networking/l2tp.rst:214 ../../../networking/l2tp.rst:228
#: ../../../networking/l2tp.rst:232 ../../../networking/l2tp.rst:233
#: ../../../networking/l2tp.rst:234 ../../../networking/l2tp.rst:235
#: ../../../networking/l2tp.rst:237 ../../../networking/l2tp.rst:246
#: ../../../networking/l2tp.rst:248 ../../../networking/l2tp.rst:250
msgid "N"
msgstr ""

#: ../../../networking/l2tp.rst:131
msgid "Tunnel socket file descriptor."
msgstr ""

#: ../../../networking/l2tp.rst:132
msgid "UDP_CSUM"
msgstr ""

#: ../../../networking/l2tp.rst:132
msgid "Enable IPv4 UDP checksums. Used only if FD is not set."
msgstr ""

#: ../../../networking/l2tp.rst:134
msgid "UDP_ZERO_CSUM6_TX"
msgstr ""

#: ../../../networking/l2tp.rst:134
msgid "Zero IPv6 UDP checksum on transmit. Used only if FD is not set."
msgstr ""

#: ../../../networking/l2tp.rst:136
msgid "UDP_ZERO_CSUM6_RX"
msgstr ""

#: ../../../networking/l2tp.rst:136
msgid "Zero IPv6 UDP checksum on receive. Used only if FD is not set."
msgstr ""

#: ../../../networking/l2tp.rst:138
msgid "IP_SADDR"
msgstr ""

#: ../../../networking/l2tp.rst:138
msgid "IPv4 source address. Used only if FD is not set."
msgstr ""

#: ../../../networking/l2tp.rst:140
msgid "IP_DADDR"
msgstr ""

#: ../../../networking/l2tp.rst:140
msgid "IPv4 destination address. Used only if FD is not set."
msgstr ""

#: ../../../networking/l2tp.rst:142
msgid "UDP_SPORT"
msgstr ""

#: ../../../networking/l2tp.rst:142
msgid "UDP source port. Used only if FD is not set."
msgstr ""

#: ../../../networking/l2tp.rst:143
msgid "UDP_DPORT"
msgstr ""

#: ../../../networking/l2tp.rst:143
msgid "UDP destination port. Used only if FD is not set."
msgstr ""

#: ../../../networking/l2tp.rst:145
msgid "IP6_SADDR"
msgstr ""

#: ../../../networking/l2tp.rst:145
msgid "IPv6 source address. Used only if FD is not set."
msgstr ""

#: ../../../networking/l2tp.rst:147
msgid "IP6_DADDR"
msgstr ""

#: ../../../networking/l2tp.rst:147
msgid "IPv6 destination address. Used only if FD is not set."
msgstr ""

#: ../../../networking/l2tp.rst:149 ../../../networking/l2tp.rst:166
#: ../../../networking/l2tp.rst:187 ../../../networking/l2tp.rst:232
#: ../../../networking/l2tp.rst:371
msgid "DEBUG"
msgstr ""

#: ../../../networking/l2tp.rst:149 ../../../networking/l2tp.rst:166
#: ../../../networking/l2tp.rst:187 ../../../networking/l2tp.rst:232
msgid "Debug flags."
msgstr ""

#: ../../../networking/l2tp.rst:152
msgid "``L2TP_CMD_TUNNEL_DESTROY`` attributes:-"
msgstr ""

#: ../../../networking/l2tp.rst:157
msgid "Identifies the tunnel id to be destroyed."
msgstr ""

#: ../../../networking/l2tp.rst:160
msgid "``L2TP_CMD_TUNNEL_MODIFY`` attributes:-"
msgstr ""

#: ../../../networking/l2tp.rst:165
msgid "Identifies the tunnel id to be modified."
msgstr ""

#: ../../../networking/l2tp.rst:169
msgid "``L2TP_CMD_TUNNEL_GET`` attributes:-"
msgstr ""

#: ../../../networking/l2tp.rst:174
msgid "Identifies the tunnel id to be queried. Ignored in DUMP requests."
msgstr ""

#: ../../../networking/l2tp.rst:178
msgid "``L2TP_CMD_SESSION_CREATE`` attributes:-"
msgstr ""

#: ../../../networking/l2tp.rst:183
msgid "The parent tunnel id."
msgstr ""

#: ../../../networking/l2tp.rst:184 ../../../networking/l2tp.rst:213
#: ../../../networking/l2tp.rst:227 ../../../networking/l2tp.rst:248
msgid "SESSION_ID"
msgstr ""

#: ../../../networking/l2tp.rst:184
msgid "Sets the session id."
msgstr ""

#: ../../../networking/l2tp.rst:185
msgid "PEER_SESSION_ID"
msgstr ""

#: ../../../networking/l2tp.rst:185
msgid "Sets the parent session id."
msgstr ""

#: ../../../networking/l2tp.rst:186
msgid "PW_TYPE"
msgstr ""

#: ../../../networking/l2tp.rst:186
msgid "Sets the pseudowire type."
msgstr ""

#: ../../../networking/l2tp.rst:188 ../../../networking/l2tp.rst:233
msgid "RECV_SEQ"
msgstr ""

#: ../../../networking/l2tp.rst:188 ../../../networking/l2tp.rst:233
msgid "Enable rx data sequence numbers."
msgstr ""

#: ../../../networking/l2tp.rst:189 ../../../networking/l2tp.rst:234
msgid "SEND_SEQ"
msgstr ""

#: ../../../networking/l2tp.rst:189 ../../../networking/l2tp.rst:234
msgid "Enable tx data sequence numbers."
msgstr ""

#: ../../../networking/l2tp.rst:190 ../../../networking/l2tp.rst:235
msgid "LNS_MODE"
msgstr ""

#: ../../../networking/l2tp.rst:190 ../../../networking/l2tp.rst:235
msgid "Enable LNS mode (auto-enable data sequence numbers)."
msgstr ""

#: ../../../networking/l2tp.rst:192 ../../../networking/l2tp.rst:237
msgid "RECV_TIMEOUT"
msgstr ""

#: ../../../networking/l2tp.rst:192 ../../../networking/l2tp.rst:237
msgid "Timeout to wait when reordering received packets."
msgstr ""

#: ../../../networking/l2tp.rst:194
msgid "L2SPEC_TYPE"
msgstr ""

#: ../../../networking/l2tp.rst:194
msgid "Sets layer2-specific-sublayer type (L2TPv3 only)."
msgstr ""

#: ../../../networking/l2tp.rst:196
msgid "COOKIE"
msgstr ""

#: ../../../networking/l2tp.rst:196
msgid "Sets optional cookie (L2TPv3 only)."
msgstr ""

#: ../../../networking/l2tp.rst:197
msgid "PEER_COOKIE"
msgstr ""

#: ../../../networking/l2tp.rst:197
msgid "Sets optional peer cookie (L2TPv3 only)."
msgstr ""

#: ../../../networking/l2tp.rst:198 ../../../networking/l2tp.rst:214
#: ../../../networking/l2tp.rst:228 ../../../networking/l2tp.rst:250
msgid "IFNAME"
msgstr ""

#: ../../../networking/l2tp.rst:198
msgid "Sets interface name (L2TPv3 only)."
msgstr ""

#: ../../../networking/l2tp.rst:201
msgid ""
"For Ethernet session types, this will create an l2tpeth virtual interface "
"which can then be configured as required. For PPP session types, a PPPoL2TP "
"socket must also be opened and connected, mapping it onto the new session. "
"This is covered in \"PPPoL2TP Sockets\" later."
msgstr ""

#: ../../../networking/l2tp.rst:206
msgid "``L2TP_CMD_SESSION_DESTROY`` attributes:-"
msgstr ""

#: ../../../networking/l2tp.rst:211
msgid "Identifies the parent tunnel id of the session to be destroyed."
msgstr ""

#: ../../../networking/l2tp.rst:213
msgid "Identifies the session id to be destroyed."
msgstr ""

#: ../../../networking/l2tp.rst:214 ../../../networking/l2tp.rst:228
msgid ""
"Identifies the session by interface name. If set, this overrides any CONN_ID "
"and SESSION_ID attributes. Currently supported for L2TPv3 Ethernet sessions "
"only."
msgstr ""

#: ../../../networking/l2tp.rst:220
msgid "``L2TP_CMD_SESSION_MODIFY`` attributes:-"
msgstr ""

#: ../../../networking/l2tp.rst:225
msgid "Identifies the parent tunnel id of the session to be modified."
msgstr ""

#: ../../../networking/l2tp.rst:227
msgid "Identifies the session id to be modified."
msgstr ""

#: ../../../networking/l2tp.rst:241
msgid "``L2TP_CMD_SESSION_GET`` attributes:-"
msgstr ""

#: ../../../networking/l2tp.rst:246
msgid "Identifies the tunnel id to be queried. Ignored for DUMP requests."
msgstr ""

#: ../../../networking/l2tp.rst:248
msgid "Identifies the session id to be queried. Ignored for DUMP requests."
msgstr ""

#: ../../../networking/l2tp.rst:250
msgid ""
"Identifies the session by interface name. If set, this overrides any CONN_ID "
"and SESSION_ID attributes. Ignored for DUMP requests. Currently supported "
"for L2TPv3 Ethernet sessions only."
msgstr ""

#: ../../../networking/l2tp.rst:257
msgid ""
"Application developers should refer to `include/uapi/linux/l2tp.h`_ for "
"netlink command and attribute definitions."
msgstr ""

#: ../../../networking/l2tp.rst:260
msgid "Sample userspace code using libmnl_:"
msgstr ""

#: ../../../networking/l2tp.rst:262
msgid "Open L2TP netlink socket::"
msgstr ""

#: ../../../networking/l2tp.rst:271
msgid "Create a tunnel::"
msgstr ""

#: ../../../networking/l2tp.rst:292
msgid "Create a session::"
msgstr ""

#: ../../../networking/l2tp.rst:316
msgid "Delete a session::"
msgstr ""

#: ../../../networking/l2tp.rst:334
msgid "Delete a tunnel and all of its sessions (if any)::"
msgstr ""

#: ../../../networking/l2tp.rst:352
msgid "PPPoL2TP Session Socket API"
msgstr ""

#: ../../../networking/l2tp.rst:354
msgid ""
"For PPP session types, a PPPoL2TP socket must be opened and connected to the "
"L2TP session."
msgstr ""

#: ../../../networking/l2tp.rst:357
msgid ""
"When creating PPPoL2TP sockets, the application provides information to the "
"kernel about the tunnel and session in a socket connect() call. Source and "
"destination tunnel and session ids are provided, as well as the file "
"descriptor of a UDP or L2TPIP socket. See struct pppol2tp_addr in `include/"
"linux/if_pppol2tp.h`_. For historical reasons, there are unfortunately "
"slightly different address structures for L2TPv2/L2TPv3 IPv4/IPv6 tunnels "
"and userspace must use the appropriate structure that matches the tunnel "
"socket type."
msgstr ""

#: ../../../networking/l2tp.rst:366
msgid ""
"Userspace may control behavior of the tunnel or session using setsockopt and "
"ioctl on the PPPoX socket. The following socket options are supported:-"
msgstr ""

#: ../../../networking/l2tp.rst:371
msgid "bitmask of debug message categories. See below."
msgstr ""

#: ../../../networking/l2tp.rst:372
msgid "SENDSEQ"
msgstr ""

#: ../../../networking/l2tp.rst:372
msgid "0 => don't send packets with sequence numbers"
msgstr ""

#: ../../../networking/l2tp.rst:373
msgid "1 => send packets with sequence numbers"
msgstr ""

#: ../../../networking/l2tp.rst:374
msgid "RECVSEQ"
msgstr ""

#: ../../../networking/l2tp.rst:374
msgid "0 => receive packet sequence numbers are optional"
msgstr ""

#: ../../../networking/l2tp.rst:375
msgid "1 => drop receive packets without sequence numbers"
msgstr ""

#: ../../../networking/l2tp.rst:376
msgid "LNSMODE"
msgstr ""

#: ../../../networking/l2tp.rst:376
msgid "0 => act as LAC."
msgstr ""

#: ../../../networking/l2tp.rst:377
msgid "1 => act as LNS."
msgstr ""

#: ../../../networking/l2tp.rst:378
msgid "REORDERTO"
msgstr ""

#: ../../../networking/l2tp.rst:378
msgid "reorder timeout (in millisecs). If 0, don't try to reorder."
msgstr ""

#: ../../../networking/l2tp.rst:381
msgid ""
"In addition to the standard PPP ioctls, a PPPIOCGL2TPSTATS is provided to "
"retrieve tunnel and session statistics from the kernel using the PPPoX "
"socket of the appropriate tunnel or session."
msgstr ""

#: ../../../networking/l2tp.rst:385
msgid "Sample userspace code:"
msgstr ""

#: ../../../networking/l2tp.rst:387
msgid "Create session PPPoX data socket::"
msgstr ""

#: ../../../networking/l2tp.rst:424
msgid "L2TP control packets will still be available for read on `tunnel_fd`."
msgstr ""

#: ../../../networking/l2tp.rst:426
msgid "Create PPP channel::"
msgstr ""

#: ../../../networking/l2tp.rst:452
msgid "LCP PPP frames will be available for read on `ppp_chan_fd`."
msgstr ""

#: ../../../networking/l2tp.rst:454
msgid "Create PPP interface::"
msgstr ""

#: ../../../networking/l2tp.rst:482
msgid "IPCP/IPv6CP PPP frames will be available for read on `ppp_if_fd`."
msgstr ""

#: ../../../networking/l2tp.rst:484
msgid ""
"The ppp<ifunit> interface can then be configured as usual with netlink's "
"RTM_NEWLINK, RTM_NEWADDR, RTM_NEWROUTE, or ioctl's SIOCSIFMTU, SIOCSIFADDR, "
"SIOCSIFDSTADDR, SIOCSIFNETMASK, SIOCSIFFLAGS, or with the `ip` command."
msgstr ""

#: ../../../networking/l2tp.rst:488
msgid ""
"Bridging L2TP sessions which have PPP pseudowire types (this is also called "
"L2TP tunnel switching or L2TP multihop) is supported by bridging the PPP "
"channels of the two L2TP sessions to be bridged::"
msgstr ""

#: ../../../networking/l2tp.rst:526
msgid ""
"It can be noted that when bridging PPP channels, the PPP session is not "
"locally terminated, and no local PPP interface is created.  PPP frames "
"arriving on one channel are directly passed to the other channel, and vice "
"versa."
msgstr ""

#: ../../../networking/l2tp.rst:530
msgid ""
"The PPP channel does not need to be kept open.  Only the session PPPoX data "
"sockets need to be kept open."
msgstr ""

#: ../../../networking/l2tp.rst:533
msgid ""
"More generally, it is also possible in the same way to e.g. bridge a "
"PPPoL2TP PPP channel with other types of PPP channels, such as PPPoE."
msgstr ""

#: ../../../networking/l2tp.rst:536
msgid "See more details for the PPP side in ppp_generic.rst."
msgstr ""

#: ../../../networking/l2tp.rst:539
msgid "Old L2TPv2-only API"
msgstr ""

#: ../../../networking/l2tp.rst:541
msgid ""
"When L2TP was first added to the Linux kernel in 2.6.23, it implemented only "
"L2TPv2 and did not include a netlink API. Instead, tunnel and session "
"instances in the kernel were managed directly using only PPPoL2TP sockets. "
"The PPPoL2TP socket is used as described in section \"PPPoL2TP Session "
"Socket API\" but tunnel and session instances are automatically created on a "
"connect() of the socket instead of being created by a separate netlink "
"request:"
msgstr ""

#: ../../../networking/l2tp.rst:549
msgid ""
"Tunnels are managed using a tunnel management socket which is a dedicated "
"PPPoL2TP socket, connected to (invalid) session id 0. The L2TP tunnel "
"instance is created when the PPPoL2TP tunnel management socket is connected "
"and is destroyed when the socket is closed."
msgstr ""

#: ../../../networking/l2tp.rst:555
msgid ""
"Session instances are created in the kernel when a PPPoL2TP socket is "
"connected to a non-zero session id. Session parameters are set using "
"setsockopt. The L2TP session instance is destroyed when the socket is closed."
msgstr ""

#: ../../../networking/l2tp.rst:560
msgid ""
"This API is still supported but its use is discouraged. Instead, new L2TPv2 "
"applications should use netlink to first create the tunnel and session, then "
"create a PPPoL2TP socket for the session."
msgstr ""

#: ../../../networking/l2tp.rst:565
msgid "Unmanaged L2TPv3 tunnels"
msgstr ""

#: ../../../networking/l2tp.rst:567
msgid ""
"The kernel L2TP subsystem also supports static (unmanaged) L2TPv3 tunnels. "
"Unmanaged tunnels have no userspace tunnel socket, and exchange no control "
"messages with the peer to set up the tunnel; the tunnel is configured "
"manually at each end of the tunnel. All configuration is done using netlink. "
"There is no need for an L2TP userspace application in this case -- the "
"tunnel socket is created by the kernel and configured using parameters sent "
"in the ``L2TP_CMD_TUNNEL_CREATE`` netlink request. The ``ip`` utility of "
"``iproute2`` has commands for managing static L2TPv3 tunnels; do ``ip l2tp "
"help`` for more information."
msgstr ""

#: ../../../networking/l2tp.rst:579
msgid "Debugging"
msgstr ""

#: ../../../networking/l2tp.rst:581
msgid ""
"The L2TP subsystem offers a range of debugging interfaces through the "
"debugfs filesystem."
msgstr ""

#: ../../../networking/l2tp.rst:584
msgid ""
"To access these interfaces, the debugfs filesystem must first be mounted::"
msgstr ""

#: ../../../networking/l2tp.rst:588
msgid ""
"Files under the l2tp directory can then be accessed, providing a summary of "
"the current population of tunnel and session contexts existing in the "
"kernel::"
msgstr ""

#: ../../../networking/l2tp.rst:594
msgid ""
"The debugfs files should not be used by applications to obtain L2TP state "
"information because the file format is subject to change. It is implemented "
"to provide extra debug information to help diagnose problems. Applications "
"should instead use the netlink API."
msgstr ""

#: ../../../networking/l2tp.rst:599
msgid ""
"In addition the L2TP subsystem implements tracepoints using the standard "
"kernel event tracing API.  The available L2TP events can be reviewed as "
"follows::"
msgstr ""

#: ../../../networking/l2tp.rst:605
msgid ""
"Finally, /proc/net/pppol2tp is also provided for backwards compatibility "
"with the original pppol2tp code. It lists information about L2TPv2 tunnels "
"and sessions only. Its use is discouraged."
msgstr ""

#: ../../../networking/l2tp.rst:610
msgid "Internal Implementation"
msgstr ""

#: ../../../networking/l2tp.rst:612
msgid "This section is for kernel developers and maintainers."
msgstr ""

#: ../../../networking/l2tp.rst:615
msgid "Sockets"
msgstr ""

#: ../../../networking/l2tp.rst:617
msgid ""
"UDP sockets are implemented by the networking core. When an L2TP tunnel is "
"created using a UDP socket, the socket is set up as an encapsulated UDP "
"socket by setting encap_rcv and encap_destroy callbacks on the UDP socket. "
"l2tp_udp_encap_recv is called when packets are received on the socket. "
"l2tp_udp_encap_destroy is called when userspace closes the socket."
msgstr ""

#: ../../../networking/l2tp.rst:624
msgid ""
"L2TPIP sockets are implemented in `net/l2tp/l2tp_ip.c`_ and `net/l2tp/"
"l2tp_ip6.c`_."
msgstr ""

#: ../../../networking/l2tp.rst:628
msgid "Tunnels"
msgstr ""

#: ../../../networking/l2tp.rst:630
msgid ""
"The kernel keeps a struct l2tp_tunnel context per L2TP tunnel. The "
"l2tp_tunnel is always associated with a UDP or L2TP/IP socket and keeps a "
"list of sessions in the tunnel. When a tunnel is first registered with L2TP "
"core, the reference count on the socket is increased. This ensures that the "
"socket cannot be removed while L2TP's data structures reference it."
msgstr ""

#: ../../../networking/l2tp.rst:637
msgid ""
"Tunnels are identified by a unique tunnel id. The id is 16-bit for L2TPv2 "
"and 32-bit for L2TPv3. Internally, the id is stored as a 32-bit value."
msgstr ""

#: ../../../networking/l2tp.rst:641
msgid ""
"Tunnels are kept in a per-net list, indexed by tunnel id. The tunnel id "
"namespace is shared by L2TPv2 and L2TPv3."
msgstr ""

#: ../../../networking/l2tp.rst:644
msgid ""
"Handling tunnel socket close is perhaps the most tricky part of the L2TP "
"implementation. If userspace closes a tunnel socket, the L2TP tunnel and all "
"of its sessions must be closed and destroyed. Since the tunnel context holds "
"a ref on the tunnel socket, the socket's sk_destruct won't be called until "
"the tunnel sock_put's its socket. For UDP sockets, when userspace closes the "
"tunnel socket, the socket's encap_destroy handler is invoked, which L2TP "
"uses to initiate its tunnel close actions. For L2TPIP sockets, the socket's "
"close handler initiates the same tunnel close actions. All sessions are "
"first closed. Each session drops its tunnel ref. When the tunnel ref reaches "
"zero, the tunnel drops its socket ref."
msgstr ""

#: ../../../networking/l2tp.rst:657
msgid "Sessions"
msgstr ""

#: ../../../networking/l2tp.rst:659
msgid ""
"The kernel keeps a struct l2tp_session context for each session.  Each "
"session has private data which is used for data specific to the session "
"type. With L2TPv2, the session always carries PPP traffic. With L2TPv3, the "
"session can carry Ethernet frames (Ethernet pseudowire) or other data types "
"such as PPP, ATM, HDLC or Frame Relay. Linux currently implements only "
"Ethernet and PPP session types."
msgstr ""

#: ../../../networking/l2tp.rst:666
msgid ""
"Some L2TP session types also have a socket (PPP pseudowires) while others do "
"not (Ethernet pseudowires)."
msgstr ""

#: ../../../networking/l2tp.rst:669
msgid ""
"Like tunnels, L2TP sessions are identified by a unique session id. Just as "
"with tunnel ids, the session id is 16-bit for L2TPv2 and 32-bit for L2TPv3. "
"Internally, the id is stored as a 32-bit value."
msgstr ""

#: ../../../networking/l2tp.rst:674
msgid ""
"Sessions hold a ref on their parent tunnel to ensure that the tunnel stays "
"extant while one or more sessions references it."
msgstr ""

#: ../../../networking/l2tp.rst:677
msgid ""
"Sessions are kept in a per-net list. L2TPv2 sessions and L2TPv3 sessions are "
"stored in separate lists. L2TPv2 sessions are keyed by a 32-bit key made up "
"of the 16-bit tunnel ID and 16-bit session ID. L2TPv3 sessions are keyed by "
"the 32-bit session ID, since L2TPv3 session ids are unique across all "
"tunnels."
msgstr ""

#: ../../../networking/l2tp.rst:683
msgid ""
"Although the L2TPv3 RFC specifies that L2TPv3 session ids are not scoped by "
"the tunnel, the Linux implementation has historically allowed this. Such "
"session id collisions are supported using a per-net hash table keyed by sk "
"and session ID. When looking up L2TPv3 sessions, the list entry may link to "
"multiple sessions with that session ID, in which case the session matching "
"the given sk (tunnel) is used."
msgstr ""

#: ../../../networking/l2tp.rst:692
msgid "PPP"
msgstr ""

#: ../../../networking/l2tp.rst:694
msgid ""
"`net/l2tp/l2tp_ppp.c`_ implements the PPPoL2TP socket family. Each PPP "
"session has a PPPoL2TP socket."
msgstr ""

#: ../../../networking/l2tp.rst:697
msgid "The PPPoL2TP socket's sk_user_data references the l2tp_session."
msgstr ""

#: ../../../networking/l2tp.rst:699
msgid ""
"Userspace sends and receives PPP packets over L2TP using a PPPoL2TP socket. "
"Only PPP control frames pass over this socket: PPP data packets are handled "
"entirely by the kernel, passing between the L2TP session and its associated "
"``pppN`` netdev through the PPP channel interface of the kernel PPP "
"subsystem."
msgstr ""

#: ../../../networking/l2tp.rst:705
msgid ""
"The L2TP PPP implementation handles the closing of a PPPoL2TP socket by "
"closing its corresponding L2TP session. This is complicated because it must "
"consider racing with netlink session create/destroy requests and "
"pppol2tp_connect trying to reconnect with a session that is in the process "
"of being closed. PPP sessions hold a ref on their associated socket in order "
"that the socket remains extants while the session references it."
msgstr ""

#: ../../../networking/l2tp.rst:714
msgid "Ethernet"
msgstr ""

#: ../../../networking/l2tp.rst:716
msgid ""
"`net/l2tp/l2tp_eth.c`_ implements L2TPv3 Ethernet pseudowires. It manages a "
"netdev for each session."
msgstr ""

#: ../../../networking/l2tp.rst:719
msgid ""
"L2TP Ethernet sessions are created and destroyed by netlink request, or are "
"destroyed when the tunnel is destroyed. Unlike PPP sessions, Ethernet "
"sessions do not have an associated socket."
msgstr ""

#: ../../../networking/l2tp.rst:724
msgid "Miscellaneous"
msgstr ""

#: ../../../networking/l2tp.rst:727
msgid "RFCs"
msgstr ""

#: ../../../networking/l2tp.rst:729
msgid ""
"The kernel code implements the datapath features specified in the following "
"RFCs:"
msgstr ""

#: ../../../networking/l2tp.rst:733
msgid "RFC2661"
msgstr ""

#: ../../../networking/l2tp.rst:733
msgid "L2TPv2"
msgstr ""

#: ../../../networking/l2tp.rst:733
msgid "https://tools.ietf.org/html/rfc2661"
msgstr ""

#: ../../../networking/l2tp.rst:734
msgid "RFC3931"
msgstr ""

#: ../../../networking/l2tp.rst:734
msgid "L2TPv3"
msgstr ""

#: ../../../networking/l2tp.rst:734
msgid "https://tools.ietf.org/html/rfc3931"
msgstr ""

#: ../../../networking/l2tp.rst:735
msgid "RFC4719"
msgstr ""

#: ../../../networking/l2tp.rst:735
msgid "L2TPv3 Ethernet"
msgstr ""

#: ../../../networking/l2tp.rst:735
msgid "https://tools.ietf.org/html/rfc4719"
msgstr ""

#: ../../../networking/l2tp.rst:739
msgid "Implementations"
msgstr ""

#: ../../../networking/l2tp.rst:741
msgid "A number of open source applications use the L2TP kernel subsystem:"
msgstr ""

#: ../../../networking/l2tp.rst:744
msgid "iproute2"
msgstr ""

#: ../../../networking/l2tp.rst:744
msgid "https://github.com/shemminger/iproute2"
msgstr ""

#: ../../../networking/l2tp.rst:745
msgid "go-l2tp"
msgstr ""

#: ../../../networking/l2tp.rst:745
msgid "https://github.com/katalix/go-l2tp"
msgstr ""

#: ../../../networking/l2tp.rst:746
msgid "tunneldigger"
msgstr ""

#: ../../../networking/l2tp.rst:746
msgid "https://github.com/wlanslovenija/tunneldigger"
msgstr ""

#: ../../../networking/l2tp.rst:747
msgid "xl2tpd"
msgstr ""

#: ../../../networking/l2tp.rst:747
msgid "https://github.com/xelerance/xl2tpd"
msgstr ""

#: ../../../networking/l2tp.rst:751
msgid "Limitations"
msgstr ""

#: ../../../networking/l2tp.rst:753
msgid "The current implementation has a number of limitations:"
msgstr ""

#: ../../../networking/l2tp.rst:755
msgid ""
"Interfacing with openvswitch is not yet implemented. It may be useful to map "
"OVS Ethernet and VLAN ports into L2TPv3 tunnels."
msgstr ""

#: ../../../networking/l2tp.rst:758
msgid ""
"VLAN pseudowires are implemented using an ``l2tpethN`` interface configured "
"with a VLAN sub-interface. Since L2TPv3 VLAN pseudowires carry one and only "
"one VLAN, it may be better to use a single netdevice rather than an "
"``l2tpethN`` and ``l2tpethN``:M pair per VLAN session. The netlink attribute "
"``L2TP_ATTR_VLAN_ID`` was added for this, but it was never implemented."
msgstr ""

#: ../../../networking/l2tp.rst:767
msgid "Testing"
msgstr ""

#: ../../../networking/l2tp.rst:769
msgid ""
"Unmanaged L2TPv3 Ethernet features are tested by the kernel's built-in "
"selftests. See `tools/testing/selftests/net/l2tp.sh`_."
msgstr ""

#: ../../../networking/l2tp.rst:772
msgid ""
"Another test suite, l2tp-ktest_, covers all of the L2TP APIs and tunnel/"
"session types. This may be integrated into the kernel's built-in L2TP "
"selftests in the future."
msgstr ""
