# SOME DESCRIPTIVE TITLE.
# Copyright (C) The kernel development community
# This file is distributed under the same license as the The Linux Kernel package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: The Linux Kernel master\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2025-09-27 13:53+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: zh_CN\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../../misc-devices/oxsemi-tornado.rst:5
msgid "Notes on Oxford Semiconductor PCIe (Tornado) 950 serial port devices"
msgstr ""

#: ../../../misc-devices/oxsemi-tornado.rst:7
msgid ""
"Oxford Semiconductor PCIe (Tornado) 950 serial port devices are driven by a "
"fixed 62.5MHz clock input derived from the 100MHz PCI Express clock."
msgstr ""

#: ../../../misc-devices/oxsemi-tornado.rst:10
msgid ""
"The baud rate produced by the baud generator is obtained from this input "
"frequency by dividing it by the clock prescaler, which can be set to any "
"value from 1 to 63.875 in increments of 0.125, and then the usual 16-bit "
"divisor is used as with the original 8250, to divide the frequency by a "
"value from 1 to 65535.  Finally a programmable oversampling rate is used "
"that can take any value from 4 to 16 to divide the frequency further and "
"determine the actual baud rate used.  Baud rates from 15625000bps down to "
"0.933bps can be obtained this way."
msgstr ""

#: ../../../misc-devices/oxsemi-tornado.rst:19
msgid ""
"By default the oversampling rate is set to 16 and the clock prescaler is set "
"to 33.875, meaning that the frequency to be used as the reference for the "
"usual 16-bit divisor is 115313.653, which is close enough to the frequency "
"of 115200 used by the original 8250 for the same values to be used for the "
"divisor to obtain the requested baud rates by software that is unaware of "
"the extra clock controls available."
msgstr ""

#: ../../../misc-devices/oxsemi-tornado.rst:26
msgid ""
"The oversampling rate is programmed with the TCR register and the clock "
"prescaler is programmed with the CPR/CPR2 register pair [OX200]_ [OX952]_ "
"[OX954]_ [OX958]_.  To switch away from the default value of 33.875 for the "
"prescaler the enhanced mode has to be explicitly enabled though, by setting "
"bit 4 of the EFR.  In that mode setting bit 7 in the MCR enables the "
"prescaler or otherwise it is bypassed as if the value of 1 was used. "
"Additionally writing any value to CPR clears CPR2 for compatibility with old "
"software written for older conventional PCI Oxford Semiconductor devices "
"that do not have the extra prescaler's 9th bit in CPR2, so the CPR/CPR2 "
"register pair has to be programmed in the right order."
msgstr ""

#: ../../../misc-devices/oxsemi-tornado.rst:37
msgid ""
"By using these parameters rates from 15625000bps down to 1bps can be "
"obtained, with either exact or highly-accurate actual bit rates for standard "
"and many non-standard rates."
msgstr ""

#: ../../../misc-devices/oxsemi-tornado.rst:41
msgid ""
"Here are the figures for the standard and some non-standard baud rates "
"(including those quoted in Oxford Semiconductor documentation), giving the "
"requested rate (r), the actual rate yielded (a) and its deviation from the "
"requested rate (d), and the values of the oversampling rate (tcr), the clock "
"prescaler (cpr) and the divisor (div) produced by the new ``get_divisor`` "
"handler:"
msgstr ""

#: ../../../misc-devices/oxsemi-tornado.rst:88
msgid ""
"With the baud base set to 15625000 and the unsigned 16-bit UART_DIV_MAX "
"limitation imposed by ``serial8250_get_baud_rate`` standard baud rates below "
"300bps become unavailable in the regular way, e.g. the rate of 200bps "
"requires the baud base to be divided by 78125 and that is beyond the "
"unsigned 16-bit range.  The historic spd_cust feature can still be used by "
"encoding the values for, the prescaler, the oversampling rate and the clock "
"divisor (DLM/DLL) as follows to obtain such rates if so required:"
msgstr ""

#: ../../../misc-devices/oxsemi-tornado.rst:104
msgid ""
"Use a value such encoded for the ``custom_divisor`` field along with the "
"ASYNC_SPD_CUST flag set in the ``flags`` field in ``struct serial_struct`` "
"passed with the TIOCSSERIAL ioctl(2), such as with the setserial(8) utility "
"and its ``divisor`` and ``spd_cust`` parameters, and then select the baud "
"rate of 38400bps.  Note that the value of 0 in TCR sets the oversampling "
"rate to 16 and prescaler values below 1 in CPR2/CPR are clamped by the "
"driver to 1."
msgstr ""

#: ../../../misc-devices/oxsemi-tornado.rst:112
msgid ""
"For example the value of 0x1f4004e2 will set CPR2/CPR, TCR and DLM/DLL "
"respectively to 0x1f4, 0x0 and 0x04e2, choosing the prescaler value, the "
"oversampling rate and the clock divisor of 62.500, 16 and 1250 "
"respectively.  These parameters will set the baud rate for the serial port "
"to 62500000 / 62.500 / 1250 / 16 = 50bps."
msgstr ""

#: ../../../misc-devices/oxsemi-tornado.rst:118
msgid "Maciej W. Rozycki  <macro@orcam.me.uk>"
msgstr ""

#: ../../../misc-devices/oxsemi-tornado.rst:120
msgid ""
"\"OXPCIe200 PCI Express Multi-Port Bridge\", Oxford Semiconductor, Inc., "
"DS-0045, 10 Nov 2008, Section \"950 Mode\", pp. 64-65"
msgstr ""

#: ../../../misc-devices/oxsemi-tornado.rst:123
msgid ""
"\"OXPCIe952 PCI Express Bridge to Dual Serial & Parallel Port\", Oxford "
"Semiconductor, Inc., DS-0046, Mar 06 08, Section \"950 Mode\", p. 20"
msgstr ""

#: ../../../misc-devices/oxsemi-tornado.rst:127
msgid ""
"\"OXPCIe954 PCI Express Bridge to Quad Serial Port\", Oxford Semiconductor, "
"Inc., DS-0047, Feb 08, Section \"950 Mode\", p. 20"
msgstr ""

#: ../../../misc-devices/oxsemi-tornado.rst:130
msgid ""
"\"OXPCIe958 PCI Express Bridge to Octal Serial Port\", Oxford Semiconductor, "
"Inc., DS-0048, Feb 08, Section \"950 Mode\", p. 20"
msgstr ""
