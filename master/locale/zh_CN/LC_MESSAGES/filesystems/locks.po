# SOME DESCRIPTIVE TITLE.
# Copyright (C) The kernel development community
# This file is distributed under the same license as the The Linux Kernel package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: The Linux Kernel master\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2025-09-27 13:53+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: zh_CN\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../../filesystems/locks.rst:5
msgid "File Locking Release Notes"
msgstr ""

#: ../../../filesystems/locks.rst:7
msgid "Andy Walker <andy@lysaker.kvaerner.no>"
msgstr ""

#: ../../../filesystems/locks.rst:9
msgid "12 May 1997"
msgstr ""

#: ../../../filesystems/locks.rst:13
msgid "1. What's New?"
msgstr ""

#: ../../../filesystems/locks.rst:16
msgid "1.1 Broken Flock Emulation"
msgstr ""

#: ../../../filesystems/locks.rst:18
msgid ""
"The old flock(2) emulation in the kernel was swapped for proper BSD "
"compatible flock(2) support in the 1.3.x series of kernels. With the release "
"of the 2.1.x kernel series, support for the old emulation has been totally "
"removed, so that we don't need to carry this baggage forever."
msgstr ""

#: ../../../filesystems/locks.rst:24
msgid ""
"This should not cause problems for anybody, since everybody using a 2.1.x "
"kernel should have updated their C library to a suitable version anyway (see "
"the file \"Documentation/process/changes.rst\".)"
msgstr ""

#: ../../../filesystems/locks.rst:29
msgid "1.2 Allow Mixed Locks Again"
msgstr ""

#: ../../../filesystems/locks.rst:32
msgid "1.2.1 Typical Problems - Sendmail"
msgstr ""

#: ../../../filesystems/locks.rst:33
msgid ""
"Because sendmail was unable to use the old flock() emulation, many sendmail "
"installations use fcntl() instead of flock(). This is true of Slackware 3.0 "
"for example. This gave rise to some other subtle problems if sendmail was "
"configured to rebuild the alias file. Sendmail tried to lock the aliases.dir "
"file with fcntl() at the same time as the GDBM routines tried to lock this "
"file with flock(). With pre 1.3.96 kernels this could result in deadlocks "
"that, over time, or under a very heavy mail load, would eventually cause the "
"kernel to lock solid with deadlocked processes."
msgstr ""

#: ../../../filesystems/locks.rst:44
msgid "1.2.2 The Solution"
msgstr ""

#: ../../../filesystems/locks.rst:45
msgid ""
"The solution I have chosen, after much experimentation and discussion, is to "
"make flock() and fcntl() locks oblivious to each other. Both can exists, and "
"neither will have any effect on the other."
msgstr ""

#: ../../../filesystems/locks.rst:49
msgid ""
"I wanted the two lock styles to be cooperative, but there were so many race "
"and deadlock conditions that the current solution was the only practical "
"one. It puts us in the same position as, for example, SunOS 4.1.x and "
"several other commercial Unices. The only OS's that support cooperative "
"flock()/fcntl() are those that emulate flock() using fcntl(), with all the "
"problems that implies."
msgstr ""

#: ../../../filesystems/locks.rst:58
msgid "1.3 Mandatory Locking As A Mount Option"
msgstr ""

#: ../../../filesystems/locks.rst:60
msgid ""
"Mandatory locking was prior to this release a general configuration option "
"that was valid for all mounted filesystems.  This had a number of inherent "
"dangers, not the least of which was the ability to freeze an NFS server by "
"asking it to read a file for which a mandatory lock existed."
msgstr ""

#: ../../../filesystems/locks.rst:65
msgid "Such option was dropped in Kernel v5.14."
msgstr ""
