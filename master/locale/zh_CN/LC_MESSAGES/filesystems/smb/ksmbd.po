# SOME DESCRIPTIVE TITLE.
# Copyright (C) The kernel development community
# This file is distributed under the same license as the The Linux Kernel package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: The Linux Kernel master\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2025-09-27 13:53+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: zh_CN\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../../filesystems/smb/ksmbd.rst:5
msgid "KSMBD - SMB3 Kernel Server"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:7
msgid ""
"KSMBD is a linux kernel server which implements SMB3 protocol in kernel "
"space for sharing files over network."
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:11
msgid "KSMBD architecture"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:13
msgid ""
"The subset of performance related operations belong in kernelspace and the "
"other subset which belong to operations which are not really related with "
"performance in userspace. So, DCE/RPC management that has historically "
"resulted into a number of buffer overflow issues and dangerous security bugs "
"and user account management are implemented in user space as ksmbd.mountd. "
"File operations that are related with performance (open/read/write/close "
"etc.) in kernel space (ksmbd). This also allows for easier integration with "
"VFS interface for all file operations."
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:23
msgid "ksmbd (kernel daemon)"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:25
msgid ""
"When the server daemon is started, It starts up a forker thread (ksmbd/"
"interface name) at initialization time and open a dedicated port 445 for "
"listening to SMB requests. Whenever new clients make a request, the Forker "
"thread will accept the client connection and fork a new thread for a "
"dedicated communication channel between the client and the server. It allows "
"for parallel processing of SMB requests(commands) from clients as well as "
"allowing for new clients to make new connections. Each instance is named "
"ksmbd/1~n(port number) to indicate connected clients. Depending on the SMB "
"request types, each new thread can decide to pass through the commands to "
"the user space (ksmbd.mountd), currently DCE/RPC commands are identified to "
"be handled through the user space. To further utilize the linux kernel, it "
"has been chosen to process the commands as workitems and to be executed in "
"the handlers of the ksmbd-io kworker threads. It allows for multiplexing of "
"the handlers as the kernel takes care of initiating extra worker threads if "
"the load is increased and vice versa, if the load is decreased it destroys "
"the extra worker threads. So, after the connection is established with the "
"client. Dedicated ksmbd/1..n(port number) takes complete ownership of "
"receiving/parsing of SMB commands. Each received command is worked in "
"parallel i.e., there can be multiple client commands which are worked in "
"parallel. After receiving each command a separated kernel workitem is "
"prepared for each command which is further queued to be handled by ksmbd-io "
"kworkers. So, each SMB workitem is queued to the kworkers. This allows the "
"benefit of load sharing to be managed optimally by the default kernel and "
"optimizing client performance by handling client commands in parallel."
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:50
msgid "ksmbd.mountd (user space daemon)"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:52
msgid ""
"ksmbd.mountd is a userspace process to, transfer the user account and "
"password that are registered using ksmbd.adduser (part of utils for user "
"space). Further it allows sharing information parameters that are parsed "
"from smb.conf to ksmbd in kernel. For the execution part it has a daemon "
"which is continuously running and connected to the kernel interface using "
"netlink socket, it waits for the requests (dcerpc and share/user info). It "
"handles RPC calls (at a minimum few dozen) that are most important for file "
"server from NetShareEnum and NetServerGetInfo. Complete DCE/RPC response is "
"prepared from the user space and passed over to the associated kernel thread "
"for the client."
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:64
msgid "KSMBD Feature Status"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:67
msgid "Feature name"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:67
msgid "Status"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:69
msgid "Dialects"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:69
msgid ""
"Supported. SMB2.1 SMB3.0, SMB3.1.1 dialects (intentionally excludes security "
"vulnerable SMB1 dialect)."
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:72
msgid "Auto Negotiation"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:72 ../../../filesystems/smb/ksmbd.rst:73
#: ../../../filesystems/smb/ksmbd.rst:74 ../../../filesystems/smb/ksmbd.rst:75
#: ../../../filesystems/smb/ksmbd.rst:76 ../../../filesystems/smb/ksmbd.rst:77
#: ../../../filesystems/smb/ksmbd.rst:78 ../../../filesystems/smb/ksmbd.rst:79
#: ../../../filesystems/smb/ksmbd.rst:80 ../../../filesystems/smb/ksmbd.rst:81
#: ../../../filesystems/smb/ksmbd.rst:82 ../../../filesystems/smb/ksmbd.rst:84
#: ../../../filesystems/smb/ksmbd.rst:87 ../../../filesystems/smb/ksmbd.rst:88
#: ../../../filesystems/smb/ksmbd.rst:99 ../../../filesystems/smb/ksmbd.rst:103
msgid "Supported."
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:73
msgid "Compound Request"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:74
msgid "Oplock Cache Mechanism"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:75
msgid "SMB2 leases(v1 lease)"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:76
msgid "Directory leases(v2 lease)"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:77
msgid "Multi-credits"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:78
msgid "NTLM/NTLMv2"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:79
msgid "HMAC-SHA256 Signing"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:80
msgid "Secure negotiate"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:81
msgid "Signing Update"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:82
msgid "Pre-authentication integrity"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:83
msgid "SMB3 encryption(CCM, GCM)"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:83
msgid "Supported. (CCM/GCM128 and CCM/GCM256 supported)"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:84
msgid "SMB direct(RDMA)"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:85
msgid "SMB3 Multi-channel"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:85
msgid ""
"Partially Supported. Planned to implement replay/retry mechanisms for future."
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:87
msgid "Receive Side Scaling mode"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:88
msgid "SMB3.1.1 POSIX extension"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:89
msgid "ACLs"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:89
msgid ""
"Partially Supported. only DACLs available, SACLs (auditing) is planned for "
"the future. For ownership (SIDs) ksmbd generates random subauth values(then "
"store it to disk) and use uid/gid get from inode as RID for local domain "
"SID. The current acl implementation is limited to standalone server, not a "
"domain member. Integration with Samba tools is being worked on to allow "
"future support for running as a domain member."
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:99
msgid "Kerberos"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:100
msgid "Durable handle v1,v2"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:100
#: ../../../filesystems/smb/ksmbd.rst:101
#: ../../../filesystems/smb/ksmbd.rst:102
#: ../../../filesystems/smb/ksmbd.rst:114
#: ../../../filesystems/smb/ksmbd.rst:115
#: ../../../filesystems/smb/ksmbd.rst:116
#: ../../../filesystems/smb/ksmbd.rst:117
msgid "Planned for future."
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:101
msgid "Persistent handle"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:102
msgid "SMB2 notify"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:103
msgid "Sparse file support"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:104
msgid "DCE/RPC support"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:104
msgid ""
"Partially Supported. a few calls(NetShareEnumAll, NetServerGetInfo, SAMR, "
"LSARPC) that are needed for file server handled via netlink interface from "
"ksmbd.mountd. Additional integration with Samba tools and libraries via "
"upcall is being investigated to allow support for additional DCE/RPC "
"management calls (and future support for Witness protocol e.g.)"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:112
msgid "ksmbd/nfsd interoperability"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:112
msgid ""
"Planned for future. The features that ksmbd support are Leases, Notify, ACLs "
"and Share modes."
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:114
msgid "SMB3.1.1 Compression"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:115
msgid "SMB3.1.1 over QUIC"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:116
msgid "Signing/Encryption over RDMA"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:117
msgid "SMB3.1.1 GMAC signing support"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:122
msgid "How to run"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:124
msgid ""
"Download ksmbd-tools(https://github.com/cifsd-team/ksmbd-tools/releases) and "
"compile them."
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:127
msgid ""
"Refer to README(https://github.com/cifsd-team/ksmbd-tools/blob/master/README."
"md) to know how to use ksmbd.mountd/adduser/addshare/control utils"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:130
msgid ""
"$ ./autogen.sh $ ./configure --with-rundir=/run $ make && sudo make install"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:134
msgid ""
"Create /usr/local/etc/ksmbd/ksmbd.conf file, add SMB share in ksmbd.conf "
"file."
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:136
msgid ""
"Refer to ksmbd.conf.example in ksmbd-utils, See ksmbd.conf manpage for "
"details to configure shares."
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:139
msgid "$ man ksmbd.conf"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:141
msgid "Create user/password for SMB share."
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:143
msgid "See ksmbd.adduser manpage."
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:145
msgid ""
"$ man ksmbd.adduser $ sudo ksmbd.adduser -a <Enter USERNAME for SMB share "
"access>"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:148
msgid ""
"Insert the ksmbd.ko module after you build your kernel. No need to load the "
"module if ksmbd is built into the kernel."
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:151
msgid "Set ksmbd in menuconfig(e.g. $ make menuconfig)"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:152
msgid "[*] Network File Systems  --->"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:153
msgid "<M> SMB3 server support (EXPERIMENTAL)"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:155
msgid "$ sudo modprobe ksmbd.ko"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:157
msgid "Start ksmbd user space daemon"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:159
msgid "$ sudo ksmbd.mountd"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:161
msgid ""
"Access share from Windows or Linux using SMB3 client (cifs.ko or smbclient "
"of samba)"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:164
msgid "Shutdown KSMBD"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:166
msgid "kill user and kernel space daemon"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:167
msgid "# sudo ksmbd.control -s"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:170
msgid "How to turn debug print on"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:172
msgid "Each layer /sys/class/ksmbd-control/debug"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:175
msgid "Enable all component prints"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:176
msgid "# sudo ksmbd.control -d \"all\""
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:178
msgid "Enable one of the components (smb, auth, vfs, oplock, ipc, conn, rdma)"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:179
msgid "# sudo ksmbd.control -d \"smb\""
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:181
msgid "Show what prints are enabled."
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:182
msgid "# cat /sys/class/ksmbd-control/debug"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:183
msgid "[smb] auth vfs oplock ipc conn [rdma]"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:185
msgid "Disable prints:"
msgstr ""

#: ../../../filesystems/smb/ksmbd.rst:186
msgid ""
"If you try the selected component once more, It is disabled without brackets."
msgstr ""
