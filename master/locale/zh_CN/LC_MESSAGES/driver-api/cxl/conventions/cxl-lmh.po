# SOME DESCRIPTIVE TITLE.
# Copyright (C) The kernel development community
# This file is distributed under the same license as the The Linux Kernel package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: The Linux Kernel master\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2026-02-16 08:44+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: zh_CN\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:4
msgid ""
"Resolve conflict between CFMWS, Platform Memory Holes, and Endpoint Decoders"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:7
msgid "Document"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:9
msgid "CXL Revision 3.2, Version 1.0"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:12
msgid "License"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:14
msgid "SPDX-License Identifier: CC-BY-4.0"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:17
msgid "Creator/Contributors"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:19
msgid "Fabio M. De Francesco, Intel"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:20
msgid "Dan J. Williams, Intel"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:21
msgid "Mahesh Natu, Intel"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:24
msgid "Summary of the Change"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:26
msgid ""
"According to the current Compute Express Link (CXL) Specifications (Revision "
"3.2, Version 1.0), the CXL Fixed Memory Window Structure (CFMWS) describes "
"zero or more Host Physical Address (HPA) windows associated with each CXL "
"Host Bridge. Each window represents a contiguous HPA range that may be "
"interleaved across one or more targets, including CXL Host Bridges. Each "
"window has a set of restrictions that govern its usage. It is the Operating "
"System-directed configuration and Power Management (OSPM) responsibility to "
"utilize each window for the specified use."
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:35
msgid ""
"Table 9-22 of the current CXL Specifications states that the Window Size "
"field contains the total number of consecutive bytes of HPA this window "
"describes. This value must be a multiple of the Number of Interleave Ways "
"(NIW) * 256 MB."
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:39
msgid ""
"Platform Firmware (BIOS) might reserve physical addresses below 4 GB where a "
"memory gap such as the Low Memory Hole for PCIe MMIO may exist. In such "
"cases, the CFMWS Range Size may not adhere to the NIW * 256 MB rule."
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:43
msgid ""
"The HPA represents the actual physical memory address space that the CXL "
"devices can decode and respond to, while the System Physical Address (SPA), "
"a related but distinct concept, represents the system-visible address space "
"that users can direct transaction to and so it excludes reserved regions."
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:48
msgid ""
"BIOS publishes CFMWS to communicate the active SPA ranges that, on platforms "
"with LMH's, map to a strict subset of the HPA. The SPA range trims out the "
"hole, resulting in lost capacity in the Endpoints with no SPA to map to that "
"part of the HPA range that intersects the hole."
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:53
msgid "E.g, an x86 platform with two CFMWS and an LMH starting at 2 GB:"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:56
msgid "Window"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:56
msgid "CFMWS Base"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:56
msgid "CFMWS Size"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:56
msgid "HDM Decoder Base"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:56
msgid "HDM Decoder Size"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:56
msgid "Ways"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:58
msgid "0"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:58
msgid "0 GB"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:58
msgid "2 GB"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:58
msgid "3 GB"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:58
#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:60
msgid "12"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:60
msgid "1"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:60
msgid "4 GB"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:60
msgid "NIW*256MB Aligned"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:63
msgid ""
"HDM decoder base and HDM decoder size represent all the 12 Endpoint Decoders "
"of a 12 ways region and all the intermediate Switch Decoders. They are "
"configured by the BIOS according to the NIW * 256MB rule, resulting in a HPA "
"range size of 3GB. Instead, the CFMWS Base and CFMWS Size are used to "
"configure the Root Decoder HPA range that results smaller (2GB) than that of "
"the Switch and Endpoint Decoders in the hierarchy (3GB)."
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:70
msgid "This creates 2 issues which lead to a failure to construct a region:"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:72
msgid ""
"A mismatch in region size between root and any HDM decoder. The root "
"decoders will always be smaller due to the trim."
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:75
msgid "The trim causes the root decoder to violate the (NIW * 256MB) rule."
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:77
msgid ""
"This change allows a region with a base address of 0GB to bypass these "
"checks to allow for region creation with the trimmed root decoder address "
"range."
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:80
msgid ""
"This change does not allow for any other arbitrary region to violate these "
"checks - it is intended exclusively to enable x86 platforms which map CXL "
"memory under 4GB."
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:84
msgid ""
"Despite the HDM decoders covering the PCIE hole HPA region, it is expected "
"that the platform will never route address accesses to the CXL complex "
"because the root decoder only covers the trimmed region (which excludes "
"this). This is outside the ability of Linux to enforce."
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:89
msgid ""
"On the example platform, only the first 2GB will be potentially usable, but "
"Linux, aiming to adhere to the current specifications, fails to construct "
"Regions and attach Endpoint and intermediate Switch Decoders to them."
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:93
msgid ""
"There are several points of failure that due to the expectation that the "
"Root Decoder HPA size, that is equal to the CFMWS from which it is "
"configured, has to be greater or equal to the matching Switch and Endpoint "
"HDM Decoders."
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:97
msgid ""
"In order to succeed with construction and attachment, Linux must construct a "
"Region with Root Decoder HPA range size, and then attach to that all the "
"intermediate Switch Decoders and Endpoint Decoders that belong to the "
"hierarchy regardless of their range sizes."
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:103
msgid "Benefits of the Change"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:105
msgid ""
"Without the change, the OSPM wouldn't match intermediate Switch and Endpoint "
"Decoders with Root Decoders configured with CFMWS HPA sizes that don't align "
"with the NIW * 256MB constraint, and so it leads to lost memdev capacity."
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:109
msgid ""
"This change allows the OSPM to construct Regions and attach intermediate "
"Switch and Endpoint Decoders to them, so that the addressable part of the "
"memory devices total capacity is made available to the users."
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:114
msgid "References"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:116
msgid ""
"Compute Express Link Specification Revision 3.2, Version 1.0 <https://www."
"computeexpresslink.org/>"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:120
msgid "Detailed Description of the Change"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:122
msgid ""
"The description of the Window Size field in table 9-22 needs to account for "
"platforms with Low Memory Holes, where SPA ranges might be subsets of the "
"endpoints HPA. Therefore, it has to be changed to the following:"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:126
msgid ""
"\"The total number of consecutive bytes of HPA this window represents. This "
"value shall be a multiple of NIW * 256 MB."
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:129
msgid ""
"On platforms that reserve physical addresses below 4 GB, such as the Low "
"Memory Hole for PCIe MMIO on x86, an instance of CFMWS whose Base HPA range "
"is 0 might have a size that doesn't align with the NIW * 256 MB constraint."
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-lmh.rst:133
msgid ""
"Note that the matching intermediate Switch Decoders and the Endpoint "
"Decoders HPA range sizes must still align to the above-mentioned rule, but "
"the memory capacity that exceeds the CFMWS window size won't be accessible."
"\"."
msgstr ""
