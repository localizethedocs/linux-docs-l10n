# SOME DESCRIPTIVE TITLE.
# Copyright (C) The kernel development community
# This file is distributed under the same license as the The Linux Kernel package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: The Linux Kernel master\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2026-02-16 08:44+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: zh_CN\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../../core-api/housekeeping.rst:3
msgid "Housekeeping"
msgstr ""

#: ../../../core-api/housekeeping.rst:6
msgid ""
"CPU Isolation moves away kernel work that may otherwise run on any CPU. The "
"purpose of its related features is to reduce the OS jitter that some extreme "
"workloads can't stand, such as in some DPDK usecases."
msgstr ""

#: ../../../core-api/housekeeping.rst:10
msgid ""
"The kernel work moved away by CPU isolation is commonly described as "
"\"housekeeping\" because it includes ground work that performs cleanups, "
"statistics maintainance and actions relying on them, memory release, various "
"deferrals etc..."
msgstr ""

#: ../../../core-api/housekeeping.rst:15
msgid ""
"Sometimes housekeeping is just some unbound work (unbound workqueues, "
"unbound timers, ...) that gets easily assigned to non-isolated CPUs. But "
"sometimes housekeeping is tied to a specific CPU and requires elaborated "
"tricks to be offloaded to non-isolated CPUs (RCU_NOCB, remote scheduler "
"tick, etc...)."
msgstr ""

#: ../../../core-api/housekeeping.rst:21
msgid ""
"Thus, a housekeeping CPU can be considered as the reverse of an isolated "
"CPU. It is simply a CPU that can execute housekeeping work. There must "
"always be at least one online housekeeping CPU at any time. The CPUs that "
"are not isolated are automatically assigned as housekeeping."
msgstr ""

#: ../../../core-api/housekeeping.rst:26
msgid ""
"Housekeeping is currently divided in four features described by the ``enum "
"hk_type type``:"
msgstr ""

#: ../../../core-api/housekeeping.rst:29
msgid ""
"HK_TYPE_DOMAIN matches the work moved away by scheduler domain isolation "
"performed through ``isolcpus=domain`` boot parameter or isolated cpuset "
"partitions in cgroup v2. This includes scheduler load balancing, unbound "
"workqueues and timers."
msgstr ""

#: ../../../core-api/housekeeping.rst:34
msgid ""
"HK_TYPE_KERNEL_NOISE matches the work moved away by tick isolation performed "
"through ``nohz_full=`` or ``isolcpus=nohz`` boot parameters. This includes "
"remote scheduler tick, vmstat and lockup watchdog."
msgstr ""

#: ../../../core-api/housekeeping.rst:39
msgid ""
"HK_TYPE_MANAGED_IRQ matches the IRQ handlers moved away by managed IRQ "
"isolation performed through ``isolcpus=managed_irq``."
msgstr ""

#: ../../../core-api/housekeeping.rst:42
msgid ""
"HK_TYPE_DOMAIN_BOOT matches the work moved away by scheduler domain "
"isolation performed through ``isolcpus=domain`` only. It is similar to "
"HK_TYPE_DOMAIN except it ignores the isolation performed by cpusets."
msgstr ""

#: ../../../core-api/housekeeping.rst:49
msgid "Housekeeping cpumasks"
msgstr ""

#: ../../../core-api/housekeeping.rst:51
msgid ""
"Housekeeping cpumasks include the CPUs that can execute the work moved away "
"by the matching isolation feature. These cpumasks are returned by the "
"following function::"
msgstr ""

#: ../../../core-api/housekeeping.rst:57
msgid ""
"By default, if neither ``nohz_full=``, nor ``isolcpus``, nor cpuset's "
"isolated partitions are used, which covers most usecases, this function "
"returns the cpu_possible_mask."
msgstr ""

#: ../../../core-api/housekeeping.rst:61
msgid ""
"Otherwise the function returns the cpumask complement of the isolation "
"feature. For example:"
msgstr ""

#: ../../../core-api/housekeeping.rst:64
msgid ""
"With isolcpus=domain,7 the following will return a mask with all possible "
"CPUs except 7::"
msgstr ""

#: ../../../core-api/housekeeping.rst:69
msgid ""
"Similarly with nohz_full=5,6 the following will return a mask with all "
"possible CPUs except 5,6::"
msgstr ""

#: ../../../core-api/housekeeping.rst:76
msgid "Synchronization against cpusets"
msgstr ""

#: ../../../core-api/housekeeping.rst:78
msgid ""
"Cpuset can modify the HK_TYPE_DOMAIN housekeeping cpumask while creating, "
"modifying or deleting an isolated partition."
msgstr ""

#: ../../../core-api/housekeeping.rst:81
msgid ""
"The users of HK_TYPE_DOMAIN cpumask must then make sure to synchronize "
"properly against cpuset in order to make sure that:"
msgstr ""

#: ../../../core-api/housekeeping.rst:84
msgid "The cpumask snapshot stays coherent."
msgstr ""

#: ../../../core-api/housekeeping.rst:86
msgid "No housekeeping work is queued on a newly made isolated CPU."
msgstr ""

#: ../../../core-api/housekeeping.rst:88
msgid ""
"Pending housekeeping work that was queued to a non isolated CPU which just "
"turned isolated through cpuset must be flushed before the related created/"
"modified isolated partition is made available to userspace."
msgstr ""

#: ../../../core-api/housekeeping.rst:93
msgid ""
"This synchronization is maintained by an RCU based scheme. The cpuset update "
"side waits for an RCU grace period after updating the HK_TYPE_DOMAIN cpumask "
"and before flushing pending works. On the read side, care must be taken to "
"gather the housekeeping target election and the work enqueue within the same "
"RCU read side critical section."
msgstr ""

#: ../../../core-api/housekeeping.rst:99
msgid ""
"A typical layout example would look like this on the update side "
"(``housekeeping_update()``)::"
msgstr ""

#: ../../../core-api/housekeeping.rst:106
msgid "And then on the read side::"
msgstr ""
