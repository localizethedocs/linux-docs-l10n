# SOME DESCRIPTIVE TITLE.
# Copyright (C) The kernel development community
# This file is distributed under the same license as the The Linux Kernel package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: The Linux Kernel master\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2026-02-16 08:44+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: zh_TW\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:4
msgid "ACPI PRM CXL Address Translation"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:7
#: ../../../driver-api/cxl/conventions/cxl-atl.rst:216
msgid "Document"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:9
msgid "CXL Revision 3.2, Version 1.0"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:12
msgid "License"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:14
msgid "SPDX-License Identifier: CC-BY-4.0"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:17
msgid "Creator/Contributors"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:19
msgid "Robert Richter, AMD et al."
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:22
msgid "Summary of the Change"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:24
msgid ""
"The CXL Fixed Memory Window Structures (CFMWS) describe zero or more Host "
"Physical Address (HPA) windows associated with one or more CXL Host Bridges. "
"Each HPA range of a CXL Host Bridge is represented by a CFMWS entry. An HPA "
"range may include addresses currently assigned to CXL.mem devices, or an OS "
"may assign ranges from an address window to a device."
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:30
msgid ""
"Host-managed Device Memory is Device-attached memory that is mapped to "
"system coherent address space and accessible to the Host using standard "
"write-back semantics. The managed address range is configured in the CXL HDM "
"Decoder registers of the device. An HDM Decoder in a device is responsible "
"for converting HPA into DPA by stripping off specific address bits."
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:36
msgid ""
"CXL devices and CXL bridges use the same HPA space. It is common across all "
"components that belong to the same host domain. The view of the address "
"region must be consistent on the CXL.mem path between the Host and the "
"Device."
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:40
msgid ""
"This is described in the *CXL 3.2 specification* (Table 1-1, 3.3.1, "
"8.2.4.20, 9.13.1, 9.18.1.3). [#cxl-spec-3.2]_"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:43
msgid ""
"Depending on the interconnect architecture of the platform, components "
"attached to a host may not share the same host physical address space. Those "
"platforms need address translation to convert an HPA between the host and "
"the attached component, such as a CXL device. The translation mechanism is "
"host-specific and implementation dependent."
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:49
msgid ""
"For example, x86 AMD platforms use a Data Fabric that manages access to "
"physical memory. Devices have their own memory space and can be configured "
"to use 'Normalized addresses' different from System Physical Addresses "
"(SPA). Address translation is then needed. For details, see :doc:`x86 AMD "
"Address Translation </admin-guide/RAS/address-translation>`."
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:55
msgid ""
"Those AMD platforms provide PRM [#prm-spec]_ handlers in firmware to perform "
"various types of address translation, including for CXL endpoints. AMD Zen5 "
"systems implement the ACPI PRM CXL Address Translation firmware call. The "
"ACPI PRM handler has a specific GUID to uniquely identify platforms with "
"support for Normalized addressing. This is documented in the *ACPI v6.5 "
"Porting Guide* (Address Translation - CXL DPA to System Physical Address). "
"[#amd-ppr-58088]_"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:62
msgid ""
"When in Normalized address mode, HDM decoder address ranges must be "
"configured and handled differently. Hardware addresses used in the HDM "
"decoder configurations of an endpoint are not SPA and need to be translated "
"from the address range of the endpoint to that of the CXL host bridge. This "
"is especially important for finding an endpoint's associated CXL Host Bridge "
"and HPA window described in the CFMWS. Additionally, the interleave decoding "
"is done by the Data Fabric and the endpoint does not perform decoding when "
"converting HPA to DPA. Instead, interleaving is switched off for the "
"endpoint (1-way). Finally, address translation might also be needed to "
"inspect the endpoint's hardware addresses, such as during profiling, "
"tracing, or error handling."
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:73
msgid ""
"For example, with Normalized addressing the HDM decoders could look as "
"follows::"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:113
msgid "This shows the representation in sysfs:"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:134
msgid ""
"Note that the endpoint interleaving configurations use direct mapping (1-"
"way)."
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:136
msgid "With PRM calls, the kernel can determine the following mappings:"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:149
msgid ""
"The corresponding CXL host bridge (HDM) decoders and root decoder (CFMWS) "
"match the calculated endpoint mappings shown:"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:166
msgid "The following changes to the specification are needed:"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:168
msgid ""
"Allow a CXL device to be in an HPA space other than the host's address space."
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:170
msgid ""
"Allow the platform to use implementation-specific address translation when "
"crossing memory domains on the CXL.mem path between the host and the device."
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:173
msgid "Define a PRM handler method for converting device addresses to SPAs."
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:175
msgid ""
"Specify that the platform shall provide the PRM handler method to the "
"Operating System to detect Normalized addressing and for determining "
"Endpoint SPA ranges and interleaving configurations."
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:179
msgid "Add reference to:"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:0
msgid "Platform Runtime Mechanism Specification, Version 1.1 – November 2020"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:0
msgid ""
"https://uefi.org/sites/default/files/resources/"
"PRM_Platform_Runtime_Mechanism_1_1_release_candidate.pdf"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:185
msgid "Benefits of the Change"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:187
msgid ""
"Without the change, the Operating System may be unable to determine the "
"memory region and Root Decoder for an Endpoint and its corresponding HDM "
"decoder. Region creation would fail. Platforms with a different interconnect "
"architecture would fail to set up and use CXL."
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:193
msgid "References"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:195
msgid ""
"Compute Express Link Specification, Revision 3.2, Version 1.0, https://www."
"computeexpresslink.org/"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:198
msgid ""
"AMD Family 1Ah Models 00h–0Fh and Models 10h–1Fh, ACPI v6.5 Porting Guide, "
"Publication # 58088, https://www.amd.com/en/search/documentation/hub.html"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:202
msgid ""
"Platform Runtime Mechanism, Version: 1.1, https://uefi.org/sites/default/"
"files/resources/PRM_Platform_Runtime_Mechanism_1_1_release_candidate.pdf"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:206
msgid "Detailed Description of the Change"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:208
msgid ""
"The following describes the necessary changes to the *CXL 3.2 specification* "
"[#cxl-spec-3.2]_:"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:211
msgid "Add the following reference to the table:"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:213
msgid "Table 1-2. Reference Documents"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:216
msgid "Chapter Reference"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:216
msgid "Document No./Location"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:218
msgid "Platform Runtime Mechanism Version: 1.1"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:218
msgid "Chapter 8, 9"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:218
msgid "https://www.uefi.org/acpi"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:222
msgid "Add the following paragraphs to the end of the section:"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:224
msgid "**8.2.4.20 CXL HDM Decoder Capability Structure**"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:226
msgid ""
"\"A device may use an HPA space that is not common to other components of "
"the host domain. The platform is responsible for address translation when "
"crossing HPA spaces. The Operating System must determine the interleaving "
"configuration and perform address translation to the HPA ranges of the HDM "
"decoders as needed. The translation mechanism is host-specific and "
"implementation dependent."
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:232
msgid ""
"The platform indicates support of independent HPA spaces and the need for "
"address translation by providing a Platform Runtime Mechanism (PRM) handler. "
"The OS shall use that handler to perform the necessary translations from the "
"DPA space to the HPA space. The handler is defined in Section 9.18.4 *PRM "
"Handler for CXL DPA to System Physical Address Translation*.\""
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:238
msgid "Add the following section and sub-section including tables:"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:240
msgid ""
"**9.18.4 PRM Handler for CXL DPA to System Physical Address Translation**"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:242
msgid ""
"\"A platform may be configured to use 'Normalized addresses'. Host physical "
"address (HPA) spaces are component-specific and differ from system physical "
"addresses (SPAs). The endpoint has its own physical address space. All "
"requests presented to the device already use Device Physical Addresses "
"(DPAs). The CXL endpoint decoders have interleaving disabled (1-way "
"interleaving) and the device does not perform HPA decoding to determine a "
"DPA."
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:249
msgid ""
"The platform provides a PRM handler for CXL DPA to System Physical Address "
"Translation. The PRM handler translates a Device Physical Address (DPA) to a "
"System Physical Address (SPA) for a specified CXL endpoint. In the address "
"space of the host, SPA and HPA are equivalent, and the OS shall use this "
"handler to determine the HPA that corresponds to a device address, for "
"example when configuring HDM decoders on platforms with Normalized "
"addressing. The GUID and the parameter buffer format of the handler are "
"specified in section 9.18.4.1. If the OS identifies the PRM handler, the "
"platform supports Normalized addressing and the OS must perform DPA address "
"translation as needed.\""
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:259
msgid "**9.18.4.1 PRM Handler Invocation**"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:261
msgid ""
"\"The OS calls the PRM handler for CXL DPA to System Physical Address "
"Translation using the direct invocation mechanism. Details of calling a PRM "
"handler are described in the Platform Runtime Mechanism (PRM) specification."
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:265
msgid "The PRM handler is identified by the following GUID:"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:267
msgid "EE41B397-25D4-452C-AD54-48C6E3480B94"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:269
msgid ""
"The caller allocates and prepares a Parameter Buffer, then passes the PRM "
"handler GUID and a pointer to the Parameter Buffer to invoke the handler. "
"The Parameter Buffer is described in Table 9-32.\""
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:273
msgid ""
"**Table 9-32. PRM Parameter Buffer used for CXL DPA to System Physical "
"Address Translation**"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:276
#: ../../../driver-api/cxl/conventions/cxl-atl.rst:299
msgid "Byte Offset"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:276
#: ../../../driver-api/cxl/conventions/cxl-atl.rst:299
msgid "Length in"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:277
#: ../../../driver-api/cxl/conventions/cxl-atl.rst:300
msgid "Bytes"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:276
#: ../../../driver-api/cxl/conventions/cxl-atl.rst:299
msgid "Description"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:279
#: ../../../driver-api/cxl/conventions/cxl-atl.rst:302
msgid "00h"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:279
#: ../../../driver-api/cxl/conventions/cxl-atl.rst:292
#: ../../../driver-api/cxl/conventions/cxl-atl.rst:302
msgid "8"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:279
msgid ""
"**CXL Device Physical Address (DPA)**: CXL DPA (e.g., from CXL Component "
"Event Log)"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:282
msgid "08h"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:282
msgid "4"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:282
msgid "**CXL Endpoint SBDF**:"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:284
msgid "Byte 3 - PCIe Segment"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:285
msgid "Byte 2 - Bus Number"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:286
msgid "Byte 1:"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:287
msgid "Device Number Bits[7:3]"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:288
msgid "Function Number Bits[2:0]"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:289
msgid "Byte 0 - RESERVED (MBZ)"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:292
msgid "0Ch"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:292
msgid ""
"**Output Buffer**: Virtual Address Pointer to the buffer, as defined in "
"Table 9-33."
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:296
msgid ""
"**Table 9-33. PRM Output Buffer used for CXL DPA to System Physical Address "
"Translation**"
msgstr ""

#: ../../../driver-api/cxl/conventions/cxl-atl.rst:302
msgid "**System Physical Address (SPA)**: The SPA converted from the CXL DPA."
msgstr ""
