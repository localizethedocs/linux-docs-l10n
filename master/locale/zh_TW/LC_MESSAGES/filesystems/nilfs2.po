# SOME DESCRIPTIVE TITLE.
# Copyright (C) The kernel development community
# This file is distributed under the same license as the The Linux Kernel package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: The Linux Kernel master\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2025-09-27 13:53+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: zh_TW\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../../filesystems/nilfs2.rst:5
msgid "NILFS2"
msgstr ""

#: ../../../filesystems/nilfs2.rst:7
msgid ""
"NILFS2 is a log-structured file system (LFS) supporting continuous "
"snapshotting.  In addition to versioning capability of the entire file "
"system, users can even restore files mistakenly overwritten or destroyed "
"just a few seconds ago.  Since NILFS2 can keep consistency like conventional "
"LFS, it achieves quick recovery after system crashes."
msgstr ""

#: ../../../filesystems/nilfs2.rst:14
msgid ""
"NILFS2 creates a number of checkpoints every few seconds or per synchronous "
"write basis (unless there is no change).  Users can select significant "
"versions among continuously created checkpoints, and can change them into "
"snapshots which will be preserved until they are changed back to checkpoints."
msgstr ""

#: ../../../filesystems/nilfs2.rst:20
msgid ""
"There is no limit on the number of snapshots until the volume gets full.  "
"Each snapshot is mountable as a read-only file system concurrently with its "
"writable mount, and this feature is convenient for online backup."
msgstr ""

#: ../../../filesystems/nilfs2.rst:25
msgid ""
"The userland tools are included in nilfs-utils package, which is available "
"from the following download page.  At least \"mkfs.nilfs2\", \"mount."
"nilfs2\", \"umount.nilfs2\", and \"nilfs_cleanerd\" (so called cleaner or "
"garbage collector) are required.  Details on the tools are described in the "
"man pages included in the package."
msgstr ""

#: ../../../filesystems/nilfs2.rst:0
msgid "Project web page"
msgstr ""

#: ../../../filesystems/nilfs2.rst:31
msgid "https://nilfs.sourceforge.io/"
msgstr ""

#: ../../../filesystems/nilfs2.rst:0
msgid "Download page"
msgstr ""

#: ../../../filesystems/nilfs2.rst:32
msgid "https://nilfs.sourceforge.io/en/download.html"
msgstr ""

#: ../../../filesystems/nilfs2.rst:0
msgid "List info"
msgstr ""

#: ../../../filesystems/nilfs2.rst:33
msgid "http://vger.kernel.org/vger-lists.html#linux-nilfs"
msgstr ""

#: ../../../filesystems/nilfs2.rst:36
msgid "Caveats"
msgstr ""

#: ../../../filesystems/nilfs2.rst:38
msgid "Features which NILFS2 does not support yet:"
msgstr ""

#: ../../../filesystems/nilfs2.rst:40
msgid "atime"
msgstr ""

#: ../../../filesystems/nilfs2.rst:41
msgid "extended attributes"
msgstr ""

#: ../../../filesystems/nilfs2.rst:42
msgid "POSIX ACLs"
msgstr ""

#: ../../../filesystems/nilfs2.rst:43
msgid "quotas"
msgstr ""

#: ../../../filesystems/nilfs2.rst:44
msgid "fsck"
msgstr ""

#: ../../../filesystems/nilfs2.rst:45
msgid "defragmentation"
msgstr ""

#: ../../../filesystems/nilfs2.rst:48
msgid "Mount options"
msgstr ""

#: ../../../filesystems/nilfs2.rst:50
msgid "NILFS2 supports the following mount options: (*) == default"
msgstr ""

#: ../../../filesystems/nilfs2.rst:54
msgid "barrier(*)"
msgstr ""

#: ../../../filesystems/nilfs2.rst:54
msgid "This enables/disables the use of write barriers.  This"
msgstr ""

#: ../../../filesystems/nilfs2.rst:55
msgid "nobarrier"
msgstr ""

#: ../../../filesystems/nilfs2.rst:55
msgid ""
"requires an IO stack which can support barriers, and if nilfs gets an error "
"on a barrier write, it will disable again with a warning."
msgstr ""

#: ../../../filesystems/nilfs2.rst:58
msgid "errors=continue"
msgstr ""

#: ../../../filesystems/nilfs2.rst:58
msgid "Keep going on a filesystem error."
msgstr ""

#: ../../../filesystems/nilfs2.rst:59
msgid "errors=remount-ro(*)"
msgstr ""

#: ../../../filesystems/nilfs2.rst:59
msgid "Remount the filesystem read-only on an error."
msgstr ""

#: ../../../filesystems/nilfs2.rst:60
msgid "errors=panic"
msgstr ""

#: ../../../filesystems/nilfs2.rst:60
msgid "Panic and halt the machine if an error occurs."
msgstr ""

#: ../../../filesystems/nilfs2.rst:61
msgid "cp=n"
msgstr ""

#: ../../../filesystems/nilfs2.rst:61
msgid ""
"Specify the checkpoint-number of the snapshot to be mounted.  Checkpoints "
"and snapshots are listed by lscp user command.  Only the checkpoints marked "
"as snapshot are mountable with this option.  Snapshot is read-only, so a "
"read-only mount option must be specified together."
msgstr ""

#: ../../../filesystems/nilfs2.rst:66
msgid "order=relaxed(*)"
msgstr ""

#: ../../../filesystems/nilfs2.rst:66
msgid ""
"Apply relaxed order semantics that allows modified data blocks to be written "
"to disk without making a checkpoint if no metadata update is going.  This "
"mode is equivalent to the ordered data mode of the ext3 filesystem except "
"for the updates on data blocks still conserve atomicity.  This will improve "
"synchronous write performance for overwriting."
msgstr ""

#: ../../../filesystems/nilfs2.rst:73
msgid "order=strict"
msgstr ""

#: ../../../filesystems/nilfs2.rst:73
msgid ""
"Apply strict in-order semantics that preserves sequence of all file "
"operations including overwriting of data blocks.  That means, it is "
"guaranteed that no overtaking of events occurs in the recovered file system "
"after a crash."
msgstr ""

#: ../../../filesystems/nilfs2.rst:78
msgid "norecovery"
msgstr ""

#: ../../../filesystems/nilfs2.rst:78
msgid ""
"Disable recovery of the filesystem on mount. This disables every write "
"access on the device for read-only mounts or snapshots.  This option will "
"fail for r/w mounts on an unclean volume."
msgstr ""

#: ../../../filesystems/nilfs2.rst:82
msgid "discard"
msgstr ""

#: ../../../filesystems/nilfs2.rst:82
msgid "This enables/disables the use of discard/TRIM commands."
msgstr ""

#: ../../../filesystems/nilfs2.rst:83
msgid "nodiscard(*)"
msgstr ""

#: ../../../filesystems/nilfs2.rst:83
msgid ""
"The discard/TRIM commands are sent to the underlying block device when "
"blocks are freed.  This is useful for SSD devices and sparse/thinly-"
"provisioned LUNs."
msgstr ""

#: ../../../filesystems/nilfs2.rst:89
msgid "Ioctls"
msgstr ""

#: ../../../filesystems/nilfs2.rst:91
msgid ""
"There is some NILFS2 specific functionality which can be accessed by "
"applications through the system call interfaces. The list of all NILFS2 "
"specific ioctls are shown in the table below."
msgstr ""

#: ../../../filesystems/nilfs2.rst:95
msgid "Table of NILFS2 specific ioctls:"
msgstr ""

#: ../../../filesystems/nilfs2.rst:98
msgid "Ioctl"
msgstr ""

#: ../../../filesystems/nilfs2.rst:98
msgid "Description"
msgstr ""

#: ../../../filesystems/nilfs2.rst:100
msgid "NILFS_IOCTL_CHANGE_CPMODE"
msgstr ""

#: ../../../filesystems/nilfs2.rst:100
msgid ""
"Change mode of given checkpoint between checkpoint and snapshot state. This "
"ioctl is used in chcp and mkcp utilities."
msgstr ""

#: ../../../filesystems/nilfs2.rst:104
msgid "NILFS_IOCTL_DELETE_CHECKPOINT"
msgstr ""

#: ../../../filesystems/nilfs2.rst:104
msgid ""
"Remove checkpoint from NILFS2 file system. This ioctl is used in rmcp "
"utility."
msgstr ""

#: ../../../filesystems/nilfs2.rst:107
msgid "NILFS_IOCTL_GET_CPINFO"
msgstr ""

#: ../../../filesystems/nilfs2.rst:107
msgid ""
"Return info about requested checkpoints. This ioctl is used in lscp utility "
"and by nilfs_cleanerd daemon."
msgstr ""

#: ../../../filesystems/nilfs2.rst:111
msgid "NILFS_IOCTL_GET_CPSTAT"
msgstr ""

#: ../../../filesystems/nilfs2.rst:111
msgid ""
"Return checkpoints statistics. This ioctl is used by lscp, rmcp utilities "
"and by nilfs_cleanerd daemon."
msgstr ""

#: ../../../filesystems/nilfs2.rst:115
msgid "NILFS_IOCTL_GET_SUINFO"
msgstr ""

#: ../../../filesystems/nilfs2.rst:115
msgid ""
"Return segment usage info about requested segments. This ioctl is used in "
"lssu, nilfs_resize utilities and by nilfs_cleanerd daemon."
msgstr ""

#: ../../../filesystems/nilfs2.rst:120
msgid "NILFS_IOCTL_SET_SUINFO"
msgstr ""

#: ../../../filesystems/nilfs2.rst:120
msgid ""
"Modify segment usage info of requested segments. This ioctl is used by "
"nilfs_cleanerd daemon to skip unnecessary cleaning operation of segments and "
"reduce performance penalty or wear of flash device due to redundant move of "
"in-use blocks."
msgstr ""

#: ../../../filesystems/nilfs2.rst:127
msgid "NILFS_IOCTL_GET_SUSTAT"
msgstr ""

#: ../../../filesystems/nilfs2.rst:127
msgid ""
"Return segment usage statistics. This ioctl is used in lssu, nilfs_resize "
"utilities and by nilfs_cleanerd daemon."
msgstr ""

#: ../../../filesystems/nilfs2.rst:131
msgid "NILFS_IOCTL_GET_VINFO"
msgstr ""

#: ../../../filesystems/nilfs2.rst:131
msgid ""
"Return information on virtual block addresses. This ioctl is used by "
"nilfs_cleanerd daemon."
msgstr ""

#: ../../../filesystems/nilfs2.rst:134
msgid "NILFS_IOCTL_GET_BDESCS"
msgstr ""

#: ../../../filesystems/nilfs2.rst:134
msgid ""
"Return information about descriptors of disk block numbers. This ioctl is "
"used by nilfs_cleanerd daemon."
msgstr ""

#: ../../../filesystems/nilfs2.rst:138
msgid "NILFS_IOCTL_CLEAN_SEGMENTS"
msgstr ""

#: ../../../filesystems/nilfs2.rst:138
msgid ""
"Do garbage collection operation in the environment of requested parameters "
"from userspace. This ioctl is used by nilfs_cleanerd daemon."
msgstr ""

#: ../../../filesystems/nilfs2.rst:143
msgid "NILFS_IOCTL_SYNC"
msgstr ""

#: ../../../filesystems/nilfs2.rst:143
msgid "Make a checkpoint. This ioctl is used in mkcp utility."
msgstr ""

#: ../../../filesystems/nilfs2.rst:146
msgid "NILFS_IOCTL_RESIZE"
msgstr ""

#: ../../../filesystems/nilfs2.rst:146
msgid "Resize NILFS2 volume. This ioctl is used by nilfs_resize utility."
msgstr ""

#: ../../../filesystems/nilfs2.rst:149
msgid "NILFS_IOCTL_SET_ALLOC_RANGE"
msgstr ""

#: ../../../filesystems/nilfs2.rst:149
msgid ""
"Define lower limit of segments in bytes and upper limit of segments in "
"bytes. This ioctl is used by nilfs_resize utility."
msgstr ""

#: ../../../filesystems/nilfs2.rst:155
msgid "NILFS2 usage"
msgstr ""

#: ../../../filesystems/nilfs2.rst:157
msgid "To use nilfs2 as a local file system, simply::"
msgstr ""

#: ../../../filesystems/nilfs2.rst:162
msgid ""
"This will also invoke the cleaner through the mount helper program (mount."
"nilfs2)."
msgstr ""

#: ../../../filesystems/nilfs2.rst:165
msgid ""
"Checkpoints and snapshots are managed by the following commands. Their "
"manpages are included in the nilfs-utils package above."
msgstr ""

#: ../../../filesystems/nilfs2.rst:169
msgid "lscp"
msgstr ""

#: ../../../filesystems/nilfs2.rst:169
msgid "list checkpoints or snapshots."
msgstr ""

#: ../../../filesystems/nilfs2.rst:170
msgid "mkcp"
msgstr ""

#: ../../../filesystems/nilfs2.rst:170
msgid "make a checkpoint or a snapshot."
msgstr ""

#: ../../../filesystems/nilfs2.rst:171
msgid "chcp"
msgstr ""

#: ../../../filesystems/nilfs2.rst:171
msgid "change an existing checkpoint to a snapshot or vice versa."
msgstr ""

#: ../../../filesystems/nilfs2.rst:172
msgid "rmcp"
msgstr ""

#: ../../../filesystems/nilfs2.rst:172
msgid "invalidate specified checkpoint(s)."
msgstr ""

#: ../../../filesystems/nilfs2.rst:175
msgid "To mount a snapshot::"
msgstr ""

#: ../../../filesystems/nilfs2.rst:179
msgid "where <cno> is the checkpoint number of the snapshot."
msgstr ""

#: ../../../filesystems/nilfs2.rst:181
msgid "To unmount the NILFS2 mount point or snapshot, simply::"
msgstr ""

#: ../../../filesystems/nilfs2.rst:185
msgid ""
"Then, the cleaner daemon is automatically shut down by the umount helper "
"program (umount.nilfs2)."
msgstr ""

#: ../../../filesystems/nilfs2.rst:189
msgid "Disk format"
msgstr ""

#: ../../../filesystems/nilfs2.rst:191
msgid ""
"A nilfs2 volume is equally divided into a number of segments except for the "
"super block (SB) and segment #0.  A segment is the container of logs.  Each "
"log is composed of summary information blocks, payload blocks, and an "
"optional super root block (SR)::"
msgstr ""

#: ../../../filesystems/nilfs2.rst:212
msgid ""
"The payload blocks are organized per file, and each file consists of data "
"blocks and B-tree node blocks::"
msgstr ""

#: ../../../filesystems/nilfs2.rst:221
msgid ""
"Since only the modified blocks are written in the log, it may have files "
"without data blocks or B-tree node blocks."
msgstr ""

#: ../../../filesystems/nilfs2.rst:224
msgid ""
"The organization of the blocks is recorded in the summary information "
"blocks, which contains a header structure (nilfs_segment_summary), per file "
"structures (nilfs_finfo), and per block structures (nilfs_binfo)::"
msgstr ""

#: ../../../filesystems/nilfs2.rst:233
msgid ""
"The logs include regular files, directory files, symbolic link files and "
"several meta data files.  The meta data files are the files used to maintain "
"file system meta data.  The current version of NILFS2 uses the following "
"meta data files::"
msgstr ""

#: ../../../filesystems/nilfs2.rst:245
msgid "The following figure shows a typical organization of the logs::"
msgstr ""

#: ../../../filesystems/nilfs2.rst:252
msgid ""
"To stride over segment boundaries, this sequence of files may be split into "
"multiple logs.  The sequence of logs that should be treated as logically one "
"log, is delimited with flags marked in the segment summary.  The recovery "
"code of nilfs2 looks this boundary information to ensure atomicity of "
"updates."
msgstr ""

#: ../../../filesystems/nilfs2.rst:258
msgid ""
"The super root block is inserted for every checkpoints.  It includes three "
"special inodes, inodes for the DAT, cpfile, and sufile.  Inodes of regular "
"files, directories, symlinks and other special files, are included in the "
"ifile.  The inode of ifile itself is included in the corresponding "
"checkpoint entry in the cpfile.  Thus, the hierarchy among NILFS2 files can "
"be depicted as follows::"
msgstr ""

#: ../../../filesystems/nilfs2.rst:280
msgid ""
"For detail on the format of each file, please see nilfs2_ondisk.h located at "
"include/uapi/linux directory."
msgstr ""

#: ../../../filesystems/nilfs2.rst:283
msgid ""
"There are no patents or other intellectual property that we protect with "
"regard to the design of NILFS2.  It is allowed to replicate the design in "
"hopes that other operating systems could share (mount, read, write, etc.) "
"data stored in this format."
msgstr ""
