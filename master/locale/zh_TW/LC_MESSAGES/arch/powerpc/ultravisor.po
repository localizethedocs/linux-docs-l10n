# SOME DESCRIPTIVE TITLE.
# Copyright (C) The kernel development community
# This file is distributed under the same license as the The Linux Kernel package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: The Linux Kernel master\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2025-09-27 13:53+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: zh_TW\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../../arch/powerpc/ultravisor.rst:6
msgid "Protected Execution Facility"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:9
msgid "Contents"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:12
msgid "Introduction"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:14
msgid ""
"Protected Execution Facility (PEF) is an architectural change for POWER 9 "
"that enables Secure Virtual Machines (SVMs). DD2.3 chips (PVR=0x004e1203) or "
"greater will be PEF-capable. A new ISA release will include the PEF RFC02487 "
"changes."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:19
msgid ""
"When enabled, PEF adds a new higher privileged mode, called Ultravisor mode, "
"to POWER architecture. Along with the new mode there is new firmware called "
"the Protected Execution Ultravisor (or Ultravisor for short). Ultravisor "
"mode is the highest privileged mode in POWER architecture."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:26
msgid "Privilege States"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:28
#: ../../../arch/powerpc/ultravisor.rst:78
#: ../../../arch/powerpc/ultravisor.rst:92
msgid "Problem"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:30
msgid "Supervisor"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:32
#: ../../../arch/powerpc/ultravisor.rst:96
msgid "Hypervisor"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:34
#: ../../../arch/powerpc/ultravisor.rst:82
msgid "Ultravisor"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:37
msgid ""
"PEF protects SVMs from the hypervisor, privileged users, and other VMs in "
"the system. SVMs are protected while at rest and can only be executed by an "
"authorized machine. All virtual machines utilize hypervisor services. The "
"Ultravisor filters calls between the SVMs and the hypervisor to assure that "
"information does not accidentally leak. All hypercalls except H_RANDOM are "
"reflected to the hypervisor. H_RANDOM is not reflected to prevent the "
"hypervisor from influencing random values in the SVM."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:46
msgid ""
"To support this there is a refactoring of the ownership of resources in the "
"CPU. Some of the resources which were previously hypervisor privileged are "
"now ultravisor privileged."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:51
msgid "Hardware"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:53
msgid "The hardware changes include the following:"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:55
msgid ""
"There is a new bit in the MSR that determines whether the current process is "
"running in secure mode, MSR(S) bit 41. MSR(S)=1, process is in secure mode, "
"MSR(s)=0 process is in normal mode."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:59
msgid "The MSR(S) bit can only be set by the Ultravisor."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:61
msgid ""
"HRFID cannot be used to set the MSR(S) bit. If the hypervisor needs to "
"return to a SVM it must use an ultracall. It can determine if the VM it is "
"returning to is secure."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:65
msgid ""
"There is a new Ultravisor privileged register, SMFCTRL, which has an enable/"
"disable bit SMFCTRL(E)."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:68
msgid ""
"The privilege of a process is now determined by three MSR bits, MSR(S, HV, "
"PR). In each of the tables below the modes are listed from least privilege "
"to highest privilege. The higher privilege modes can access all the "
"resources of the lower privilege modes."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:73
msgid "**Secure Mode MSR Settings**"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:76
#: ../../../arch/powerpc/ultravisor.rst:90
msgid "S"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:76
#: ../../../arch/powerpc/ultravisor.rst:90
msgid "HV"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:76
#: ../../../arch/powerpc/ultravisor.rst:90
msgid "PR"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:76
#: ../../../arch/powerpc/ultravisor.rst:90
msgid "Privilege"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:78
#: ../../../arch/powerpc/ultravisor.rst:80
#: ../../../arch/powerpc/ultravisor.rst:82
#: ../../../arch/powerpc/ultravisor.rst:84
#: ../../../arch/powerpc/ultravisor.rst:92
#: ../../../arch/powerpc/ultravisor.rst:96
#: ../../../arch/powerpc/ultravisor.rst:98
msgid "1"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:78
#: ../../../arch/powerpc/ultravisor.rst:80
#: ../../../arch/powerpc/ultravisor.rst:82
#: ../../../arch/powerpc/ultravisor.rst:92
#: ../../../arch/powerpc/ultravisor.rst:94
#: ../../../arch/powerpc/ultravisor.rst:96
#: ../../../arch/powerpc/ultravisor.rst:98
msgid "0"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:80
#: ../../../arch/powerpc/ultravisor.rst:94
msgid "Privileged(OS)"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:84
msgid "Reserved"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:87
msgid "**Normal Mode MSR Settings**"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:98
msgid "Problem (Host)"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:101
msgid ""
"Memory is partitioned into secure and normal memory. Only processes that are "
"running in secure mode can access secure memory."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:104
msgid ""
"The hardware does not allow anything that is not running secure to access "
"secure memory. This means that the Hypervisor cannot access the memory of "
"the SVM without using an ultracall (asking the Ultravisor). The Ultravisor "
"will only allow the hypervisor to see the SVM memory encrypted."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:110
msgid ""
"I/O systems are not allowed to directly address secure memory. This limits "
"the SVMs to virtual I/O only."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:113
msgid ""
"The architecture allows the SVM to share pages of memory with the hypervisor "
"that are not protected with encryption. However, this sharing must be "
"initiated by the SVM."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:117
msgid ""
"When a process is running in secure mode all hypercalls (syscall lev=1) go "
"to the Ultravisor."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:120
msgid "When a process is in secure mode all interrupts go to the Ultravisor."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:123
msgid ""
"The following resources have become Ultravisor privileged and require an "
"Ultravisor interface to manipulate:"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:126
msgid "Processor configurations registers (SCOMs)."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:128
msgid "Stop state information."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:130
msgid ""
"The debug registers CIABR, DAWR, and DAWRX when SMFCTRL(D) is set. If "
"SMFCTRL(D) is not set they do not work in secure mode. When set, reading and "
"writing requires an Ultravisor call, otherwise that will cause a Hypervisor "
"Emulation Assistance interrupt."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:135
msgid ""
"PTCR and partition table entries (partition table is in secure memory). An "
"attempt to write to PTCR will cause a Hypervisor Emulation Assistance "
"interrupt."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:139
msgid ""
"LDBAR (LD Base Address Register) and IMC (In-Memory Collection) non-"
"architected registers. An attempt to write to them will cause a Hypervisor "
"Emulation Assistance interrupt."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:143
msgid ""
"Paging for an SVM, sharing of memory with Hypervisor for an SVM. (Including "
"Virtual Processor Area (VPA) and virtual I/O)."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:148
msgid "Software/Microcode"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:150
msgid "The software changes include:"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:152
msgid ""
"SVMs are created from normal VM using (open source) tooling supplied by IBM."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:155
msgid ""
"All SVMs start as normal VMs and utilize an ultracall, UV_ESM (Enter Secure "
"Mode), to make the transition."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:158
msgid ""
"When the UV_ESM ultracall is made the Ultravisor copies the VM into secure "
"memory, decrypts the verification information, and checks the integrity of "
"the SVM. If the integrity check passes the Ultravisor passes control in "
"secure mode."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:163
msgid ""
"The verification information includes the pass phrase for the encrypted disk "
"associated with the SVM. This pass phrase is given to the SVM when requested."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:167
msgid ""
"The Ultravisor is not involved in protecting the encrypted disk of the SVM "
"while at rest."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:170
msgid ""
"For external interrupts the Ultravisor saves the state of the SVM, and "
"reflects the interrupt to the hypervisor for processing. For hypercalls, the "
"Ultravisor inserts neutral state into all registers not needed for the "
"hypercall then reflects the call to the hypervisor for processing. The "
"H_RANDOM hypercall is performed by the Ultravisor and not reflected."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:177
msgid "For virtual I/O to work bounce buffering must be done."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:179
msgid ""
"The Ultravisor uses AES (IAPM) for protection of SVM memory. IAPM is a mode "
"of AES that provides integrity and secrecy concurrently."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:182
msgid ""
"The movement of data between normal and secure pages is coordinated with the "
"Ultravisor by a new HMM plug-in in the Hypervisor."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:185
msgid ""
"The Ultravisor offers new services to the hypervisor and SVMs. These are "
"accessed through ultracalls."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:189
msgid "Terminology"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:191
msgid ""
"Hypercalls: special system calls used to request services from Hypervisor."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:194
msgid "Normal memory: Memory that is accessible to Hypervisor."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:196
msgid "Normal page: Page backed by normal memory and available to Hypervisor."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:199
msgid ""
"Shared page: A page backed by normal memory and available to both the "
"Hypervisor/QEMU and the SVM (i.e page has mappings in SVM and Hypervisor/"
"QEMU)."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:203
msgid "Secure memory: Memory that is accessible only to Ultravisor and SVMs."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:206
msgid ""
"Secure page: Page backed by secure memory and only available to Ultravisor "
"and SVM."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:209
msgid "SVM: Secure Virtual Machine."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:211
msgid ""
"Ultracalls: special system calls used to request services from Ultravisor."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:216
msgid "Ultravisor calls API"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:218
msgid ""
"This section describes Ultravisor calls (ultracalls) needed to support "
"Secure Virtual Machines (SVM)s and Paravirtualized KVM. The ultracalls allow "
"the SVMs and Hypervisor to request services from the Ultravisor such as "
"accessing a register or memory region that can only be accessed when running "
"in Ultravisor-privileged mode."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:224
msgid ""
"The specific service needed from an ultracall is specified in register R3 "
"(the first parameter to the ultracall). Other parameters to the ultracall, "
"if any, are specified in registers R4 through R12."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:228
msgid ""
"Return value of all ultracalls is in register R3. Other output values from "
"the ultracall, if any, are returned in registers R4 through R12. The only "
"exception to this register usage is the ``UV_RETURN`` ultracall described "
"below."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:233
msgid ""
"Each ultracall returns specific error codes, applicable in the context of "
"the ultracall. However, like with the PowerPC Architecture Platform "
"Reference (PAPR), if no specific error code is defined for a particular "
"situation, then the ultracall will fallback to an erroneous parameter-"
"position based code. i.e U_PARAMETER, U_P2, U_P3 etc depending on the "
"ultracall parameter that may have caused the error."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:240
msgid ""
"Some ultracalls involve transferring a page of data between Ultravisor and "
"Hypervisor.  Secure pages that are transferred from secure memory to normal "
"memory may be encrypted using dynamically generated keys. When the secure "
"pages are transferred back to secure memory, they may be decrypted using the "
"same dynamically generated keys. Generation and management of these keys "
"will be covered in a separate document."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:247
msgid ""
"For now this only covers ultracalls currently implemented and being used by "
"Hypervisor and SVMs but others can be added here when it makes sense."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:251
#: ../../../arch/powerpc/ultravisor.rst:871
msgid ""
"The full specification for all hypercalls/ultracalls will eventually be made "
"available in the public/OpenPower version of the PAPR specification."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:257
msgid ""
"If PEF is not enabled, the ultracalls will be redirected to the Hypervisor "
"which must handle/fail the calls."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:261
msgid "Ultracalls used by Hypervisor"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:263
msgid ""
"This section describes the virtual memory management ultracalls used by the "
"Hypervisor to manage SVMs."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:267
msgid "UV_PAGE_OUT"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:269
msgid ""
"Encrypt and move the contents of a page from secure memory to normal memory."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:273
#: ../../../arch/powerpc/ultravisor.rst:339
#: ../../../arch/powerpc/ultravisor.rst:406
#: ../../../arch/powerpc/ultravisor.rst:452
#: ../../../arch/powerpc/ultravisor.rst:514
#: ../../../arch/powerpc/ultravisor.rst:561
#: ../../../arch/powerpc/ultravisor.rst:613
#: ../../../arch/powerpc/ultravisor.rst:650
#: ../../../arch/powerpc/ultravisor.rst:688
#: ../../../arch/powerpc/ultravisor.rst:737
#: ../../../arch/powerpc/ultravisor.rst:782
#: ../../../arch/powerpc/ultravisor.rst:819
#: ../../../arch/powerpc/ultravisor.rst:886
#: ../../../arch/powerpc/ultravisor.rst:922
#: ../../../arch/powerpc/ultravisor.rst:960
#: ../../../arch/powerpc/ultravisor.rst:1020
#: ../../../arch/powerpc/ultravisor.rst:1079
msgid "Syntax"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:285
#: ../../../arch/powerpc/ultravisor.rst:351
#: ../../../arch/powerpc/ultravisor.rst:416
#: ../../../arch/powerpc/ultravisor.rst:462
#: ../../../arch/powerpc/ultravisor.rst:521
#: ../../../arch/powerpc/ultravisor.rst:573
#: ../../../arch/powerpc/ultravisor.rst:622
#: ../../../arch/powerpc/ultravisor.rst:658
#: ../../../arch/powerpc/ultravisor.rst:697
#: ../../../arch/powerpc/ultravisor.rst:746
#: ../../../arch/powerpc/ultravisor.rst:789
#: ../../../arch/powerpc/ultravisor.rst:828
#: ../../../arch/powerpc/ultravisor.rst:893
#: ../../../arch/powerpc/ultravisor.rst:929
#: ../../../arch/powerpc/ultravisor.rst:967
#: ../../../arch/powerpc/ultravisor.rst:1030
#: ../../../arch/powerpc/ultravisor.rst:1089
msgid "Return values"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:287
#: ../../../arch/powerpc/ultravisor.rst:353
#: ../../../arch/powerpc/ultravisor.rst:418
#: ../../../arch/powerpc/ultravisor.rst:464
#: ../../../arch/powerpc/ultravisor.rst:575
#: ../../../arch/powerpc/ultravisor.rst:624
#: ../../../arch/powerpc/ultravisor.rst:660
#: ../../../arch/powerpc/ultravisor.rst:699
#: ../../../arch/powerpc/ultravisor.rst:748
#: ../../../arch/powerpc/ultravisor.rst:791
#: ../../../arch/powerpc/ultravisor.rst:830
#: ../../../arch/powerpc/ultravisor.rst:895
#: ../../../arch/powerpc/ultravisor.rst:931
#: ../../../arch/powerpc/ultravisor.rst:969
#: ../../../arch/powerpc/ultravisor.rst:1032
#: ../../../arch/powerpc/ultravisor.rst:1091
msgid "One of the following values:"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:289
#: ../../../arch/powerpc/ultravisor.rst:355
#: ../../../arch/powerpc/ultravisor.rst:420
#: ../../../arch/powerpc/ultravisor.rst:466
#: ../../../arch/powerpc/ultravisor.rst:577
#: ../../../arch/powerpc/ultravisor.rst:626
#: ../../../arch/powerpc/ultravisor.rst:662
#: ../../../arch/powerpc/ultravisor.rst:701
#: ../../../arch/powerpc/ultravisor.rst:750
#: ../../../arch/powerpc/ultravisor.rst:793
msgid "U_SUCCESS     on success."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:290
#: ../../../arch/powerpc/ultravisor.rst:358
#: ../../../arch/powerpc/ultravisor.rst:421
#: ../../../arch/powerpc/ultravisor.rst:469
#: ../../../arch/powerpc/ultravisor.rst:578
#: ../../../arch/powerpc/ultravisor.rst:628
#: ../../../arch/powerpc/ultravisor.rst:664
msgid "U_PARAMETER   if ``lpid`` is invalid."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:291
msgid "U_P2          if ``dest_ra`` is invalid."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:292
msgid "U_P3          if the ``src_gpa`` address is invalid."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:293
#: ../../../arch/powerpc/ultravisor.rst:361
msgid "U_P4          if any bit in the ``flags`` is unrecognized"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:294
#: ../../../arch/powerpc/ultravisor.rst:362
msgid "U_P5          if the ``order`` parameter is unsupported."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:295
#: ../../../arch/powerpc/ultravisor.rst:425
#: ../../../arch/powerpc/ultravisor.rst:468
#: ../../../arch/powerpc/ultravisor.rst:584
#: ../../../arch/powerpc/ultravisor.rst:627
#: ../../../arch/powerpc/ultravisor.rst:663
#: ../../../arch/powerpc/ultravisor.rst:702
#: ../../../arch/powerpc/ultravisor.rst:751
#: ../../../arch/powerpc/ultravisor.rst:794
#: ../../../arch/powerpc/ultravisor.rst:833
msgid "U_FUNCTION    if functionality is not supported."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:296
msgid "U_BUSY        if page cannot be currently paged-out."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:299
#: ../../../arch/powerpc/ultravisor.rst:365
#: ../../../arch/powerpc/ultravisor.rst:429
#: ../../../arch/powerpc/ultravisor.rst:477
#: ../../../arch/powerpc/ultravisor.rst:527
#: ../../../arch/powerpc/ultravisor.rst:588
#: ../../../arch/powerpc/ultravisor.rst:633
#: ../../../arch/powerpc/ultravisor.rst:669
#: ../../../arch/powerpc/ultravisor.rst:708
#: ../../../arch/powerpc/ultravisor.rst:757
#: ../../../arch/powerpc/ultravisor.rst:798
#: ../../../arch/powerpc/ultravisor.rst:842
#: ../../../arch/powerpc/ultravisor.rst:901
#: ../../../arch/powerpc/ultravisor.rst:941
#: ../../../arch/powerpc/ultravisor.rst:983
#: ../../../arch/powerpc/ultravisor.rst:1040
#: ../../../arch/powerpc/ultravisor.rst:1099
msgid "Description"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:301
msgid ""
"Encrypt the contents of a secure-page and make it available to Hypervisor in "
"a normal page."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:304
msgid ""
"By default, the source page is unmapped from the SVM's partition- scoped "
"page table. But the Hypervisor can provide a hint to the Ultravisor to "
"retain the page mapping by setting the ``UV_SNAPSHOT`` flag in ``flags`` "
"parameter."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:309
msgid ""
"If the source page is already a shared page the call returns U_SUCCESS, "
"without doing anything."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:313
#: ../../../arch/powerpc/ultravisor.rst:387
#: ../../../arch/powerpc/ultravisor.rst:438
#: ../../../arch/powerpc/ultravisor.rst:484
#: ../../../arch/powerpc/ultravisor.rst:545
#: ../../../arch/powerpc/ultravisor.rst:594
#: ../../../arch/powerpc/ultravisor.rst:639
#: ../../../arch/powerpc/ultravisor.rst:674
#: ../../../arch/powerpc/ultravisor.rst:721
#: ../../../arch/powerpc/ultravisor.rst:771
#: ../../../arch/powerpc/ultravisor.rst:808
#: ../../../arch/powerpc/ultravisor.rst:849
#: ../../../arch/powerpc/ultravisor.rst:910
#: ../../../arch/powerpc/ultravisor.rst:947
#: ../../../arch/powerpc/ultravisor.rst:1005
#: ../../../arch/powerpc/ultravisor.rst:1056
#: ../../../arch/powerpc/ultravisor.rst:1108
msgid "Use cases"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:315
msgid ""
"QEMU attempts to access an address belonging to the SVM but the page frame "
"for that address is not mapped into QEMU's address space. In this case, the "
"Hypervisor will allocate a page frame, map it into QEMU's address space and "
"issue the ``UV_PAGE_OUT`` call to retrieve the encrypted contents of the "
"page."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:321
msgid ""
"When Ultravisor runs low on secure memory and it needs to page-out an LRU "
"page. In this case, Ultravisor will issue the ``H_SVM_PAGE_OUT`` hypercall "
"to the Hypervisor. The Hypervisor will then allocate a normal page and issue "
"the ``UV_PAGE_OUT`` ultracall and the Ultravisor will encrypt and move the "
"contents of the secure page into the normal page."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:328
msgid ""
"When Hypervisor accesses SVM data, the Hypervisor requests the Ultravisor to "
"transfer the corresponding page into a insecure page, which the Hypervisor "
"can access. The data in the normal page will be encrypted though."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:334
msgid "UV_PAGE_IN"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:336
#: ../../../arch/powerpc/ultravisor.rst:1017
msgid "Move the contents of a page from normal memory to secure memory."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:356
msgid "U_BUSY        if page cannot be currently paged-in."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:357
msgid "U_FUNCTION    if functionality is not supported"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:359
msgid "U_P2          if ``src_ra`` is invalid."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:360
msgid "U_P3          if the ``dest_gpa`` address is invalid."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:367
msgid ""
"Move the contents of the page identified by ``src_ra`` from normal memory to "
"secure memory and map it to the guest physical address ``dest_gpa``."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:371
msgid ""
"If `dest_gpa` refers to a shared address, map the page into the partition-"
"scoped page-table of the SVM.  If `dest_gpa` is not shared, copy the "
"contents of the page into the corresponding secure page. Depending on the "
"context, decrypt the page before being copied."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:376
msgid ""
"The caller provides the attributes of the page through the ``flags`` "
"parameter. Valid values for ``flags`` are:"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:379
msgid "CACHE_INHIBITED"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:380
msgid "CACHE_ENABLED"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:381
msgid "WRITE_PROTECTION"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:383
msgid ""
"The Hypervisor must pin the page in memory before making ``UV_PAGE_IN`` "
"ultracall."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:389
msgid ""
"When a normal VM switches to secure mode, all its pages residing in normal "
"memory, are moved into secure memory."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:392
msgid ""
"When an SVM requests to share a page with Hypervisor the Hypervisor "
"allocates a page and informs the Ultravisor."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:395
msgid ""
"When an SVM accesses a secure page that has been paged-out, Ultravisor "
"invokes the Hypervisor to locate the page. After locating the page, the "
"Hypervisor uses UV_PAGE_IN to make the page available to Ultravisor."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:401
msgid "UV_PAGE_INVAL"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:403
msgid "Invalidate the Ultravisor mapping of a page."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:422
msgid "U_P2          if ``guest_pa`` is invalid (or corresponds to a secure"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:423
msgid "page mapping)."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:424
msgid "U_P3          if the ``order`` is invalid."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:426
msgid "U_BUSY        if page cannot be currently invalidated."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:431
msgid ""
"This ultracall informs Ultravisor that the page mapping in Hypervisor "
"corresponding to the given guest physical address has been invalidated and "
"that the Ultravisor should not access the page. If the specified "
"``guest_pa`` corresponds to a secure page, Ultravisor will ignore the "
"attempt to invalidate the page and return U_P2."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:440
msgid ""
"When a shared page is unmapped from the QEMU's page table, possibly because "
"it is paged-out to disk, Ultravisor needs to know that the page should not "
"be accessed from its side too."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:446
msgid "UV_WRITE_PATE"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:448
msgid ""
"Validate and write the partition table entry (PATE) for a given partition."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:467
msgid "U_BUSY        if PATE cannot be currently written to."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:470
msgid "U_P2          if ``dw0`` is invalid."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:471
msgid "U_P3          if the ``dw1`` address is invalid."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:472
msgid "U_PERMISSION  if the Hypervisor is attempting to change the PATE"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:473
msgid ""
"of a secure virtual machine or if called from a context other than "
"Hypervisor."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:479
msgid ""
"Validate and write a LPID and its partition-table-entry for the given LPID.  "
"If the LPID is already allocated and initialized, this call results in "
"changing the partition table entry."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:486
msgid ""
"The Partition table resides in Secure memory and its entries, called PATE "
"(Partition Table Entries), point to the partition- scoped page tables for "
"the Hypervisor as well as each of the virtual machines (both secure and "
"normal). The Hypervisor operates in partition 0 and its partition-scoped "
"page tables reside in normal memory."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:493
msgid ""
"This ultracall allows the Hypervisor to register the partition- scoped and "
"process-scoped page table entries for the Hypervisor and other partitions "
"(virtual machines) with the Ultravisor."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:497
msgid ""
"If the value of the PATE for an existing partition (VM) changes, the TLB "
"cache for the partition is flushed."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:500
msgid ""
"The Hypervisor is responsible for allocating LPID. The LPID and its PATE "
"entry are registered together.  The Hypervisor manages the PATE entries for "
"a normal VM and can change the PATE entry anytime. Ultravisor manages the "
"PATE entries for an SVM and Hypervisor is not allowed to modify them."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:507
msgid "UV_RETURN"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:509
msgid ""
"Return control from the Hypervisor back to the Ultravisor after processing "
"an hypercall or interrupt that was forwarded (aka *reflected*) to the "
"Hypervisor."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:523
msgid ""
"This call never returns to Hypervisor on success.  It returns U_INVALID if "
"ultracall is not made from a Hypervisor context."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:529
msgid ""
"When an SVM makes an hypercall or incurs some other exception, the "
"Ultravisor usually forwards (aka *reflects*) the exceptions to the "
"Hypervisor.  After processing the exception, Hypervisor uses the "
"``UV_RETURN`` ultracall to return control back to the SVM."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:534
msgid "The expected register state on entry to this ultracall is:"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:536
msgid "Non-volatile registers are restored to their original values."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:537
msgid ""
"If returning from an hypercall, register R0 contains the return value "
"(**unlike other ultracalls**) and, registers R4 through R12 contain any "
"output values of the hypercall."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:540
msgid "R3 contains the ultracall number, i.e UV_RETURN."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:541
msgid ""
"If returning with a synthesized interrupt, R2 contains the synthesized "
"interrupt number."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:547
msgid ""
"Ultravisor relies on the Hypervisor to provide several services to the SVM "
"such as processing hypercall and other exceptions. After processing the "
"exception, Hypervisor uses UV_RETURN to return control back to the "
"Ultravisor."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:552
msgid "Hypervisor has to use this ultracall to return control to the SVM."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:556
msgid "UV_REGISTER_MEM_SLOT"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:558
msgid "Register an SVM address-range with specified properties."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:579
msgid "U_P2          if ``start_gpa`` is invalid."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:580
msgid "U_P3          if ``size`` is invalid."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:581
msgid "U_P4          if any bit in the ``flags`` is unrecognized."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:582
msgid "U_P5          if the ``slotid`` parameter is unsupported."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:583
#: ../../../arch/powerpc/ultravisor.rst:630
msgid "U_PERMISSION  if called from context other than Hypervisor."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:590
msgid ""
"Register a memory range for an SVM.  The memory range starts at the guest "
"physical address ``start_gpa`` and is ``size`` bytes long."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:597
msgid ""
"When a virtual machine goes secure, all the memory slots managed by the "
"Hypervisor move into secure memory. The Hypervisor iterates through each of "
"memory slots, and registers the slot with Ultravisor.  Hypervisor may "
"discard some slots such as those used for firmware (SLOF)."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:603
msgid "When new memory is hot-plugged, a new memory slot gets registered."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:607
msgid "UV_UNREGISTER_MEM_SLOT"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:609
msgid ""
"Unregister an SVM address-range that was previously registered using "
"UV_REGISTER_MEM_SLOT."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:629
msgid "U_P2          if ``slotid`` is invalid."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:635
msgid ""
"Release the memory slot identified by ``slotid`` and free any resources "
"allocated towards the reservation."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:641
msgid "Memory hot-remove."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:645
msgid "UV_SVM_TERMINATE"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:647
msgid "Terminate an SVM and release its resources."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:665
#: ../../../arch/powerpc/ultravisor.rst:752
#: ../../../arch/powerpc/ultravisor.rst:834
msgid "U_INVALID     if VM is not secure."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:666
msgid "U_PERMISSION  if not called from a Hypervisor context."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:671
msgid "Terminate an SVM and release all its resources."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:676
msgid "Called by Hypervisor when terminating an SVM."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:680
msgid "Ultracalls used by SVM"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:683
msgid "UV_SHARE_PAGE"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:685
msgid "Share a set of guest physical pages with the Hypervisor."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:703
msgid "U_INVALID     if the VM is not secure."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:704
#: ../../../arch/powerpc/ultravisor.rst:753
msgid "U_PARAMETER   if ``gfn`` is invalid."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:705
#: ../../../arch/powerpc/ultravisor.rst:754
msgid "U_P2          if ``num`` is invalid."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:710
msgid ""
"Share the ``num`` pages starting at guest physical frame number ``gfn`` with "
"the Hypervisor. Assume page size is PAGE_SIZE bytes. Zero the pages before "
"returning."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:714
msgid ""
"If the address is already backed by a secure page, unmap the page and back "
"it with an insecure page, with the help of the Hypervisor. If it is not "
"backed by any page yet, mark the PTE as insecure and back it with an "
"insecure page when the address is accessed. If it is already backed by an "
"insecure page, zero the page and return."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:723
msgid ""
"The Hypervisor cannot access the SVM pages since they are backed by secure "
"pages. Hence an SVM must explicitly request Ultravisor for pages it can "
"share with Hypervisor."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:727
msgid ""
"Shared pages are needed to support virtio and Virtual Processor Area (VPA) "
"in SVMs."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:732
msgid "UV_UNSHARE_PAGE"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:734
msgid "Restore a shared SVM page to its initial state."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:759
msgid ""
"Stop sharing ``num`` pages starting at ``gfn`` with the Hypervisor. Assume "
"that the page size is PAGE_SIZE. Zero the pages before returning."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:763
msgid ""
"If the address is already backed by an insecure page, unmap the page and "
"back it with a secure page. Inform the Hypervisor to release reference to "
"its shared page. If the address is not backed by a page yet, mark the PTE as "
"secure and back it with a secure page when that address is accessed. If it "
"is already backed by an secure page zero the page and return."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:773
msgid "The SVM may decide to unshare a page from the Hypervisor."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:777
msgid "UV_UNSHARE_ALL_PAGES"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:779
msgid "Unshare all pages the SVM has shared with Hypervisor."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:795
msgid "U_INVAL       if VM is not secure."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:800
msgid ""
"Unshare all shared pages from the Hypervisor. All unshared pages are zeroed "
"on return. Only pages explicitly shared by the SVM with the Hypervisor "
"(using UV_SHARE_PAGE ultracall) are unshared. Ultravisor may internally "
"share some pages with the Hypervisor without explicit request from the SVM.  "
"These pages will not be unshared by this ultracall."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:810
msgid ""
"This call is needed when ``kexec`` is used to boot a different kernel. It "
"may also be needed during SVM reset."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:814
msgid "UV_ESM"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:816
msgid "Secure the virtual machine (*enter secure mode*)."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:832
msgid "U_SUCCESS     on success (including if VM is already secure)."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:835
msgid "U_PARAMETER   if ``esm_blob_addr`` is invalid."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:836
msgid "U_P2          if ``fdt`` is invalid."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:837
msgid "U_PERMISSION  if any integrity checks fail."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:838
msgid "U_RETRY       insufficient memory to create SVM."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:839
msgid "U_NO_KEY      symmetric key unavailable."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:844
msgid ""
"Secure the virtual machine. On successful completion, return control to the "
"virtual machine at the address specified in the ESM blob."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:851
msgid "A normal virtual machine can choose to switch to a secure mode."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:854
msgid "Hypervisor Calls API"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:856
msgid ""
"This document describes the Hypervisor calls (hypercalls) that are needed to "
"support the Ultravisor. Hypercalls are services provided by the Hypervisor "
"to virtual machines and Ultravisor."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:860
msgid ""
"Register usage for these hypercalls is identical to that of the other "
"hypercalls defined in the Power Architecture Platform Reference (PAPR) "
"document.  i.e on input, register R3 identifies the specific service that is "
"being requested and registers R4 through R11 contain additional parameters "
"to the hypercall, if any. On output, register R3 contains the return value "
"and registers R4 through R9 contain any other output values from the "
"hypercall."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:868
msgid ""
"This document only covers hypercalls currently implemented/planned for "
"Ultravisor usage but others can be added here when it makes sense."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:876
msgid "Hypervisor calls to support Ultravisor"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:878
msgid "Following are the set of hypercalls needed to support Ultravisor."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:881
msgid "H_SVM_INIT_START"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:883
msgid "Begin the process of converting a normal virtual machine into an SVM."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:897
msgid "H_SUCCESS      on success."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:898
msgid "H_STATE        if the VM is not in a position to switch to secure."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:903
msgid ""
"Initiate the process of securing a virtual machine. This involves "
"coordinating with the Ultravisor, using ultracalls, to allocate resources in "
"the Ultravisor for the new SVM, transferring the VM's pages from normal to "
"secure memory etc. When the process is completed, Ultravisor issues the "
"H_SVM_INIT_DONE hypercall."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:912
msgid ""
"Ultravisor uses this hypercall to inform Hypervisor that a VM has initiated "
"the process of switching to secure mode."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:917
msgid "H_SVM_INIT_DONE"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:919
msgid "Complete the process of securing an SVM."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:933
msgid "H_SUCCESS             on success."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:934
msgid "H_UNSUPPORTED         if called from the wrong context (e.g."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:935
msgid "from an SVM or before an H_SVM_INIT_START hypercall)."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:937
msgid "H_STATE               if the hypervisor could not successfully"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:938
msgid "transition the VM to Secure VM."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:943
msgid ""
"Complete the process of securing a virtual machine. This call must be made "
"after a prior call to ``H_SVM_INIT_START`` hypercall."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:949
msgid ""
"On successfully securing a virtual machine, the Ultravisor informs "
"Hypervisor about it. Hypervisor can use this call to finish setting up its "
"internal state for this virtual machine."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:955
msgid "H_SVM_INIT_ABORT"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:957
msgid "Abort the process of securing an SVM."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:971
msgid "H_PARAMETER           on successfully cleaning up the state,"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:972
msgid ""
"Hypervisor will return this value to the **guest**, to indicate that the "
"underlying UV_ESM ultracall failed."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:976
msgid "H_STATE               if called after a VM has gone secure (i.e"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:977
msgid "H_SVM_INIT_DONE hypercall was successful)."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:979
msgid "H_UNSUPPORTED         if called from a wrong context (e.g. from a"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:980
msgid "normal VM)."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:985
msgid ""
"Abort the process of securing a virtual machine. This call must be made "
"after a prior call to ``H_SVM_INIT_START`` hypercall and before a call to "
"``H_SVM_INIT_DONE``."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:989
msgid ""
"On entry into this hypercall the non-volatile GPRs and FPRs are expected to "
"contain the values they had at the time the VM issued the UV_ESM ultracall. "
"Further ``SRR0`` is expected to contain the address of the instruction after "
"the ``UV_ESM`` ultracall and ``SRR1`` the MSR value with which to return to "
"the VM."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:995
msgid ""
"This hypercall will cleanup any partial state that was established for the "
"VM since the prior ``H_SVM_INIT_START`` hypercall, including paging out "
"pages that were paged-into secure memory, and issue the ``UV_SVM_TERMINATE`` "
"ultracall to terminate the VM."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:1000
msgid ""
"After the partial state is cleaned up, control returns to the VM (**not "
"Ultravisor**), at the address specified in ``SRR0`` with the MSR values set "
"to the value in ``SRR1``."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:1007
msgid ""
"If after a successful call to ``H_SVM_INIT_START``, the Ultravisor "
"encounters an error while securing a virtual machine, either due to lack of "
"resources or because the VM's security information could not be validated, "
"Ultravisor informs the Hypervisor about it. Hypervisor should use this call "
"to clean up any internal state for this virtual machine and return to the VM."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:1015
msgid "H_SVM_PAGE_IN"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:1034
#: ../../../arch/powerpc/ultravisor.rst:1093
msgid "H_SUCCESS     on success."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:1035
#: ../../../arch/powerpc/ultravisor.rst:1094
msgid "H_PARAMETER   if ``guest_pa`` is invalid."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:1036
#: ../../../arch/powerpc/ultravisor.rst:1095
msgid "H_P2          if ``flags`` is invalid."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:1037
msgid "H_P3          if ``order`` of page is invalid."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:1042
msgid ""
"Retrieve the content of the page, belonging to the VM at the specified guest "
"physical address."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:1045
msgid "Only valid value(s) in ``flags`` are:"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:1047
msgid ""
"H_PAGE_IN_SHARED which indicates that the page is to be shared with the "
"Ultravisor."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:1050
msgid ""
"H_PAGE_IN_NONSHARED indicates that the UV is not anymore interested in the "
"page. Applicable if the page is a shared page."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:1053
msgid "The ``order`` parameter must correspond to the configured page size."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:1058
msgid ""
"When a normal VM becomes a secure VM (using the UV_ESM ultracall), the "
"Ultravisor uses this hypercall to move contents of each page of the VM from "
"normal memory to secure memory."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:1062
msgid ""
"Ultravisor uses this hypercall to ask Hypervisor to provide a page in normal "
"memory that can be shared between the SVM and Hypervisor."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:1065
msgid ""
"Ultravisor uses this hypercall to page-in a paged-out page. This can happen "
"when the SVM touches a paged-out page."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:1068
msgid ""
"If SVM wants to disable sharing of pages with Hypervisor, it can inform "
"Ultravisor to do so. Ultravisor will then use this hypercall and inform "
"Hypervisor that it has released access to the normal page."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:1074
msgid "H_SVM_PAGE_OUT"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:1076
msgid "Move the contents of the page to normal memory."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:1096
msgid "H_P3          if ``order`` is invalid."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:1101
msgid ""
"Move the contents of the page identified by ``guest_pa`` to normal memory."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:1104
msgid ""
"Currently ``flags`` is unused and must be set to 0. The ``order`` parameter "
"must correspond to the configured page size."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:1110
msgid ""
"If Ultravisor is running low on secure pages, it can move the contents of "
"some secure pages, into normal pages using this hypercall. The content will "
"be encrypted."
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:1115
msgid "References"
msgstr ""

#: ../../../arch/powerpc/ultravisor.rst:1117
msgid ""
"`Supporting Protected Computing on IBM Power Architecture <https://developer."
"ibm.com/articles/l-support-protected-computing/>`_"
msgstr ""
